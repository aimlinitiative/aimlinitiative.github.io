(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var zm={exports:{}},Wl={};var p0;function Sx(){if(p0)return Wl;p0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var g0;function Ax(){return g0||(g0=1,zm.exports=Sx()),zm.exports}var v=Ax(),Bm={exports:{}},Ae={};var y0;function xx(){if(y0)return Ae;y0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function Y(k,te,le){this.props=k,this.context=te,this.refs=L,this.updater=le||F}Y.prototype.isReactComponent={},Y.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},Y.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function J(){}J.prototype=Y.prototype;function ie(k,te,le){this.props=k,this.context=te,this.refs=L,this.updater=le||F}var se=ie.prototype=new J;se.constructor=ie,z(se,Y.prototype),se.isPureReactComponent=!0;var he=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(k,te,le){var fe=le.ref;return{$$typeof:i,type:k,key:te,ref:fe!==void 0?fe:null,props:le}}function M(k,te){return R(k.type,te,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function U(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return te[le]})}var C=/\/+/g;function Ye(k,te){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):te.toString(36)}function gt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(oe,oe):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,te,le,fe,Te){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(Ce){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case i:case e:Be=!0;break;case E:return Be=k._init,$(Be(k._payload),te,le,fe,Te)}}if(Be)return Te=Te(k),Be=fe===""?"."+Ye(k,0):fe,he(Te)?(le="",Be!=null&&(le=Be.replace(C,"$&/")+"/"),$(Te,te,le,"",function(ks){return ks})):Te!=null&&(D(Te)&&(Te=M(Te,le+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+Be)),te.push(Te)),1;Be=0;var Vt=fe===""?".":fe+":";if(he(k))for(var lt=0;lt<k.length;lt++)fe=k[lt],Ce=Vt+Ye(fe,lt),Be+=$(fe,te,le,Ce,Te);else if(lt=O(k),typeof lt=="function")for(k=lt.call(k),lt=0;!(fe=k.next()).done;)fe=fe.value,Ce=Vt+Ye(fe,lt++),Be+=$(fe,te,le,Ce,Te);else if(Ce==="object"){if(typeof k.then=="function")return $(gt(k),te,le,fe,Te);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ae(k,te,le){if(k==null)return k;var fe=[],Te=0;return $(k,fe,"","",function(Ce){return te.call(le,Ce,Te++)}),fe}function pe(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},be={map:ae,forEach:function(k,te,le){ae(k,function(){te.apply(this,arguments)},le)},count:function(k){var te=0;return ae(k,function(){te++}),te},toArray:function(k){return ae(k,function(te){return te})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=T,Ae.Children=be,Ae.Component=Y,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,te,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var fe=z({},k.props),Te=k.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!x.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(fe[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=le;else if(1<Ce){for(var Be=Array(Ce),Vt=0;Vt<Ce;Vt++)Be[Vt]=arguments[Vt+2];fe.children=Be}return R(k.type,Te,fe)},Ae.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ae.createElement=function(k,te,le){var fe,Te={},Ce=null;if(te!=null)for(fe in te.key!==void 0&&(Ce=""+te.key),te)x.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=te[fe]);var Be=arguments.length-2;if(Be===1)Te.children=le;else if(1<Be){for(var Vt=Array(Be),lt=0;lt<Be;lt++)Vt[lt]=arguments[lt+2];Te.children=Vt}if(k&&k.defaultProps)for(fe in Be=k.defaultProps,Be)Te[fe]===void 0&&(Te[fe]=Be[fe]);return R(k,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:m,render:k}},Ae.isValidElement=D,Ae.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pe}},Ae.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},Ae.startTransition=function(k){var te=I.T,le={};I.T=le;try{var fe=k(),Te=I.S;Te!==null&&Te(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(oe,je)}catch(Ce){je(Ce)}finally{te!==null&&le.types!==null&&(te.types=le.types),I.T=te}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(k){return I.H.use(k)},Ae.useActionState=function(k,te,le){return I.H.useActionState(k,te,le)},Ae.useCallback=function(k,te){return I.H.useCallback(k,te)},Ae.useContext=function(k){return I.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,te){return I.H.useDeferredValue(k,te)},Ae.useEffect=function(k,te){return I.H.useEffect(k,te)},Ae.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(k,te,le){return I.H.useImperativeHandle(k,te,le)},Ae.useInsertionEffect=function(k,te){return I.H.useInsertionEffect(k,te)},Ae.useLayoutEffect=function(k,te){return I.H.useLayoutEffect(k,te)},Ae.useMemo=function(k,te){return I.H.useMemo(k,te)},Ae.useOptimistic=function(k,te){return I.H.useOptimistic(k,te)},Ae.useReducer=function(k,te,le){return I.H.useReducer(k,te,le)},Ae.useRef=function(k){return I.H.useRef(k)},Ae.useState=function(k){return I.H.useState(k)},Ae.useSyncExternalStore=function(k,te,le){return I.H.useSyncExternalStore(k,te,le)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var _0;function Hp(){return _0||(_0=1,Bm.exports=xx()),Bm.exports}var P=Hp(),qm={exports:{}},Zl={},Hm={exports:{}},Fm={};var v0;function Rx(){return v0||(v0=1,(function(i){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var je=pe-1>>>1,be=$[je];if(0<o(be,ae))$[je]=ae,$[pe]=be,pe=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var je=0,be=$.length,k=be>>>1;je<k;){var te=2*(je+1)-1,le=$[te],fe=te+1,Te=$[fe];if(0>o(le,pe))fe<be&&0>o(Te,le)?($[je]=Te,$[fe]=pe,je=fe):($[je]=le,$[te]=pe,je=te);else if(fe<be&&0>o(Te,pe))$[je]=Te,$[fe]=pe,je=fe;else break e}}return ae}function o($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,O=!1,F=!1,z=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=$)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he($){if(z=!1,se($),!F)if(n(p)!==null)F=!0,oe||(oe=!0,U());else{var ae=n(g);ae!==null&&gt(he,ae.startTime-$)}}var oe=!1,I=-1,x=5,R=-1;function M(){return L?!0:!(i.unstable_now()-R<x)}function D(){if(L=!1,oe){var $=i.unstable_now();R=$;var ae=!0;try{e:{F=!1,z&&(z=!1,J(I),I=-1),O=!0;var pe=A;try{t:{for(se($),T=n(p);T!==null&&!(T.expirationTime>$&&M());){var je=T.callback;if(typeof je=="function"){T.callback=null,A=T.priorityLevel;var be=je(T.expirationTime<=$);if($=i.unstable_now(),typeof be=="function"){T.callback=be,se($),ae=!0;break t}T===n(p)&&s(p),se($)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var k=n(g);k!==null&&gt(he,k.startTime-$),ae=!1}}break e}finally{T=null,A=pe,O=!1}ae=void 0}}finally{ae?U():oe=!1}}}var U;if(typeof ie=="function")U=function(){ie(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ye=C.port2;C.port1.onmessage=D,U=function(){Ye.postMessage(null)}}else U=function(){Y(D,0)};function gt($,ae){I=Y(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function($){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var pe=A;A=ae;try{return $()}finally{A=pe}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=A;A=$;try{return ae()}finally{A=pe}},i.unstable_scheduleCallback=function($,ae,pe){var je=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,$){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=pe+be,$={id:E++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:be,sortIndex:-1},pe>je?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(z?(J(I),I=-1):z=!0,gt(he,pe-je))):($.sortIndex=be,e(p,$),F||O||(F=!0,oe||(oe=!0,U()))),$},i.unstable_shouldYield=M,i.unstable_wrapCallback=function($){var ae=A;return function(){var pe=A;A=ae;try{return $.apply(this,arguments)}finally{A=pe}}}})(Fm)),Fm}var E0;function Ix(){return E0||(E0=1,Hm.exports=Rx()),Hm.exports}var Gm={exports:{}},rn={};var b0;function Cx(){if(b0)return rn;b0=1;var i=Hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},rn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},rn.requestFormReset=function(p){s.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var T0;function Nx(){if(T0)return Gm.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=Cx(),Gm.exports}var w0;function Dx(){if(w0)return Zl;w0=1;var i=Ix(),e=Hp(),n=Nx();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case he:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:Ye(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return Ye(t(r))}catch{}}return null}var gt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],be=-1;function k(t){return{current:t}}function te(t){0>be||(t.current=je[be],je[be]=null,be--)}function le(t,r){be++,je[be]=t.current,t.current=r}var fe=k(null),Te=k(null),Ce=k(null),Be=k(null);function Vt(t,r){switch(le(Ce,r),le(Te,t),le(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Uv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Uv(r),t=jv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(fe),le(fe,t)}function lt(){te(fe),te(Te),te(Ce)}function ks(t){t.memoizedState!==null&&le(Be,t);var r=fe.current,a=jv(r,t.type);r!==a&&(le(Te,t),le(fe,a))}function Da(t){Te.current===t&&(te(fe),te(Te)),Be.current===t&&(te(Be),Yl._currentValue=pe)}var Oa,Ma;function Si(t){if(Oa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Oa=r&&r[1]||"",Ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+t+Ma}var Yo=!1;function Vs(t,r){if(!t||Yo)return"";Yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),H=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Yo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Si(a):""}function $o(t,r){switch(t.tag){case 26:case 27:case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return t.child!==r&&r!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Vs(t.type,!1);case 11:return Vs(t.type.render,!1);case 1:return Vs(t.type,!0);case 31:return Si("Activity");default:return""}}function Xo(t){try{var r="",a=null;do r+=$o(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Cr=i.unstable_cancelCallback,qf=i.unstable_shouldYield,Fu=i.unstable_requestPaint,hn=i.unstable_now,Ps=i.unstable_getCurrentPriorityLevel,Jo=i.unstable_ImmediatePriority,Wo=i.unstable_UserBlockingPriority,Nr=i.unstable_NormalPriority,Hf=i.unstable_LowPriority,Gu=i.unstable_IdlePriority,Ku=i.log,Qu=i.unstable_setDisableYieldValue,si=null,Yt=null;function qn(t){if(typeof Ku=="function"&&Qu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(si,t)}catch{}}var yt=Math.clz32?Math.clz32:$u,Yu=Math.log,ka=Math.LN2;function $u(t){return t>>>=0,t===0?32:31-(Yu(t)/ka|0)|0}var Ai=256,Ls=262144,St=4194304;function xi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ri(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=xi(l):(_&=w,_!==0?f=xi(_):a||(a=w&~t,a!==0&&(f=xi(a))))):(w=l&~d,w!==0?f=xi(w):_!==0?f=xi(_):a||(a=l&~t,a!==0&&(f=xi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ai(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ff(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function Ii(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Us(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-yt(a),ee=1<<X;w[X]=0,N[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&js(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function js(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Zo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function el(t,r){var a=r&-r;return a=(a&42)!==0?1:zs(a),(a&(t.suspendedLanes|r))!==0?0:a}function zs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ju(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:l0(t.type))}function oi(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var li=Math.random().toString(36).slice(2),At="__reactFiber$"+li,zt="__reactProps$"+li,Ci="__reactContainer$"+li,Va="__reactEvents$"+li,Kf="__reactListeners$"+li,Wu="__reactHandles$"+li,Zu="__reactResources$"+li,Ni="__reactMarker$"+li;function Pa(t){delete t[At],delete t[zt],delete t[Va],delete t[Kf],delete t[Wu]}function Di(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ci]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Kv(t);t!==null;){if(a=t[At])return a;t=Kv(t)}return r}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[At]||t[Ci]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function In(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Oi(t){var r=t[Zu];return r||(r=t[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[Ni]=!0}var tl=new Set,nl={};function Mi(t,r){ki(t,r),ki(t+"Capture",r)}function ki(t,r){for(nl[t]=r,t=0;t<r.length;t++)tl.add(r[t])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},sl={};function ec(t){return wt.call(sl,t)?!0:wt.call(rl,t)?!1:il.test(t)?sl[t]=!0:(rl[t]=!0,!1)}function La(t,r,a){if(ec(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Cn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function al(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function $e(t){if(!t._valueTracker){var r=Dr(t)?"checked":"value";t._valueTracker=al(t,r,""+t[r])}}function Bs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Dr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qs=/[\n"\\]/g;function yn(t){return t.replace(qs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(t,r,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Bt(r)):t.value!==""+Bt(r)&&(t.value=""+Bt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ol(t,_,Bt(r)):a!=null?ol(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Bt(w):t.removeAttribute("name")}function tc(t,r,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){$e(t);return}a=a!=null?""+Bt(a):"",r=r!=null?""+Bt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function ol(t,r,a){r==="number"&&Vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Or(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function nc(t,r,a){if(r!=null&&(r=""+Bt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Bt(a):""}function Mr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(gt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Bt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function _n(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ic.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ul(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ll(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ll(t,d,r[d])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return kr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var cl=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Pi=null;function Hs(t){var r=Hn(t);if(r&&(t=r.stateNode)){var a=t[zt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[zt]||null;if(!f)throw Error(s(90));Ua(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Bs(l)}break e;case"textarea":nc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Or(t,!!a.multiple,r,!1)}}}var Ba=!1;function Pr(t,r,a){if(Ba)return t(r,a);Ba=!0;try{var l=t(r);return l}finally{if(Ba=!1,(Vr!==null||Pi!==null)&&(Jc(),Vr&&(r=Vr,t=Pi,Pi=Vr=null,Hs(r),t)))for(r=0;r<t.length;r++)Hs(t[r])}}function ci(t,r){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Gn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Fs=!1}var Li=null,hl=null,Gs=null;function fl(){if(Gs)return Gs;var t,r=hl,a=r.length,l,f="value"in Li?Li.value:Li.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Gs=f.slice(t,1<l?1-l:void 0)}function Ks(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function hi(){return!1}function $t(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?tr:hi,this.isPropagationStopped=hi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=$t(nr),Lr=T({},nr,{view:0,detail:0}),dl=$t(Lr),Ur,qa,ji,Ha=T({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Ur=t.screenX-ji.screenX,qa=t.screenY-ji.screenY):qa=Ur=0,ji=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),ml=$t(Ha),Qs=T({},Ha,{dataTransfer:0}),sc=$t(Qs),ac=T({},Lr,{relatedTarget:0}),Ys=$t(ac),pl=T({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=$t(pl),Fa=T({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lc=$t(Fa),uc=T({},nr,{data:0}),zi=$t(uc),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=fc[t])?!!r[t]:!1}function jr(){return dc}var fn=T({},Lr,{key:function(t){if(t.key){var r=cc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mc=$t(fn),pc=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=$t(pc),c=T({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),y=$t(c),b=T({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(b),B=T({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=$t(B),re=T({},nr,{newState:0,oldState:0}),Re=$t(re),_t=[9,13,27,32],Ge=Gn&&"CompositionEvent"in window,ut=null;Gn&&"documentMode"in document&&(ut=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!ut,Bi=Gn&&(!Ge||ut&&8<ut&&11>=ut),fi=" ",di=!1;function $s(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function YS(t,r){switch(t){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(di=!0,fi);case"textInput":return t=r.data,t===fi&&di?null:t;default:return null}}function $S(t,r){if(Ka)return t==="compositionend"||!Ge&&$s(t,r)?(t=fl(),Gs=hl=Li=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!XS[t.type]:r==="textarea"}function Xg(t,r,a,l){Vr?Pi?Pi.push(l):Pi=[l]:Vr=l,r=rh(r,"onChange"),0<r.length&&(a=new Ui("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var gl=null,yl=null;function JS(t){Ov(t,0)}function gc(t){var r=In(t);if(Bs(r))return t}function Jg(t,r){if(t==="change")return r}var Wg=!1;if(Gn){var Qf;if(Gn){var Yf="oninput"in document;if(!Yf){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Yf=typeof Zg.oninput=="function"}Qf=Yf}else Qf=!1;Wg=Qf&&(!document.documentMode||9<document.documentMode)}function ey(){gl&&(gl.detachEvent("onpropertychange",ty),yl=gl=null)}function ty(t){if(t.propertyName==="value"&&gc(yl)){var r=[];Xg(r,yl,t,Fn(t)),Pr(JS,r)}}function WS(t,r,a){t==="focusin"?(ey(),gl=r,yl=a,gl.attachEvent("onpropertychange",ty)):t==="focusout"&&ey()}function ZS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(yl)}function eA(t,r){if(t==="click")return gc(r)}function tA(t,r){if(t==="input"||t==="change")return gc(r)}function nA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Nn=typeof Object.is=="function"?Object.is:nA;function _l(t,r){if(Nn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(r,f)||!Nn(t[f],r[f]))return!1}return!0}function ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iy(t,r){var a=ny(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function ry(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ry(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Vi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Vi(t.document)}return r}function $f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var iA=Gn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Xf=null,vl=null,Jf=!1;function ay(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jf||Qa==null||Qa!==Vi(l)||(l=Qa,"selectionStart"in l&&$f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&_l(vl,l)||(vl=l,l=rh(Xf,"onSelect"),0<l.length&&(r=new Ui("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Qa)))}function Xs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ya={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},Wf={},oy={};Gn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Js(t){if(Wf[t])return Wf[t];if(!Ya[t])return t;var r=Ya[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in oy)return Wf[t]=r[a];return t}var ly=Js("animationend"),uy=Js("animationiteration"),cy=Js("animationstart"),rA=Js("transitionrun"),sA=Js("transitionstart"),aA=Js("transitioncancel"),hy=Js("transitionend"),fy=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function mi(t,r){fy.set(t,r),Mi(r,[t])}var yc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],$a=0,ed=0;function _c(){for(var t=$a,r=ed=$a=0;r<t;){var a=Qn[r];Qn[r++]=null;var l=Qn[r];Qn[r++]=null;var f=Qn[r];Qn[r++]=null;var d=Qn[r];if(Qn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&dy(a,f,d)}}function vc(t,r,a,l){Qn[$a++]=t,Qn[$a++]=r,Qn[$a++]=a,Qn[$a++]=l,ed|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function td(t,r,a,l){return vc(t,r,a,l),Ec(t)}function Ws(t,r){return vc(t,null,null,r),Ec(t)}function dy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ec(t){if(50<Bl)throw Bl=0,cm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function oA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,r,a,l){return new oA(t,r,a,l)}function nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rr(t,r){var a=t.alternate;return a===null?(a=Dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function my(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function bc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")nd(t)&&(_=1);else if(typeof t=="string")_=fx(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Dn(31,a,r,f),t.elementType=R,t.lanes=d,t;case z:return Zs(a.children,f,d,r);case L:_=8,f|=24;break;case Y:return t=Dn(12,a,r,f|2),t.elementType=Y,t.lanes=d,t;case he:return t=Dn(13,a,r,f),t.elementType=he,t.lanes=d,t;case oe:return t=Dn(19,a,r,f),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case J:_=9;break e;case se:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Dn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Zs(t,r,a,l){return t=Dn(7,t,l,r),t.lanes=a,t}function id(t,r,a){return t=Dn(6,t,null,r),t.lanes=a,t}function py(t){var r=Dn(18,null,null,0);return r.stateNode=t,r}function rd(t,r,a){return r=Dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var gy=new WeakMap;function Yn(t,r){if(typeof t=="object"&&t!==null){var a=gy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Xo(r)},gy.set(t,r),r)}return{value:t,source:r,stack:Xo(r)}}var Ja=[],Wa=0,Tc=null,El=0,$n=[],Xn=0,zr=null,qi=1,Hi="";function sr(t,r){Ja[Wa++]=El,Ja[Wa++]=Tc,Tc=t,El=r}function yy(t,r,a){$n[Xn++]=qi,$n[Xn++]=Hi,$n[Xn++]=zr,zr=t;var l=qi;t=Hi;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,qi=1<<32-yt(r)+f|a<<f|l,Hi=d+t}else qi=1<<d|a<<f|l,Hi=t}function sd(t){t.return!==null&&(sr(t,1),yy(t,1,0))}function ad(t){for(;t===Tc;)Tc=Ja[--Wa],Ja[Wa]=null,El=Ja[--Wa],Ja[Wa]=null;for(;t===zr;)zr=$n[--Xn],$n[Xn]=null,Hi=$n[--Xn],$n[Xn]=null,qi=$n[--Xn],$n[Xn]=null}function _y(t,r){$n[Xn++]=qi,$n[Xn++]=Hi,$n[Xn++]=zr,qi=r.id,Hi=r.overflow,zr=t}var Xt=null,st=null,ze=!1,Br=null,Jn=!1,od=Error(s(519));function qr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Yn(r,t)),od}function vy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[zt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Oe(Hl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),tc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Mr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Pv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=ui),r=!0):r=!1,r||qr(t,!0)}function Ey(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Xt=Xt.return}}function Za(t){if(t!==Xt)return!1;if(!ze)return Ey(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Am(t.type,t.memoizedProps)),a=!a),a&&st&&qr(t),Ey(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Gv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Gv(t)}else r===27?(r=st,ns(t.type)?(t=Nm,Nm=null,st=t):st=r):st=Xt?Zn(t.stateNode.nextSibling):null;return!0}function ea(){st=Xt=null,ze=!1}function ld(){var t=Br;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Br=null),t}function bl(t){Br===null?Br=[t]:Br.push(t)}var ud=k(null),ta=null,ar=null;function Hr(t,r,a){le(ud,r._currentValue),r._currentValue=a}function or(t){t._currentValue=ud.current,te(ud)}function cd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function hd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),cd(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),cd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function eo(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;Nn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}f=f.return}t!==null&&hd(r,t,a,l),r.flags|=262144}function wc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return by(ta,t)}function Sc(t,r){return ta===null&&na(t),by(t,r)}function by(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(s(308));ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ar=ar.next=r;return a}var lA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},uA=i.unstable_scheduleCallback,cA=i.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new lA,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&uA(cA,function(){t.controller.abort()})}var wl=null,dd=0,to=0,no=null;function hA(t,r){if(wl===null){var a=wl=[];dd=0,to=gm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,r.then(Ty,Ty),r}function Ty(){if(--dd===0&&wl!==null){no!==null&&(no.status="fulfilled");var t=wl;wl=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function fA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var wy=$.S;$.S=function(t,r){av=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&hA(t,r),wy!==null&&wy(t,r)};var ia=k(null);function md(){var t=ia.current;return t!==null?t:nt.pooledCache}function Ac(t,r){r===null?le(ia,ia.current):le(ia,r.pool)}function Sy(){var t=md();return t===null?null:{parent:It._currentValue,pool:t}}var io=Error(s(460)),pd=Error(s(474)),xc=Error(s(542)),Rc={then:function(){}};function Ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ui,ui),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Iy(t),t;default:if(typeof r.status=="string")r.then(ui,ui);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Iy(t),t}throw sa=r,io}}function ra(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,io):a}}var sa=null;function Ry(){if(sa===null)throw Error(s(459));var t=sa;return sa=null,t}function Iy(t){if(t===io||t===xc)throw Error(s(483))}var ro=null,Sl=0;function Ic(t){var r=Sl;return Sl+=1,ro===null&&(ro=[]),xy(ro,t,r)}function Al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Cc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cy(t){function r(j,V){if(t){var q=j.deletions;q===null?(j.deletions=[V],j.flags|=16):q.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)r(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function f(j,V){return j=rr(j,V),j.index=0,j.sibling=null,j}function d(j,V,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<V?(j.flags|=67108866,V):q):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,V,q,W){return V===null||V.tag!==6?(V=id(q,j.mode,W),V.return=j,V):(V=f(V,q),V.return=j,V)}function N(j,V,q,W){var ge=q.type;return ge===z?X(j,V,q.props.children,W,q.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&ra(ge)===V.type)?(V=f(V,q.props),Al(V,q),V.return=j,V):(V=bc(q.type,q.key,q.props,null,j.mode,W),Al(V,q),V.return=j,V)}function H(j,V,q,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=rd(q,j.mode,W),V.return=j,V):(V=f(V,q.children||[]),V.return=j,V)}function X(j,V,q,W,ge){return V===null||V.tag!==7?(V=Zs(q,j.mode,W,ge),V.return=j,V):(V=f(V,q),V.return=j,V)}function ee(j,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=id(""+V,j.mode,q),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return q=bc(V.type,V.key,V.props,null,j.mode,q),Al(q,V),q.return=j,q;case F:return V=rd(V,j.mode,q),V.return=j,V;case x:return V=ra(V),ee(j,V,q)}if(gt(V)||U(V))return V=Zs(V,j.mode,q,null),V.return=j,V;if(typeof V.then=="function")return ee(j,Ic(V),q);if(V.$$typeof===ie)return ee(j,Sc(j,V),q);Cc(j,V)}return null}function G(j,V,q,W){var ge=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(j,V,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===ge?N(j,V,q,W):null;case F:return q.key===ge?H(j,V,q,W):null;case x:return q=ra(q),G(j,V,q,W)}if(gt(q)||U(q))return ge!==null?null:X(j,V,q,W,null);if(typeof q.then=="function")return G(j,V,Ic(q),W);if(q.$$typeof===ie)return G(j,V,Sc(j,q),W);Cc(j,q)}return null}function Q(j,V,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(q)||null,w(V,j,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return j=j.get(W.key===null?q:W.key)||null,N(V,j,W,ge);case F:return j=j.get(W.key===null?q:W.key)||null,H(V,j,W,ge);case x:return W=ra(W),Q(j,V,q,W,ge)}if(gt(W)||U(W))return j=j.get(q)||null,X(V,j,W,ge,null);if(typeof W.then=="function")return Q(j,V,q,Ic(W),ge);if(W.$$typeof===ie)return Q(j,V,q,Sc(V,W),ge);Cc(V,W)}return null}function de(j,V,q,W){for(var ge=null,He=null,me=V,Ne=V=0,ke=null;me!==null&&Ne<q.length;Ne++){me.index>Ne?(ke=me,me=null):ke=me.sibling;var Fe=G(j,me,q[Ne],W);if(Fe===null){me===null&&(me=ke);break}t&&me&&Fe.alternate===null&&r(j,me),V=d(Fe,V,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe,me=ke}if(Ne===q.length)return a(j,me),ze&&sr(j,Ne),ge;if(me===null){for(;Ne<q.length;Ne++)me=ee(j,q[Ne],W),me!==null&&(V=d(me,V,Ne),He===null?ge=me:He.sibling=me,He=me);return ze&&sr(j,Ne),ge}for(me=l(me);Ne<q.length;Ne++)ke=Q(me,j,Ne,q[Ne],W),ke!==null&&(t&&ke.alternate!==null&&me.delete(ke.key===null?Ne:ke.key),V=d(ke,V,Ne),He===null?ge=ke:He.sibling=ke,He=ke);return t&&me.forEach(function(os){return r(j,os)}),ze&&sr(j,Ne),ge}function _e(j,V,q,W){if(q==null)throw Error(s(151));for(var ge=null,He=null,me=V,Ne=V=0,ke=null,Fe=q.next();me!==null&&!Fe.done;Ne++,Fe=q.next()){me.index>Ne?(ke=me,me=null):ke=me.sibling;var os=G(j,me,Fe.value,W);if(os===null){me===null&&(me=ke);break}t&&me&&os.alternate===null&&r(j,me),V=d(os,V,Ne),He===null?ge=os:He.sibling=os,He=os,me=ke}if(Fe.done)return a(j,me),ze&&sr(j,Ne),ge;if(me===null){for(;!Fe.done;Ne++,Fe=q.next())Fe=ee(j,Fe.value,W),Fe!==null&&(V=d(Fe,V,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return ze&&sr(j,Ne),ge}for(me=l(me);!Fe.done;Ne++,Fe=q.next())Fe=Q(me,j,Ne,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Ne:Fe.key),V=d(Fe,V,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function(wx){return r(j,wx)}),ze&&sr(j,Ne),ge}function tt(j,V,q,W){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var ge=q.key;V!==null;){if(V.key===ge){if(ge=q.type,ge===z){if(V.tag===7){a(j,V.sibling),W=f(V,q.props.children),W.return=j,j=W;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&ra(ge)===V.type){a(j,V.sibling),W=f(V,q.props),Al(W,q),W.return=j,j=W;break e}a(j,V);break}else r(j,V);V=V.sibling}q.type===z?(W=Zs(q.props.children,j.mode,W,q.key),W.return=j,j=W):(W=bc(q.type,q.key,q.props,null,j.mode,W),Al(W,q),W.return=j,j=W)}return _(j);case F:e:{for(ge=q.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(j,V.sibling),W=f(V,q.children||[]),W.return=j,j=W;break e}else{a(j,V);break}else r(j,V);V=V.sibling}W=rd(q,j.mode,W),W.return=j,j=W}return _(j);case x:return q=ra(q),tt(j,V,q,W)}if(gt(q))return de(j,V,q,W);if(U(q)){if(ge=U(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),_e(j,V,q,W)}if(typeof q.then=="function")return tt(j,V,Ic(q),W);if(q.$$typeof===ie)return tt(j,V,Sc(j,q),W);Cc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(j,V.sibling),W=f(V,q),W.return=j,j=W):(a(j,V),W=id(q,j.mode,W),W.return=j,j=W),_(j)):a(j,V)}return function(j,V,q,W){try{Sl=0;var ge=tt(j,V,q,W);return ro=null,ge}catch(me){if(me===io||me===xc)throw me;var He=Dn(29,me,null,j.mode);return He.lanes=W,He.return=j,He}finally{}}}var aa=Cy(!0),Ny=Cy(!1),Fr=!1;function gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ec(t),dy(t,null,a),r}return vc(t,l,r,a),Ec(t)}function xl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Zo(t,a)}}function _d(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var vd=!1;function Rl(){if(vd){var t=no;if(t!==null)throw t}}function Il(t,r,a,l){vd=!1;var f=t.updateQueue;Fr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==_&&(w===null?X.firstBaseUpdate=H:w.next=H,X.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;_=0,X=H=N=null,w=d;do{var G=w.lane&-536870913,Q=G!==w.lane;if(Q?(Me&G)===G:(l&G)===G){G!==0&&G===to&&(vd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,_e=w;G=r;var tt=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ee=de.call(tt,ee,G);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,G=typeof de=="function"?de.call(tt,ee,G):de,G==null)break e;ee=T({},ee,G);break e;case 2:Fr=!0}}G=w.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(H=X=Q,N=ee):X=X.next=Q,_|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Jr|=_,t.lanes=_,t.memoizedState=ee}}function Dy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Oy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dy(a[t],r)}var so=k(null),Nc=k(0);function My(t,r){t=gr,le(Nc,t),le(so,r),gr=t|r.baseLanes}function Ed(){le(Nc,gr),le(so,so.current)}function bd(){gr=Nc.current,te(so),te(Nc)}var On=k(null),Wn=null;function Qr(t){var r=t.alternate;le(vt,vt.current&1),le(On,t),Wn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Wn=t)}function Td(t){le(vt,vt.current),le(On,t),Wn===null&&(Wn=t)}function ky(t){t.tag===22?(le(vt,vt.current),le(On,t),Wn===null&&(Wn=t)):Yr()}function Yr(){le(vt,vt.current),le(On,On.current)}function Mn(t){te(On),Wn===t&&(Wn=null),te(vt)}var vt=k(0);function Dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||Cm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lr=0,Ie=null,Ze=null,Ct=null,Oc=!1,ao=!1,oa=!1,Mc=0,Cl=0,oo=null,dA=0;function mt(){throw Error(s(321))}function wd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Nn(t[a],r[a]))return!1;return!0}function Sd(t,r,a,l,f,d){return lr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?y_:jd,oa=!1,d=a(l,f),oa=!1,ao&&(d=Py(r,a,l,f)),Vy(t),d}function Vy(t){$.H=Ol;var r=Ze!==null&&Ze.next!==null;if(lr=0,Ct=Ze=Ie=null,Oc=!1,Cl=0,oo=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&wc(t)&&(Nt=!0))}function Py(t,r,a,l){Ie=t;var f=0;do{if(ao&&(oo=null),Cl=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=__,d=r(a,l)}while(ao);return d}function mA(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Nl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Ad(){var t=Mc!==0;return Mc=0,t}function xd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Rd(t){if(Oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Oc=!1}lr=0,Ct=Ze=Ie=null,ao=!1,Cl=Mc=0,oo=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ct===null?Ie.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var r=Cl;return Cl+=1,oo===null&&(oo=[]),t=xy(oo,t,r),r=Ie,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?y_:jd),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===ie)return Jt(t)}throw Error(s(438,String(t)))}function Id(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=kc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function ur(t,r){return typeof r=="function"?r(t):r}function Pc(t){var r=Et();return Cd(r,Ze,t)}function Cd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var w=_=null,N=null,H=r,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Me&ee)===ee:(lr&ee)===ee){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===to&&(X=!0);else if((lr&G)===G){H=H.next,G===to&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=ee,_=d):N=N.next=ee,Ie.lanes|=G,Jr|=G;ee=H.action,oa&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=G,_=d):N=N.next=G,Ie.lanes|=ee,Jr|=ee;H=H.next}while(H!==null&&H!==r);if(N===null?_=d:N.next=w,!Nn(d,t.memoizedState)&&(Nt=!0,X&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nd(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Nn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ly(t,r,a){var l=Ie,f=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Nn((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,Md(zy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},jy.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(lr&127)!==0||Uy(l,r,a)}return a}function Uy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=kc(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function jy(t,r,a,l){r.value=a,r.getSnapshot=l,By(r)&&qy(t)}function zy(t,r,a){return a(function(){By(r)&&qy(t)})}function By(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Nn(t,a)}catch{return!0}}function qy(t){var r=Ws(t,2);r!==null&&wn(r,t,2)}function Dd(t){var r=dn();if(typeof t=="function"){var a=t;if(t=a(),oa){qn(!0);try{a()}finally{qn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},r}function Hy(t,r,a,l){return t.baseState=a,Cd(t,Ze,typeof l=="function"?l:ur)}function pA(t,r,a,l,f){if(jc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Fy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=$.T,_={};$.T=_;try{var w=a(f,l),N=$.S;N!==null&&N(_,w),Gy(t,r,w)}catch(H){Od(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Gy(t,r,d)}catch(H){Od(t,r,H)}}function Gy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(t,r,l)},function(l){return Od(t,r,l)}):Ky(t,r,a)}function Ky(t,r,a){r.status="fulfilled",r.value=a,Qy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Fy(t,a)))}function Od(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Qy(r),r=r.next;while(r!==l)}t.action=null}function Qy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Yy(t,r){return r}function $y(t,r){if(ze){var a=nt.formState;if(a!==null){e:{var l=Ie;if(ze){if(st){t:{for(var f=st,d=Jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Zn(f.nextSibling),l=f.data==="F!";break e}}qr(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:r},a.queue=l,a=m_.bind(null,Ie,l),l.dispatch=a,l=Dd(!1),d=Ud.bind(null,Ie,!1,l.queue),l=dn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=pA.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Xy(t){var r=Et();return Jy(r,Ze,t)}function Jy(t,r,a){if(r=Cd(t,r,Yy)[0],t=Pc(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Nl(r)}catch(_){throw _===io?xc:_}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,lo(9,{destroy:void 0},gA.bind(null,f,a),null)),[l,d,t]}function gA(t,r){t.action=r}function Wy(t){var r=Et(),a=Ze;if(a!==null)return Jy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function lo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=kc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Zy(){return Et().memoizedState}function Lc(t,r,a,l){var f=dn();Ie.flags|=t,f.memoizedState=lo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Uc(t,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&wd(l,Ze.memoizedState.deps)?f.memoizedState=lo(r,d,a,l):(Ie.flags|=t,f.memoizedState=lo(1|r,d,a,l))}function e_(t,r){Lc(8390656,8,t,r)}function Md(t,r){Uc(2048,8,t,r)}function yA(t){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=kc(),Ie.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function t_(t){var r=Et().memoizedState;return yA({ref:r,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function n_(t,r){return Uc(4,2,t,r)}function i_(t,r){return Uc(4,4,t,r)}function r_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function s_(t,r,a){a=a!=null?a.concat([t]):null,Uc(4,4,r_.bind(null,r,t),a)}function kd(){}function a_(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&wd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function o_(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&wd(r,l[1]))return l[0];if(l=t(),oa){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,r],l}function Vd(t,r,a){return a===void 0||(lr&1073741824)!==0&&(Me&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=lv(),Ie.lanes|=t,Jr|=t,a)}function l_(t,r,a,l){return Nn(a,r)?a:so.current!==null?(t=Vd(t,a,l),Nn(t,r)||(Nt=!0),t):(lr&42)===0||(lr&1073741824)!==0&&(Me&261930)===0?(Nt=!0,t.memoizedState=a):(t=lv(),Ie.lanes|=t,Jr|=t,r)}function u_(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=$.T,w={};$.T=w,Ud(t,!1,r,a);try{var N=f(),H=$.S;if(H!==null&&H(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=fA(N,l);Dl(t,r,X,Pn(t))}else Dl(t,r,l,Pn(t))}catch(ee){Dl(t,r,{then:function(){},status:"rejected",reason:ee},Pn())}finally{ae.p=d,_!==null&&w.types!==null&&(_.types=w.types),$.T=_}}function _A(){}function Pd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=c_(t).queue;u_(t,f,r,pe,a===null?_A:function(){return h_(t),a(l)})}function c_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function h_(t){var r=c_(t);r.next===null&&(r=t.alternate.memoizedState),Dl(t,r.next.queue,{},Pn())}function Ld(){return Jt(Yl)}function f_(){return Et().memoizedState}function d_(){return Et().memoizedState}function vA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Pn();t=Gr(a);var l=Kr(r,t,a);l!==null&&(wn(l,r,a),xl(l,r,a)),r={cache:fd()},t.payload=r;return}r=r.return}}function EA(t,r,a){var l=Pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(t)?p_(r,a):(a=td(t,r,a,l),a!==null&&(wn(a,t,l),g_(a,r,l)))}function m_(t,r,a){var l=Pn();Dl(t,r,a,l)}function Dl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(t))p_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,Nn(w,_))return vc(t,r,f,0),nt===null&&_c(),!1}catch{}finally{}if(a=td(t,r,f,l),a!==null)return wn(a,t,l),g_(a,r,l),!0}return!1}function Ud(t,r,a,l){if(l={lane:2,revertLane:gm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(r)throw Error(s(479))}else r=td(t,a,l,2),r!==null&&wn(r,t,2)}function jc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function p_(t,r){ao=Oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function g_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Zo(t,a)}}var Ol={readContext:Jt,use:Vc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Ol.useEffectEvent=mt;var y_={readContext:Jt,use:Vc,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:e_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Lc(4194308,4,r_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Lc(4194308,4,t,r)},useInsertionEffect:function(t,r){Lc(4,2,t,r)},useMemo:function(t,r){var a=dn();r=r===void 0?null:r;var l=t();if(oa){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=dn();if(a!==void 0){var f=a(r);if(oa){qn(!0);try{a(r)}finally{qn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=EA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=Dd(t);var r=t.queue,a=m_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:kd,useDeferredValue:function(t,r){var a=dn();return Vd(a,t,r)},useTransition:function(){var t=Dd(!1);return t=u_.bind(null,Ie,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=dn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Me&127)!==0||Uy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,e_(zy.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},jy.bind(null,l,d,a,r),null),a},useId:function(){var t=dn(),r=nt.identifierPrefix;if(ze){var a=Hi,l=qi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=dA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ld,useFormState:$y,useActionState:$y,useOptimistic:function(t){var r=dn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ud.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Id,useCacheRefresh:function(){return dn().memoizedState=vA.bind(null,Ie)},useEffectEvent:function(t){var r=dn(),a={impl:t};return r.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},jd={readContext:Jt,use:Vc,useCallback:a_,useContext:Jt,useEffect:Md,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Pc,useRef:Zy,useState:function(){return Pc(ur)},useDebugValue:kd,useDeferredValue:function(t,r){var a=Et();return l_(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Pc(ur)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:Nl(t),r]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Ld,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,r){var a=Et();return Hy(a,Ze,t,r)},useMemoCache:Id,useCacheRefresh:d_};jd.useEffectEvent=t_;var __={readContext:Jt,use:Vc,useCallback:a_,useContext:Jt,useEffect:Md,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Nd,useRef:Zy,useState:function(){return Nd(ur)},useDebugValue:kd,useDeferredValue:function(t,r){var a=Et();return Ze===null?Vd(a,t,r):l_(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Nd(ur)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:Nl(t),r]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Ld,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,r){var a=Et();return Ze!==null?Hy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:d_};__.useEffectEvent=t_;function zd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Pn(),f=Gr(l);f.payload=r,a!=null&&(f.callback=a),r=Kr(t,f,l),r!==null&&(wn(r,t,l),xl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Pn(),f=Gr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Kr(t,f,l),r!==null&&(wn(r,t,l),xl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Pn(),l=Gr(a);l.tag=2,r!=null&&(l.callback=r),r=Kr(t,l,a),r!==null&&(wn(r,t,a),xl(r,t,a))}};function v_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!_l(a,l)||!_l(f,d):!0}function E_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Bd.enqueueReplaceState(r,r.state,null)}function la(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function b_(t){yc(t)}function T_(t){console.error(t)}function w_(t){yc(t)}function zc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function S_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qd(t,r,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(t,r)},a}function A_(t){return t=Gr(t),t.tag=3,t}function x_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){S_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){S_(r,a,l),typeof f!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function bA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,f,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?Wc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Rc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),dm(t,l,f)),!1;case 22:return a.flags|=65536,l===Rc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),dm(t,l,f)),!1}throw Error(s(435,a.tag))}return dm(t,l,f),Wc(),!1}if(ze)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==od&&(t=Error(s(422),{cause:l}),bl(Yn(t,a)))):(l!==od&&(r=Error(s(423),{cause:l}),bl(Yn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Yn(l,a),f=qd(t.stateNode,l,f),_d(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Yn(d,a),zl===null?zl=[d]:zl.push(d),pt!==4&&(pt=2),r===null)return!0;l=Yn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=qd(a.stateNode,l,t),_d(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=A_(f),x_(f,t,a,l),_d(a,f),!1}a=a.return}while(a!==null);return!1}var Hd=Error(s(461)),Nt=!1;function Wt(t,r,a,l){r.child=t===null?Ny(r,null,a,l):aa(r,t.child,a,l)}function R_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return na(r),l=Sd(t,r,a,_,d,f),w=Ad(),t!==null&&!Nt?(xd(t,r,f),cr(t,r,f)):(ze&&w&&sd(r),r.flags|=1,Wt(t,r,l,f),r.child)}function I_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!nd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,C_(t,r,d,l,f)):(t=bc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Jd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(_,l)&&t.ref===r.ref)return cr(t,r,f)}return r.flags|=1,t=rr(d,l),t.ref=r.ref,t.return=r,r.child=t}function C_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(_l(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,Jd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,cr(t,r,f)}return Fd(t,r,a,l,f)}function N_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return D_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ac(r,d!==null?d.cachePool:null),d!==null?My(r,d):Ed(),ky(r);else return l=r.lanes=536870912,D_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ac(r,d.cachePool),My(r,d),Yr(),r.memoizedState=null):(t!==null&&Ac(r,null),Ed(),Yr());return Wt(t,r,f,a),r.child}function Ml(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function D_(t,r,a,l,f){var d=md();return d=d===null?null:{parent:It._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ac(r,null),Ed(),ky(r),t!==null&&eo(t,r,l,!0),r.childLanes=f,null}function Bc(t,r){return r=Hc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function O_(t,r,a){return aa(r,t.child,null,a),t=Bc(r,r.pendingProps),t.flags|=2,Mn(r),r.memoizedState=null,t}function TA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Bc(r,l),r.lanes=536870912,Ml(null,t);if(Td(r),(t=st)?(t=Fv(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:zr!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=py(t),a.return=r,r.child=a,Xt=r,st=null)):t=null,t===null)throw qr(r);return r.lanes=536870912,null}return Bc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Td(r),f)if(r.flags&256)r.flags&=-257,r=O_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||eo(t,r,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=nt,l!==null&&(_=el(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ws(t,_),wn(l,t,_),Hd;Wc(),r=O_(t,r,a)}else t=d.treeContext,st=Zn(_.nextSibling),Xt=r,ze=!0,Br=null,Jn=!1,t!==null&&_y(r,t),r=Bc(r,l),r.flags|=4096;return r}return t=rr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function qc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Fd(t,r,a,l,f){return na(r),a=Sd(t,r,a,l,void 0,f),l=Ad(),t!==null&&!Nt?(xd(t,r,f),cr(t,r,f)):(ze&&l&&sd(r),r.flags|=1,Wt(t,r,a,f),r.child)}function M_(t,r,a,l,f,d){return na(r),r.updateQueue=null,a=Py(r,l,a,f),Vy(t),l=Ad(),t!==null&&!Nt?(xd(t,r,d),cr(t,r,d)):(ze&&l&&sd(r),r.flags|=1,Wt(t,r,a,d),r.child)}function k_(t,r,a,l,f){if(na(r),r.stateNode===null){var d=Xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Jt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},gd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Jt(_):Xa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Il(r,l,d,f),Rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,N=la(a,w);d.props=N;var H=d.context,X=a.contextType;_=Xa,typeof X=="object"&&X!==null&&(_=Jt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||H!==_)&&E_(r,d,l,_),Fr=!1;var G=r.memoizedState;d.state=G,Il(r,l,d,f),Rl(),H=r.memoizedState,w||G!==H||Fr?(typeof ee=="function"&&(zd(r,a,ee,l),H=r.memoizedState),(N=Fr||v_(r,a,N,l,G,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,yd(t,r),_=r.memoizedProps,X=la(a,_),d.props=X,ee=r.pendingProps,G=d.context,H=a.contextType,N=Xa,typeof H=="object"&&H!==null&&(N=Jt(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==N)&&E_(r,d,l,N),Fr=!1,G=r.memoizedState,d.state=G,Il(r,l,d,f),Rl();var Q=r.memoizedState;_!==ee||G!==Q||Fr||t!==null&&t.dependencies!==null&&wc(t.dependencies)?(typeof w=="function"&&(zd(r,a,w,l),Q=r.memoizedState),(X=Fr||v_(r,a,X,l,G,Q,N)||t!==null&&t.dependencies!==null&&wc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,qc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=aa(r,t.child,null,f),r.child=aa(r,null,a,f)):Wt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=cr(t,r,f),t}function V_(t,r,a,l){return ea(),r.flags|=256,Wt(t,r,a,l),r.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:Sy()}}function Qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Vn),t}function P_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?Qr(r):Yr(),(t=st)?(t=Fv(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:zr!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=py(t),a.return=r,r.child=a,Xt=r,st=null)):t=null,t===null)throw qr(r);return Cm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Yr(),f=r.mode,w=Hc({mode:"hidden",children:w},f),l=Zs(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Kd(a),l.childLanes=Qd(t,_,a),r.memoizedState=Gd,Ml(null,l)):(Qr(r),Yd(r,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)r.flags&256?(Qr(r),r.flags&=-257,r=$d(t,r,a)):r.memoizedState!==null?(Yr(),r.child=t.child,r.flags|=128,r=null):(Yr(),w=l.fallback,f=r.mode,l=Hc({mode:"visible",children:l.children},f),w=Zs(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,aa(r,t.child,null,a),l=r.child,l.memoizedState=Kd(a),l.childLanes=Qd(t,_,a),r.memoizedState=Gd,r=Ml(null,l));else if(Qr(r),Cm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),r=$d(t,r,a)}else if(Nt||eo(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=el(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ws(t,l),wn(_,t,l),Hd;Im(w)||Wc(),r=$d(t,r,a)}else Im(w)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,st=Zn(w.nextSibling),Xt=r,ze=!0,Br=null,Jn=!1,t!==null&&_y(r,t),r=Yd(r,l.children),r.flags|=4096);return r}return f?(Yr(),w=l.fallback,f=r.mode,N=t.child,H=N.sibling,l=rr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?w=rr(H,w):(w=Zs(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Ml(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Kd(a):(f=w.cachePool,f!==null?(N=It._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Sy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Qd(t,_,a),r.memoizedState=Gd,Ml(t.child,l)):(Qr(r),a=t.child,t=a.sibling,a=rr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Yd(t,r){return r=Hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Hc(t,r){return t=Dn(22,t,null,r),t.lanes=0,t}function $d(t,r,a){return aa(r,t.child,null,a),t=Yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function L_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),cd(t.return,r,a)}function Xd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function U_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,le(vt,_),Wt(t,r,l,a),l=ze?El:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L_(t,a,r);else if(t.tag===19)L_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Dc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Xd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Dc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Xd(r,!0,a,null,d,l);break;case"together":Xd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function cr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Jr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=rr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=rr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Jd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&wc(t)))}function wA(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Hr(r,It,t.memoizedState.cache),ea();break;case 27:case 5:ks(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Td(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?P_(t,r,a):(Qr(r),t=cr(t,r,a),t!==null?t.sibling:null);Qr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(eo(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return U_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return r.lanes=0,N_(t,r,a,r.pendingProps);case 24:Hr(r,It,t.memoizedState.cache)}return cr(t,r,a)}function j_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Jd(t,a)&&(r.flags&128)===0)return Nt=!1,wA(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,ze&&(r.flags&1048576)!==0&&yy(r,El,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ra(r.elementType),r.type=t,typeof t=="function")nd(t)?(l=la(t,l),r.tag=1,r=k_(null,r,t,l,a)):(r.tag=0,r=Fd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){r.tag=11,r=R_(null,r,t,l,a);break e}else if(f===I){r.tag=14,r=I_(null,r,t,l,a);break e}}throw r=Ye(t)||t,Error(s(306,r,""))}}return r;case 0:return Fd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=la(l,r.pendingProps),k_(t,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,yd(t,r),Il(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Hr(r,It,l),l!==d.cache&&hd(r,[It],a,!0),Rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=V_(t,r,l,a);break e}else if(l!==f){f=Yn(Error(s(424)),r),bl(f),r=V_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Zn(t.firstChild),Xt=r,ze=!0,Br=null,Jn=!0,a=Ny(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===f){r=cr(t,r,a);break e}Wt(t,r,l,a)}r=r.child}return r;case 26:return qc(t,r),t===null?(a=Xv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=sh(Ce.current).createElement(a),l[At]=r,l[zt]=t,Zt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=Xv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ks(r),t===null&&ze&&(l=r.stateNode=Qv(r.type,r.pendingProps,Ce.current),Xt=r,Jn=!0,f=st,ns(r.type)?(Nm=f,st=Zn(l.firstChild)):st=f),Wt(t,r,r.pendingProps.children,a),qc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=l=st)&&(l=ZA(l,r.type,r.pendingProps,Jn),l!==null?(r.stateNode=l,Xt=r,st=Zn(l.firstChild),Jn=!1,f=!0):f=!1),f||qr(r)),ks(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Am(f,d)?l=null:_!==null&&Am(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Sd(t,r,mA,null,null,a),Yl._currentValue=f),qc(t,r),Wt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=st)&&(a=ex(a,r.pendingProps,Jn),a!==null?(r.stateNode=a,Xt=r,st=null,t=!0):t=!1),t||qr(r)),null;case 13:return P_(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=aa(r,null,l,a):Wt(t,r,l,a),r.child;case 11:return R_(t,r,r.type,r.pendingProps,a);case 7:return Wt(t,r,r.pendingProps,a),r.child;case 8:return Wt(t,r,r.pendingProps.children,a),r.child;case 12:return Wt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Hr(r,r.type,l.value),Wt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,na(r),f=Jt(f),l=l(f),r.flags|=1,Wt(t,r,l,a),r.child;case 14:return I_(t,r,r.type,r.pendingProps,a);case 15:return C_(t,r,r.type,r.pendingProps,a);case 19:return U_(t,r,a);case 31:return TA(t,r,a);case 22:return N_(t,r,a,r.pendingProps);case 24:return na(r),l=Jt(It),t===null?(f=md(),f===null&&(f=nt,d=fd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},gd(r),Hr(r,It,f)):((t.lanes&a)!==0&&(yd(t,r),Il(r,null,null,a),Rl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Hr(r,It,l)):(l=d.cache,Hr(r,It,l),l!==f.cache&&hd(r,[It],a,!0))),Wt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hr(t){t.flags|=4}function Wd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(fv())t.flags|=8192;else throw sa=Rc,pd}else t.flags&=-16777217}function z_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t0(r))if(fv())t.flags|=8192;else throw sa=Rc,pd}function Fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Xu():536870912,t.lanes|=r,fo|=r)}function kl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function SA(t,r,a){var l=r.pendingProps;switch(ad(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),or(It),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(r)?hr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ld())),at(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(hr(r),d!==null?(at(r),z_(r,d)):(at(r),Wd(r,f,null,l,a))):d?d!==t.memoizedState?(hr(r),at(r),z_(r,d)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&hr(r),at(r),Wd(r,f,t,l,a)),null;case 27:if(Da(r),a=Ce.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=fe.current,Za(r)?vy(r):(t=Qv(f,l,a),r.stateNode=t,hr(r))}return at(r),null;case 5:if(Da(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(d=fe.current,Za(r))vy(r);else{var _=sh(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[At]=r,d[zt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Zt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hr(r)}}return at(r),Wd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,Za(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pv(t.nodeValue,a)),t||qr(r,!0)}else t=sh(t).createTextNode(l),t[At]=r,r.stateNode=t}return at(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Za(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else a=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Za(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Fc(r,r.updateQueue),at(r),null);case 4:return lt(),t===null&&Em(r.stateNode.containerInfo),at(r),null;case 10:return or(r.type),at(r),null;case 19:if(te(vt),l=r.memoizedState,l===null)return at(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)kl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Dc(t),d!==null){for(r.flags|=128,kl(l,!1),t=d.updateQueue,r.updateQueue=t,Fc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)my(a,t),a=a.sibling;return le(vt,vt.current&1|2),ze&&sr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&hn()>$c&&(r.flags|=128,f=!0,kl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Dc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Fc(r,t),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(r),null}else 2*hn()-l.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,f=!0,kl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=hn(),t.sibling=null,a=vt.current,le(vt,f?a&1|2:a&1),ze&&sr(r,l.treeForkCount),t):(at(r),null);case 22:case 23:return Mn(r),bd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Fc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(It),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function AA(t,r){switch(ad(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return or(It),lt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Da(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Mn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(vt),null;case 4:return lt(),null;case 10:return or(r.type),null;case 22:case 23:return Mn(r),bd(),t!==null&&te(ia),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return or(It),null;case 25:return null;default:return null}}function B_(t,r){switch(ad(r),r.tag){case 3:or(It),lt();break;case 26:case 27:case 5:Da(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:te(vt);break;case 10:or(r.type);break;case 22:case 23:Mn(r),bd(),t!==null&&te(ia);break;case 24:or(It)}}function Vl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Je(r,r.return,w)}}function $r(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var N=a,H=w;try{H()}catch(X){Je(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){Je(r,r.return,X)}}function q_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Oy(r,a)}catch(l){Je(t,t.return,l)}}}function H_(t,r,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function Pl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,r,f)}}function Fi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,r,f)}else a.current=null}function F_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Zd(t,r,a){try{var l=t.stateNode;QA(l,t.type,a,r),l[zt]=r}catch(f){Je(t,t.return,f)}}function G_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ui));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(tm(t,r,a),t=t.sibling;t!==null;)tm(t,r,a),t=t.sibling}function Gc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gc(t,r,a),t=t.sibling;t!==null;)Gc(t,r,a),t=t.sibling}function K_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Zt(r,l,a),r[At]=t,r[zt]=a}catch(d){Je(t,t.return,d)}}var fr=!1,Dt=!1,nm=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function xA(t,r){if(t=t.containerInfo,wm=fh,t=sy(t),$f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,H=0,X=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(w=_+f),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++H===f&&(w=_),G===d&&++X===l&&(N=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sm={focusedElem:t,selectionRange:a},fh=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=la(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function Y_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&Vl(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var f=la(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&q_(a),l&512&&Pl(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Oy(t,r)}catch(_){Je(a,a.return,_)}}break;case 27:r===null&&l&4&&K_(a);case 26:case 5:mr(t,a),r===null&&l&4&&F_(a),l&512&&Pl(a,a.return);break;case 12:mr(t,a);break;case 31:mr(t,a),l&4&&J_(t,a);break;case 13:mr(t,a),l&4&&W_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=VA.bind(null,a),tx(t,a))));break;case 22:if(l=a.memoizedState!==null||fr,!l){r=r!==null&&r.memoizedState!==null||Dt,f=fr;var d=Dt;fr=l,(Dt=r)&&!d?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),fr=f,Dt=d}break;case 30:break;default:mr(t,a)}}function $_(t){var r=t.alternate;r!==null&&(t.alternate=null,$_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,vn=!1;function dr(t,r,a){for(a=a.child;a!==null;)X_(t,r,a),a=a.sibling}function X_(t,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(si,a)}catch{}switch(a.tag){case 26:Dt||Fi(a,r),dr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Fi(a,r);var l=ct,f=vn;ns(a.type)&&(ct=a.stateNode,vn=!1),dr(t,r,a),Gl(a.stateNode),ct=l,vn=f;break;case 5:Dt||Fi(a,r);case 6:if(l=ct,f=vn,ct=null,dr(t,r,a),ct=l,vn=f,ct!==null)if(vn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:ct!==null&&(vn?(t=ct,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bo(t)):qv(ct,a.stateNode));break;case 4:l=ct,f=vn,ct=a.stateNode.containerInfo,vn=!0,dr(t,r,a),ct=l,vn=f;break;case 0:case 11:case 14:case 15:$r(2,a,r),Dt||$r(4,a,r),dr(t,r,a);break;case 1:Dt||(Fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&H_(a,r,l)),dr(t,r,a);break;case 21:dr(t,r,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,dr(t,r,a),Dt=l;break;default:dr(t,r,a)}}function J_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bo(t)}catch(a){Je(r,r.return,a)}}}function W_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bo(t)}catch(a){Je(r,r.return,a)}}function RA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Q_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Q_),r;default:throw Error(s(435,t.tag))}}function Kc(t,r){var a=RA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=PA.bind(null,t,l);l.then(f,f)}})}function En(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(ns(w.type)){ct=w.stateNode,vn=!1;break e}break;case 5:ct=w.stateNode,vn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));X_(d,_,f),ct=null,vn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Z_(r,t),r=r.sibling}var pi=null;function Z_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),bn(t),l&4&&($r(3,t,t.return),Vl(3,t),$r(5,t,t.return));break;case 1:En(r,t),bn(t),l&512&&(Dt||a===null||Fi(a,a.return)),l&64&&fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pi;if(En(r,t),bn(t),l&512&&(Dt||a===null||Fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ni]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Zt(d,l,a),d[At]=t,xt(d),l=d;break e;case"link":var _=Zv("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),Zt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Zv("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),Zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,xt(d),l=d}t.stateNode=l}else e0(f,t.type,t.stateNode);else t.stateNode=Wv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?e0(f,t.type,t.stateNode):Wv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),bn(t),l&512&&(Dt||a===null||Fi(a,a.return)),a!==null&&l&4&&Zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),bn(t),l&512&&(Dt||a===null||Fi(a,a.return)),t.flags&32){f=t.stateNode;try{_n(f,"")}catch(de){Je(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Zd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(nm=!0);break;case 6:if(En(r,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Je(t,t.return,de)}}break;case 3:if(lh=null,f=pi,pi=ah(r.containerInfo),En(r,t),pi=f,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bo(r.containerInfo)}catch(de){Je(t,t.return,de)}nm&&(nm=!1,ev(t));break;case 4:l=pi,pi=ah(t.stateNode.containerInfo),En(r,t),bn(t),pi=l;break;case 12:En(r,t),bn(t);break;case 31:En(r,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 13:En(r,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=fr,X=Dt;if(fr=H||f,Dt=X||N,En(r,t),Dt=X,fr=H,bn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||fr||Dt||ua(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){Je(N,N.return,de)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){Je(N,N.return,de)}}}else if(r.tag===18){if(a===null){N=r;try{var Q=N.stateNode;f?Hv(Q,!0):Hv(N.stateNode,!1)}catch(de){Je(N,N.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kc(t,a))));break;case 19:En(r,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 30:break;case 21:break;default:En(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(G_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=em(t);Gc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var w=em(t);Gc(t,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=em(t);tm(t,H,N);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function mr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Y_(t,r.alternate,r),r=r.sibling}function ua(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),ua(r);break;case 1:Fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&H_(r,r.return,a),ua(r);break;case 27:Gl(r.stateNode);case 26:case 5:Fi(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}t=t.sibling}}function pr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:pr(f,d,a),Vl(4,d);break;case 1:if(pr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Dy(N[f],w)}catch(H){Je(l,l.return,H)}}a&&_&64&&q_(d),Pl(d,d.return);break;case 27:K_(d);case 26:case 5:pr(f,d,a),a&&l===null&&_&4&&F_(d),Pl(d,d.return);break;case 12:pr(f,d,a);break;case 31:pr(f,d,a),a&&_&4&&J_(f,d);break;case 13:pr(f,d,a),a&&_&4&&W_(f,d);break;case 22:d.memoizedState===null&&pr(f,d,a),Pl(d,d.return);break;case 30:break;default:pr(f,d,a)}r=r.sibling}}function im(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function rm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Tl(t))}function gi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(t,r,a,l),r=r.sibling}function tv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gi(t,r,a,l),f&2048&&Vl(9,r);break;case 1:gi(t,r,a,l);break;case 3:gi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Tl(t)));break;case 12:if(f&2048){gi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(r,r.return,N)}}else gi(t,r,a,l);break;case 31:gi(t,r,a,l);break;case 13:gi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?gi(t,r,a,l):Ll(t,r):d._visibility&2?gi(t,r,a,l):(d._visibility|=2,uo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&im(_,r);break;case 24:gi(t,r,a,l),f&2048&&rm(r.alternate,r);break;default:gi(t,r,a,l)}}function uo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,w=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:uo(d,_,w,N,f),Vl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?uo(d,_,w,N,f):Ll(d,_):(X._visibility|=2,uo(d,_,w,N,f)),f&&H&2048&&im(_.alternate,_);break;case 24:uo(d,_,w,N,f),f&&H&2048&&rm(_.alternate,_);break;default:uo(d,_,w,N,f)}r=r.sibling}}function Ll(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Ll(a,l),f&2048&&im(l.alternate,l);break;case 24:Ll(a,l),f&2048&&rm(l.alternate,l);break;default:Ll(a,l)}r=r.sibling}}var Ul=8192;function co(t,r,a){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)nv(t,r,a),t=t.sibling}function nv(t,r,a){switch(t.tag){case 26:co(t,r,a),t.flags&Ul&&t.memoizedState!==null&&dx(a,pi,t.memoizedState,t.memoizedProps);break;case 5:co(t,r,a);break;case 3:case 4:var l=pi;pi=ah(t.stateNode.containerInfo),co(t,r,a),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,co(t,r,a),Ul=l):co(t,r,a));break;default:co(t,r,a)}}function iv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function jl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,sv(l,t)}iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rv(t),t=t.sibling}function rv(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&$r(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qc(t)):jl(t);break;default:jl(t)}}function Qc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,sv(l,t)}iv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Qc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Qc(r));break;default:Qc(r)}t=t.sibling}}function sv(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var f=l.sibling,d=l.return;if($_(l),l===a){qt=null;break e}if(f!==null){f.return=d,qt=f;break e}qt=d}}}var IA={getCacheForType:function(t){var r=Jt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Jt(It).controller.signal}},CA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,Me=0,Xe=0,kn=null,Xr=!1,ho=!1,sm=!1,gr=0,pt=0,Jr=0,ca=0,am=0,Vn=0,fo=0,zl=null,Tn=null,om=!1,Yc=0,av=0,$c=1/0,Xc=null,Wr=null,Lt=0,Zr=null,mo=null,yr=0,lm=0,um=null,ov=null,Bl=0,cm=null;function Pn(){return(Ke&2)!==0&&Me!==0?Me&-Me:$.T!==null?gm():Ju()}function lv(){if(Vn===0)if((Me&536870912)===0||ze){var t=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Vn=t}else Vn=536870912;return t=On.current,t!==null&&(t.flags|=32),Vn}function wn(t,r,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(po(t,0),es(t,Me,Vn,!1)),Us(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(ca|=a),pt===4&&es(t,Me,Vn,!1)),Gi(t))}function uv(t,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ai(t,r),f=l?OA(t,r):fm(t,r,!0),d=l;do{if(f===0){ho&&!l&&es(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!NA(a)){f=fm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=t;f=zl;var N=w.current.memoizedState.isDehydrated;if(N&&(po(w,_).flags|=256),_=fm(w,_,!1),_!==2){if(sm&&!N){w.errorRecoveryDisabledLanes|=d,ca|=d,f=4;break e}d=Tn,Tn=f,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){po(t,0),es(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:es(l,r,Vn,!Xr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Yc+300-hn(),10<f)){if(es(l,r,Vn,!Xr),Ri(l,0,!0)!==0)break e;yr=r,l.timeoutHandle=zv(cv.bind(null,l,a,Tn,Xc,om,r,Vn,ca,fo,Xr,d,"Throttled",-0,0),f);break e}cv(l,a,Tn,Xc,om,r,Vn,ca,fo,Xr,d,null,-0,0)}}break}while(!0);Gi(t)}function cv(t,r,a,l,f,d,_,w,N,H,X,ee,G,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},nv(r,d,ee);var de=(d&62914560)===d?Yc-hn():(d&4194048)===d?av-hn():0;if(de=mx(ee,de),de!==null){yr=d,t.cancelPendingCommit=de(_v.bind(null,t,r,d,a,l,f,_,w,N,X,ee,null,G,Q)),es(t,d,_,!H);return}}_v(t,r,d,a,l,f,_,w,N)}function NA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Nn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function es(t,r,a,l){r&=~am,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&js(t,a,r)}function Jc(){return(Ke&6)===0?(ql(0),!1):!0}function hm(){if(De!==null){if(Xe===0)var t=De.return;else t=De,ar=ta=null,Rd(t),ro=null,Sl=0,t=De;for(;t!==null;)B_(t.alternate,t),t=t.return;De=null}}function po(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,XA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yr=0,hm(),nt=t,De=a=rr(t.current,null),Me=r,Xe=0,kn=null,Xr=!1,ho=ai(t,r),sm=!1,fo=Vn=am=ca=Jr=pt=0,Tn=zl=null,om=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-yt(l),d=1<<f;r|=t[f],l&=~d}return gr=r,_c(),a}function hv(t,r){Ie=null,$.H=Ol,r===io||r===xc?(r=Ry(),Xe=3):r===pd?(r=Ry(),Xe=4):Xe=r===Hd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,De===null&&(pt=1,zc(t,Yn(r,t.current)))}function fv(){var t=On.current;return t===null?!0:(Me&4194048)===Me?Wn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Wn:!1}function dv(){var t=$.H;return $.H=Ol,t===null?Ol:t}function mv(){var t=$.A;return $.A=IA,t}function Wc(){pt=4,Xr||(Me&4194048)!==Me&&On.current!==null||(ho=!0),(Jr&134217727)===0&&(ca&134217727)===0||nt===null||es(nt,Me,Vn,!1)}function fm(t,r,a){var l=Ke;Ke|=2;var f=dv(),d=mv();(nt!==t||Me!==r)&&(Xc=null,po(t,r)),r=!1;var _=pt;e:do try{if(Xe!==0&&De!==null){var w=De,N=kn;switch(Xe){case 8:hm(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var H=Xe;if(Xe=0,kn=null,go(t,w,N,H),a&&ho){_=0;break e}break;default:H=Xe,Xe=0,kn=null,go(t,w,N,H)}}DA(),_=pt;break}catch(X){hv(t,X)}while(!0);return r&&t.shellSuspendCounter++,ar=ta=null,Ke=l,$.H=f,$.A=d,De===null&&(nt=null,Me=0,_c()),_}function DA(){for(;De!==null;)pv(De)}function OA(t,r){var a=Ke;Ke|=2;var l=dv(),f=mv();nt!==t||Me!==r?(Xc=null,$c=hn()+500,po(t,r)):ho=ai(t,r);e:do try{if(Xe!==0&&De!==null){r=De;var d=kn;t:switch(Xe){case 1:Xe=0,kn=null,go(t,r,d,1);break;case 2:case 9:if(Ay(d)){Xe=0,kn=null,gv(r);break}r=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Gi(t)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Ay(d)?(Xe=0,kn=null,gv(r)):(Xe=0,kn=null,go(t,r,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var w=De;if(_?t0(_):w.stateNode.complete){Xe=0,kn=null;var N=w.sibling;if(N!==null)De=N;else{var H=w.return;H!==null?(De=H,Zc(H)):De=null}break t}}Xe=0,kn=null,go(t,r,d,5);break;case 6:Xe=0,kn=null,go(t,r,d,6);break;case 8:hm(),pt=6;break e;default:throw Error(s(462))}}MA();break}catch(X){hv(t,X)}while(!0);return ar=ta=null,$.H=l,$.A=f,Ke=a,De!==null?0:(nt=null,Me=0,_c(),pt)}function MA(){for(;De!==null&&!qf();)pv(De)}function pv(t){var r=j_(t.alternate,t,gr);t.memoizedProps=t.pendingProps,r===null?Zc(t):De=r}function gv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=M_(a,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=M_(a,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:Rd(r);default:B_(a,r),r=De=my(r,gr),r=j_(a,r,gr)}t.memoizedProps=t.pendingProps,r===null?Zc(t):De=r}function go(t,r,a,l){ar=ta=null,Rd(r),ro=null,Sl=0;var f=r.return;try{if(bA(t,f,r,a,Me)){pt=1,zc(t,Yn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;pt=1,zc(t,Yn(a,t.current)),De=null;return}r.flags&32768?(ze||l===1?t=!0:ho||(Me&536870912)!==0?t=!1:(Xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(r,t)):Zc(r)}function Zc(t){var r=t;do{if((r.flags&32768)!==0){yv(r,Xr);return}t=r.return;var a=SA(r.alternate,r,gr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);pt===0&&(pt=5)}function yv(t,r){do{var a=AA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);pt=6,De=null}function _v(t,r,a,l,f,d,_,w,N){t.cancelPendingCommit=null;do eh();while(Lt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=ed,Gf(t,a,d,_,w,N),t===nt&&(De=nt=null,Me=0),mo=r,Zr=t,yr=a,lm=d,um=f,ov=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LA(Nr,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,_=Ke,Ke|=4;try{xA(t,r,a)}finally{Ke=_,ae.p=f,$.T=l}}Lt=1,vv(),Ev(),bv()}}function vv(){if(Lt===1){Lt=0;var t=Zr,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{Z_(r,t);var d=Sm,_=sy(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&ry(w.ownerDocument.documentElement,w)){if(N!==null&&$f(w)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),de=w.textContent.length,_e=Math.min(N.start,de),tt=N.end===void 0?_e:Math.min(N.end,de);!Q.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var j=iy(w,_e),V=iy(w,tt);if(j&&V&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),_e>tt?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(ee=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var W=ee[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}fh=!!wm,Sm=wm=null}finally{Ke=f,ae.p=l,$.T=a}}t.current=r,Lt=2}}function Ev(){if(Lt===2){Lt=0;var t=Zr,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{Y_(t,r.alternate,r)}finally{Ke=f,ae.p=l,$.T=a}}Lt=3}}function bv(){if(Lt===4||Lt===3){Lt=0,Fu();var t=Zr,r=mo,a=yr,l=ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,mo=Zr=null,Tv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Wr=null),er(a),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{$.T=r,ae.p=f}}(yr&3)!==0&&eh(),Gi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===cm?Bl++:(Bl=0,cm=t):Bl=0,ql(0)}}function Tv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Tl(r)))}function eh(){return vv(),Ev(),bv(),wv()}function wv(){if(Lt!==5)return!1;var t=Zr,r=lm;lm=0;var a=er(yr),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=um,um=null;var d=Zr,_=yr;if(Lt=0,mo=Zr=null,yr=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,rv(d.current),tv(d,d.current,_,a),Ke=w,ql(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(si,d)}catch{}return!0}finally{ae.p=f,$.T=l,Tv(t,r)}}function Sv(t,r,a){r=Yn(a,r),r=qd(t.stateNode,r,2),t=Kr(t,r,2),t!==null&&(Us(t,2),Gi(t))}function Je(t,r,a){if(t.tag===3)Sv(t,t,a);else for(;r!==null;){if(r.tag===3){Sv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){t=Yn(a,t),a=A_(2),l=Kr(r,a,2),l!==null&&(x_(a,l,r,t),Us(l,2),Gi(l));break}}r=r.return}}function dm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new CA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(sm=!0,f.add(a),t=kA.bind(null,t,r,a),r.then(t,t))}function kA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(pt===4||pt===3&&(Me&62914560)===Me&&300>hn()-Yc?(Ke&2)===0&&po(t,0):am|=a,fo===Me&&(fo=0)),Gi(t)}function Av(t,r){r===0&&(r=Xu()),t=Ws(t,r),t!==null&&(Us(t,r),Gi(t))}function VA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Av(t,a)}function PA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Av(t,a)}function LA(t,r){return Pt(t,r)}var th=null,yo=null,mm=!1,nh=!1,pm=!1,ts=0;function Gi(t){t!==yo&&t.next===null&&(yo===null?th=yo=t:yo=yo.next=t),nh=!0,mm||(mm=!0,jA())}function ql(t,r){if(!pm&&nh){pm=!0;do for(var a=!1,l=th;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Cv(l,d))}else d=Me,d=Ri(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ai(l,d)||(a=!0,Cv(l,d));l=l.next}while(a);pm=!1}}function UA(){xv()}function xv(){nh=mm=!1;var t=0;ts!==0&&$A()&&(t=ts);for(var r=hn(),a=null,l=th;l!==null;){var f=l.next,d=Rv(l,r);d===0?(l.next=null,a===null?th=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(d&3)!==0)&&(nh=!0)),l=f}Lt!==0&&Lt!==5||ql(t),ts!==0&&(ts=0)}function Rv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),w=1<<_,N=f[_];N===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Ff(w,r)):N<=r&&(t.expiredLanes|=w),d&=~w}if(r=nt,a=Me,a=Ri(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ai(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Cr(l),er(a)){case 2:case 8:a=Wo;break;case 32:a=Nr;break;case 268435456:a=Gu;break;default:a=Nr}return l=Iv.bind(null,t),a=Pt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function Iv(t,r){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eh()&&t.callbackNode!==a)return null;var l=Me;return l=Ri(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,r),Rv(t,hn()),t.callbackNode!=null&&t.callbackNode===a?Iv.bind(null,t):null)}function Cv(t,r){if(eh())return null;uv(t,r,!0)}function jA(){JA(function(){(Ke&6)!==0?Pt(Jo,UA):xv()})}function gm(){if(ts===0){var t=to;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),ts=t}return ts}function Nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function Dv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function zA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Nv((f[zt]||null).action),_=l.submitter;_&&(r=(r=_[zt]||null)?Nv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ui("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var N=_?Dv(f,_):new FormData(f);Pd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?Dv(f,_):new FormData(f),Pd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var ym=0;ym<Zf.length;ym++){var _m=Zf[ym],BA=_m.toLowerCase(),qA=_m[0].toUpperCase()+_m.slice(1);mi(BA,"on"+qA)}mi(ly,"onAnimationEnd"),mi(uy,"onAnimationIteration"),mi(cy,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(rA,"onTransitionRun"),mi(sA,"onTransitionStart"),mi(aA,"onTransitionCancel"),mi(hy,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ov(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,H=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=H;try{d(f)}catch(X){yc(X)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,H=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=H;try{d(f)}catch(X){yc(X)}f.currentTarget=null,d=N}}}}function Oe(t,r){var a=r[Va];a===void 0&&(a=r[Va]=new Set);var l=t+"__bubble";a.has(l)||(Mv(r,t,2,!1),a.add(l))}function vm(t,r,a){var l=0;r&&(l|=4),Mv(a,t,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Em(t){if(!t[ih]){t[ih]=!0,tl.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||vm(a,!1,t),vm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ih]||(r[ih]=!0,vm("selectionchange",!1,r))}}function Mv(t,r,a,l){switch(l0(r)){case 2:var f=yx;break;case 8:f=_x;break;default:f=Vm}a=f.bind(null,r,a,t),f=void 0,!Fs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function bm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=Di(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Pr(function(){var H=d,X=Fn(a),ee=[];e:{var G=fy.get(t);if(G!==void 0){var Q=Ui,de=t;switch(t){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":Q=mc;break;case"focusin":de="focus",Q=Ys;break;case"focusout":de="blur",Q=Ys;break;case"beforeblur":case"afterblur":Q=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case ly:case uy:case cy:Q=oc;break;case hy:Q=S;break;case"scroll":case"scrollend":Q=dl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ir;break;case"toggle":case"beforetoggle":Q=Re}var _e=(r&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),j=_e?G!==null?G+"Capture":null:G;_e=[];for(var V=H,q;V!==null;){var W=V;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||j===null||(W=ci(V,j),W!=null&&_e.push(Fl(V,W,q))),tt)break;V=V.return}0<_e.length&&(G=new Q(G,de,null,a,X),ee.push({event:G,listeners:_e}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==cl&&(de=a.relatedTarget||a.fromElement)&&(Di(de)||de[Ci]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=H,de=de?Di(de):null,de!==null&&(tt=u(de),_e=de.tag,de!==tt||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(Q=null,de=H),Q!==de)){if(_e=ml,W="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ir,W="onPointerLeave",j="onPointerEnter",V="pointer"),tt=Q==null?G:In(Q),q=de==null?G:In(de),G=new _e(W,V+"leave",Q,a,X),G.target=tt,G.relatedTarget=q,W=null,Di(X)===H&&(_e=new _e(j,V+"enter",de,a,X),_e.target=q,_e.relatedTarget=tt,W=_e),tt=W,Q&&de)t:{for(_e=FA,j=Q,V=de,q=0,W=j;W;W=_e(W))q++;W=0;for(var ge=V;ge;ge=_e(ge))W++;for(;0<q-W;)j=_e(j),q--;for(;0<W-q;)V=_e(V),W--;for(;q--;){if(j===V||V!==null&&j===V.alternate){_e=j;break t}j=_e(j),V=_e(V)}_e=null}else _e=null;Q!==null&&kv(ee,G,Q,_e,!1),de!==null&&tt!==null&&kv(ee,tt,de,_e,!0)}}e:{if(G=H?In(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var He=Jg;else if($g(G))if(Wg)He=tA;else{He=ZS;var me=WS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&ja(H.elementType)&&(He=Jg):He=eA;if(He&&(He=He(t,H))){Xg(ee,He,a,X);break e}me&&me(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&ol(G,"number",G.value)}switch(me=H?In(H):window,t){case"focusin":($g(me)||me.contentEditable==="true")&&(Qa=me,Xf=H,vl=null);break;case"focusout":vl=Xf=Qa=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,ay(ee,a,X);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":ay(ee,a,X)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ka?$s(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Bi&&a.locale!=="ko"&&(Ka||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ka&&(Ne=fl()):(Li=X,hl="value"in Li?Li.value:Li.textContent,Ka=!0)),me=rh(H,ke),0<me.length&&(ke=new zi(ke,t,null,a,X),ee.push({event:ke,listeners:me}),Ne?ke.data=Ne:(Ne=Ga(a),Ne!==null&&(ke.data=Ne)))),(Ne=Kn?YS(t,a):$S(t,a))&&(ke=rh(H,"onBeforeInput"),0<ke.length&&(me=new zi("onBeforeInput","beforeinput",null,a,X),ee.push({event:me,listeners:ke}),me.data=Ne)),zA(ee,t,H,a,X)}Ov(ee,r)})}function Fl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function rh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ci(t,a),f!=null&&l.unshift(Fl(t,f,d)),f=ci(t,r),f!=null&&l.push(Fl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function FA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,H=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||H===null||(N=H,f?(H=ci(a,d),H!=null&&_.unshift(Fl(a,H,N))):f||(H=ci(a,d),H!=null&&_.push(Fl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var GA=/\r\n?/g,KA=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(GA,`
`).replace(KA,"")}function Pv(t,r){return r=Vv(r),Vv(t)===r}function et(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&_n(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":ul(t,l,d);break;case"data":if(r!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),La(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":La(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rc.get(a)||a,La(t,a,l))}}function Tm(t,r,a,l,f,d){switch(a){case"style":ul(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):La(t,a,l)}}}function Zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,d,_,a,null)}}f&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:et(t,r,l,X,a,null)}}tc(t,d,w,N,H,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:et(t,r,f,w,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Or(t,!!l,r,!1):a!=null&&Or(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(t,r,_,w,a,null)}Mr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,r,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Oe(Hl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,H,l,a,null)}return;default:if(ja(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Tm(t,r,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,r,w,l,a,null))}function QA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,N=null,H=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Q)||et(t,r,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&et(t,r,G,Q,l,ee)}}Ua(t,_,w,N,H,X,d,f);return;case"select":Q=_=w=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||et(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&et(t,r,f,d,l,N)}r=w,a=_,l=Q,G!=null?Or(t,!!a,G,!1):!!l!=!!a&&(r!=null?Or(t,!!a,r,!0):Or(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,r,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,r,_,f,l,d)}nc(t,G,Q);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,r,de,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,r,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&et(t,r,_e,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:et(t,r,H,G,l,Q)}return;default:if(ja(r)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&Tm(t,r,tt,void 0,l,G);for(X in l)G=l[X],Q=a[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||Tm(t,r,X,G,l,Q);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&et(t,r,j,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||et(t,r,ee,G,l,Q)}function Lv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&Lv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>w)break;var X=N.transferSize,ee=N.initiatorType;X&&Lv(ee)&&(N=N.responseEnd,_+=X*(N<w?1:(w-H)/(N-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wm=null,Sm=null;function sh(t){return t.nodeType===9?t:t.ownerDocument}function Uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Am(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xm=null;function $A(){var t=window.event;return t&&t.type==="popstate"?t===xm?!1:(xm=t,!0):(xm=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(WA)}:zv;function WA(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function qv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),bo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[Ni]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Gl(t.ownerDocument.body);a=f}while(a);bo(r)}function Hv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Rm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rm(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ZA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ni])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function ex(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function Fv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$?"||t.data==="$~"}function Cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tx(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Nm=null;function Gv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Zn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Kv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Qv(t,r,a){switch(r=sh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Gl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pa(t)}var ei=new Map,Yv=new Set;function ah(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=ae.d;ae.d={f:nx,r:ix,D:rx,C:sx,L:ax,m:ox,X:ux,S:lx,M:cx};function nx(){var t=_r.f(),r=Jc();return t||r}function ix(t){var r=Hn(t);r!==null&&r.tag===5&&r.type==="form"?h_(r):_r.r(t)}var _o=typeof document>"u"?null:document;function $v(t,r,a){var l=_o;if(l&&typeof r=="string"&&r){var f=yn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Yv.has(f)||(Yv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Zt(r,"link",t),xt(r),l.head.appendChild(r)))}}function rx(t){_r.D(t),$v("dns-prefetch",t,null)}function sx(t,r){_r.C(t,r),$v("preconnect",t,r)}function ax(t,r,a){_r.L(t,r,a);var l=_o;if(l&&t&&r){var f='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+yn(a.imageSizes)+'"]')):f+='[href="'+yn(t)+'"]';var d=f;switch(r){case"style":d=vo(t);break;case"script":d=Eo(t)}ei.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),ei.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Kl(d))||r==="script"&&l.querySelector(Ql(d))||(r=l.createElement("link"),Zt(r,"link",t),xt(r),l.head.appendChild(r)))}}function ox(t,r){_r.m(t,r);var a=_o;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!ei.has(d)&&(t=T({rel:"modulepreload",href:t},r),ei.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),Zt(l,"link",t),xt(l),a.head.appendChild(l)}}}function lx(t,r,a){_r.S(t,r,a);var l=_o;if(l&&t){var f=Oi(l).hoistableStyles,d=vo(t);r=r||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Kl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=ei.get(d))&&Dm(t,a);var N=_=l.createElement("link");xt(N),Zt(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,oh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function ux(t,r){_r.X(t,r);var a=_o;if(a&&t){var l=Oi(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=T({src:t,async:!0},r),(r=ei.get(f))&&Om(t,r),d=a.createElement("script"),xt(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function cx(t,r){_r.M(t,r);var a=_o;if(a&&t){var l=Oi(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=ei.get(f))&&Om(t,r),d=a.createElement("script"),xt(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Xv(t,r,a,l){var f=(f=Ce.current)?ah(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=Oi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=Oi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Kl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(t,a),d||hx(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(a),a=Oi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+yn(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function hx(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),xt(r),t.head.appendChild(r))}function Eo(t){return'[src="'+yn(t)+'"]'}function Ql(t){return"script[async]"+t}function Wv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Zt(l,"style",f),oh(l,a.precedence,t),r.instance=l;case"stylesheet":f=vo(a.href);var d=t.querySelector(Kl(f));if(d)return r.state.loading|=4,r.instance=d,xt(d),d;l=Jv(a),(f=ei.get(f))&&Dm(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Zt(d,"link",l),r.state.loading|=4,oh(d,a.precedence,t),r.instance=d;case"script":return d=Eo(a.src),(f=t.querySelector(Ql(d)))?(r.instance=f,xt(f),f):(l=a,(f=ei.get(d))&&(l=T({},a),Om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Zt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,oh(l,a.precedence,t));return r.instance}function oh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var lh=null;function Zv(t,r,a){if(lh===null){var l=new Map,f=lh=new Map;f.set(a,l)}else f=lh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ni]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function e0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function fx(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function t0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dx(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),d=r.querySelector(Kl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=uh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=r.ownerDocument||r,l=Jv(l),(f=ei.get(f))&&Dm(l,f),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Zt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Mm=0;function mx(t,r){return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Mm===0&&(Mm=62500*YA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Mm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function hh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,r.forEach(px,t),ch=null,uh.call(t))}function px(t,r){if(!(r.state.loading&4)){var a=ch.get(t);if(a)var l=a.get(null);else{a=new Map,ch.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=uh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Yl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function gx(t,r,a,l,f,d,_,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function n0(t,r,a,l,f,d,_,w,N,H,X,ee){return t=new gx(t,r,a,_,N,H,X,ee,w),r=1,d===!0&&(r|=24),d=Dn(3,null,null,r),t.current=d,d.stateNode=t,r=fd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},gd(d),t}function i0(t){return t?(t=Xa,t):Xa}function r0(t,r,a,l,f,d){f=i0(f),l.context===null?l.context=f:l.pendingContext=f,l=Gr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Kr(t,l,r),a!==null&&(wn(a,t,r),xl(a,t,r))}function s0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function km(t,r){s0(t,r),(t=t.alternate)&&s0(t,r)}function a0(t){if(t.tag===13||t.tag===31){var r=Ws(t,67108864);r!==null&&wn(r,t,67108864),km(t,67108864)}}function o0(t){if(t.tag===13||t.tag===31){var r=Pn();r=zs(r);var a=Ws(t,r);a!==null&&wn(a,t,r),km(t,r)}}var fh=!0;function yx(t,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=2,Vm(t,r,a,l)}finally{ae.p=d,$.T=f}}function _x(t,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=8,Vm(t,r,a,l)}finally{ae.p=d,$.T=f}}function Vm(t,r,a,l){if(fh){var f=Pm(l);if(f===null)bm(t,r,l,dh,a),u0(t,l);else if(Ex(f,t,r,a,l))l.stopPropagation();else if(u0(t,l),r&4&&-1<vx.indexOf(t)){for(;f!==null;){var d=Hn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=xi(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-yt(_);w.entanglements[1]|=N,_&=~N}Gi(d),(Ke&6)===0&&($c=hn()+500,ql(0))}}break;case 31:case 13:w=Ws(d,2),w!==null&&wn(w,d,2),Jc(),km(d,2)}if(d=Pm(l),d===null&&bm(t,r,l,dh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else bm(t,r,l,null,a)}}function Pm(t){return t=Fn(t),Lm(t)}var dh=null;function Lm(t){if(dh=null,t=Di(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return dh=t,null}function l0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Jo:return 2;case Wo:return 8;case Nr:case Hf:return 32;case Gu:return 268435456;default:return 32}default:return 32}}var Um=!1,is=null,rs=null,ss=null,$l=new Map,Xl=new Map,as=[],vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(t,r){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":$l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(r.pointerId)}}function Jl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Hn(r),r!==null&&a0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Ex(t,r,a,l,f){switch(r){case"focusin":return is=Jl(is,t,r,a,l,f),!0;case"dragenter":return rs=Jl(rs,t,r,a,l,f),!0;case"mouseover":return ss=Jl(ss,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Jl($l.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Xl.set(d,Jl(Xl.get(d)||null,t,r,a,l,f)),!0}return!1}function c0(t){var r=Di(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,oi(t.priority,function(){o0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,oi(t.priority,function(){o0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Pm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return r=Hn(a),r!==null&&a0(r),t.blockedOn=a,!1;r.shift()}return!0}function h0(t,r,a){mh(t)&&a.delete(r)}function bx(){Um=!1,is!==null&&mh(is)&&(is=null),rs!==null&&mh(rs)&&(rs=null),ss!==null&&mh(ss)&&(ss=null),$l.forEach(h0),Xl.forEach(h0)}function ph(t,r){t.blockedOn===r&&(t.blockedOn=null,Um||(Um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bx)))}var gh=null;function f0(t){gh!==t&&(gh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Lm(l||a)===null)continue;break}var d=Hn(a);d!==null&&(t.splice(r,3),r-=3,Pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function bo(t){function r(N){return ph(N,t)}is!==null&&ph(is,t),rs!==null&&ph(rs,t),ss!==null&&ph(ss,t),$l.forEach(r),Xl.forEach(r);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)c0(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[zt]||null;if(typeof d=="function")_||f0(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[zt]||null)w=_.formAction;else if(Lm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),f0(a)}}}function d0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function jm(t){this._internalRoot=t}yh.prototype.render=jm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Pn();r0(a,l,t,r,null,null)},yh.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;r0(t.current,2,null,t,null,null),Jc(),r[Ci]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ju();t={blockedOn:null,target:t,priority:r};for(var a=0;a<as.length&&r!==0&&r<as[a].priority;a++);as.splice(a,0,t),a===0&&c0(t)}};var m0=e.version;if(m0!=="19.2.0")throw Error(s(527,m0,"19.2.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Tx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{si=_h.inject(Tx),Yt=_h}catch{}}return Zl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=b_,d=T_,_=w_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=n0(t,1,!1,null,null,a,l,null,f,d,_,d0),t[Ci]=r.current,Em(t),new jm(r)},Zl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=b_,_=T_,w=w_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=n0(t,1,!0,r,a??null,l,f,N,d,_,w,d0),r.context=i0(null),a=r.current,l=Pn(),l=zs(l),f=Gr(l),f.callback=null,Kr(a,f,l),a=l,r.current.lanes=a,Us(r,a),Gi(r),t[Ci]=r.current,Em(t),new yh(r)},Zl.version="19.2.0",Zl}var S0;function Ox(){if(S0)return qm.exports;S0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=Dx(),qm.exports}var Mx=Ox();var A0="popstate";function kx(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return hp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:mu(o)}return Px(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _i(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vx(){return Math.random().toString(36).substring(2,10)}function x0(i,e){return{usr:i.state,key:i.key,idx:e}}function hp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:n,key:e&&e.key||s||Vx()}}function mu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function jo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Px(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=E(),Y=L==null?null:L-g;g=L,p&&p({action:m,location:z.location,delta:Y})}function A(L,Y){m="PUSH";let J=hp(z.location,L,Y);g=E()+1;let ie=x0(J,g),se=z.createHref(J);try{h.pushState(ie,"",se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(se)}u&&p&&p({action:m,location:z.location,delta:1})}function O(L,Y){m="REPLACE";let J=hp(z.location,L,Y);g=E();let ie=x0(J,g),se=z.createHref(J);h.replaceState(ie,"",se),u&&p&&p({action:m,location:z.location,delta:0})}function F(L){return Lx(L)}let z={get action(){return m},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(A0,T),p=L,()=>{o.removeEventListener(A0,T),p=null}},createHref(L){return e(o,L)},createURL:F,encodeLocation(L){let Y=F(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:O,go(L){return h.go(L)}};return z}function Lx(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:mu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function vb(i,e,n="/"){return Ux(i,e,n,!1)}function Ux(i,e,n,s){let o=typeof e=="string"?jo(e):e,u=Sr(o.pathname||"/",n);if(u==null)return null;let h=Eb(i);jx(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Xx(u);m=Yx(h[p],g,s)}return m}function Eb(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=br([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Eb(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:Kx(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of bb(h.path))u(h,m,!0,p)}),e}function bb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=bb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function jx(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Qx(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zx=/^:[\w-]+$/,Bx=3,qx=2,Hx=1,Fx=10,Gx=-2,R0=i=>i==="*";function Kx(i,e){let n=i.split("/"),s=n.length;return n.some(R0)&&(s+=Gx),e&&(s+=qx),n.filter(o=>!R0(o)).reduce((o,u)=>o+(zx.test(u)?Bx:u===""?Hx:Fx),s)}function Qx(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Yx(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:br([u,T.pathname]),pathnameBase:eR(br([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=br([u,T.pathnameBase]))}return h}function Bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=$x(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const O=m[A];return T&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function $x(i,e=!1,n=!0){_i(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Jx(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?jo(i):i;return{pathname:n?n.startsWith("/")?n:Wx(n,e):e,search:tR(s),hash:nR(o)}}function Wx(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Km(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zx(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(i){let e=Zx(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gp(i,e,n,s=!1){let o;typeof i=="string"?o=jo(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=Jx(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var br=i=>i.join("/").replace(/\/\/+/g,"/"),eR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,nR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function iR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tb=["POST","PUT","PATCH","DELETE"];new Set(Tb);var rR=["GET",...Tb];new Set(rR);var zo=P.createContext(null);zo.displayName="DataRouter";var ff=P.createContext(null);ff.displayName="DataRouterState";P.createContext(!1);var wb=P.createContext({isTransitioning:!1});wb.displayName="ViewTransition";var sR=P.createContext(new Map);sR.displayName="Fetchers";var aR=P.createContext(null);aR.displayName="Await";var Ti=P.createContext(null);Ti.displayName="Navigation";var xu=P.createContext(null);xu.displayName="Location";var wi=P.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Kp=P.createContext(null);Kp.displayName="RouteError";function oR(i,{relative:e}={}){ht(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Ti),{hash:o,pathname:u,search:h}=Iu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:br([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Bo(){return P.useContext(xu)!=null}function As(){return ht(Bo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(xu).location}var Sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ab(i){P.useContext(Ti).static||P.useLayoutEffect(i)}function xs(){let{isDataRoute:i}=P.useContext(wi);return i?ER():lR()}function lR(){ht(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(zo),{basename:e,navigator:n}=P.useContext(Ti),{matches:s}=P.useContext(wi),{pathname:o}=As(),u=JSON.stringify(Fp(s)),h=P.useRef(!1);return Ab(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(_i(h.current,Sb),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Gp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:br([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}P.createContext(null);function Ru(){let{matches:i}=P.useContext(wi),e=i[i.length-1];return e?e.params:{}}function Iu(i,{relative:e}={}){let{matches:n}=P.useContext(wi),{pathname:s}=As(),o=JSON.stringify(Fp(n));return P.useMemo(()=>Gp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function uR(i,e){return xb(i,e)}function xb(i,e,n,s,o){ht(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Ti),{matches:h}=P.useContext(wi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";Rb(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=As(),O;if(e){let J=typeof e=="string"?jo(e):e;ht(E==="/"||J.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),O=J}else O=A;let F=O.pathname||"/",z=F;if(E!=="/"){let J=E.replace(/^\//,"").split("/");z="/"+F.replace(/^\//,"").split("/").slice(J.length).join("/")}let L=vb(i,{pathname:z});_i(T||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),_i(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=mR(L&&L.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:br([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:br([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),h,n,s,o);return e&&Y?P.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function cR(){let i=vR(),e=iR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var hR=P.createElement(cR,null),fR=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(wi.Provider,{value:this.props.routeContext},P.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dR({routeContext:i,match:e,children:n}){let s=P.useContext(zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(wi.Provider,{value:i},n)}function mR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:A}=n,O=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let A,O=!1,F=null,z=null;n&&(A=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||hR,m&&(p<0&&T===0?(Rb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):p===T&&(O=!0,z=E.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,T+1)),Y=()=>{let J;return A?J=F:O?J=z:E.route.Component?J=P.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=g,P.createElement(dR,{match:E,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:J})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?P.createElement(fR,{location:n.location,revalidation:n.revalidation,component:F,error:A,children:Y(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pR(i){let e=P.useContext(zo);return ht(e,Qp(i)),e}function gR(i){let e=P.useContext(ff);return ht(e,Qp(i)),e}function yR(i){let e=P.useContext(wi);return ht(e,Qp(i)),e}function Yp(i){let e=yR(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function _R(){return Yp("useRouteId")}function vR(){let i=P.useContext(Kp),e=gR("useRouteError"),n=Yp("useRouteError");return i!==void 0?i:e.errors?.[n]}function ER(){let{router:i}=pR("useNavigate"),e=Yp("useNavigate"),n=P.useRef(!1);return Ab(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{_i(n.current,Sb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var I0={};function Rb(i,e,n){!e&&!I0[i]&&(I0[i]=!0,_i(!1,n))}P.memo(bR);function bR({routes:i,future:e,state:n,unstable_onError:s}){return xb(i,void 0,n,s,e)}function qh({to:i,replace:e,state:n,relative:s}){ht(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Ti);_i(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(wi),{pathname:h}=As(),m=xs(),p=Gp(i,Fp(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function an(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=jo(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:A="default"}=n,O=P.useMemo(()=>{let F=Sr(p,h);return F==null?null:{location:{pathname:F,search:g,hash:E,state:T,key:A},navigationType:s}},[h,p,g,E,T,A,s]);return _i(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:P.createElement(Ti.Provider,{value:m},P.createElement(xu.Provider,{children:e,value:O}))}function wR({children:i,location:e}){return uR(fp(i),e)}function fp(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,fp(s.props.children,u));return}ht(s.type===an,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=fp(s.props.children,u)),n.push(h)}),n}var Ch="get",Nh="application/x-www-form-urlencoded";function df(i){return i!=null&&typeof i.tagName=="string"}function SR(i){return df(i)&&i.tagName.toLowerCase()==="button"}function AR(i){return df(i)&&i.tagName.toLowerCase()==="form"}function xR(i){return df(i)&&i.tagName.toLowerCase()==="input"}function RR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function IR(i,e){return i.button===0&&(!e||e==="_self")&&!RR(i)}var vh=null;function CR(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(i){return i!=null&&!NR.has(i)?(_i(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):i}function DR(i,e){let n,s,o,u,h;if(AR(i)){let m=i.getAttribute("action");s=m?Sr(m,e):null,n=i.getAttribute("method")||Ch,o=Qm(i.getAttribute("enctype"))||Nh,u=new FormData(i)}else if(SR(i)||xR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Sr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ch,o=Qm(i.getAttribute("formenctype"))||Qm(m.getAttribute("enctype"))||Nh,u=new FormData(m,i),!CR()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(df(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,s=null,o=Nh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function OR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function MR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await MR(u,n);return h.links?h.links():[]}return[]}));return jR(s.flat(1).filter(kR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function C0(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function PR(i,e,{includeHydrateFallback:n}={}){return LR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function LR(i){return[...new Set(i)]}function UR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function jR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(UR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ib(){let i=P.useContext(zo);return $p(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zR(){let i=P.useContext(ff);return $p(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xp=P.createContext(void 0);Xp.displayName="FrameworkContext";function Cb(){let i=P.useContext(Xp);return $p(i,"You must render this element inside a <HydratedRouter> element"),i}function BR(i,e){let n=P.useContext(Xp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=P.useRef(null);P.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=Y=>{Y.forEach(J=>{h(J.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),P.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let O=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:eu(m,O),onBlur:eu(p,F),onMouseEnter:eu(g,O),onMouseLeave:eu(E,F),onTouchStart:eu(T,O)}]:[!1,A,{}]}function eu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function qR({page:i,...e}){let{router:n}=Ib(),s=P.useMemo(()=>vb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(FR,{page:i,matches:s,...e}):null}function HR(i){let{manifest:e,routeModules:n}=Cb(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return VR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function FR({page:i,matches:e,...n}){let s=As(),{manifest:o,routeModules:u}=Cb(),{basename:h}=Ib(),{loaderData:m,matches:p}=zR(),g=P.useMemo(()=>C0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=P.useMemo(()=>C0(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,z=!1;if(e.forEach(Y=>{let J=o.routes[Y.route.id];!J||!J.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||J.hasClientLoader?z=!0:F.add(Y.route.id))}),F.size===0)return[];let L=OR(i,h,"data");return z&&F.size>0&&L.searchParams.set("_routes",e.filter(Y=>F.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,g,e,i,u]),A=P.useMemo(()=>PR(E,o),[E,o]),O=HR(E);return P.createElement(P.Fragment,null,T.map(F=>P.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),A.map(F=>P.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),O.map(({key:F,link:z})=>P.createElement("link",{key:F,nonce:n.nonce,...z})))}function GR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nb&&(window.__reactRouterVersion="7.9.5")}catch{}function KR({basename:i,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=kx({window:n,v5Compat:!0}));let o=s.current,[u,h]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>h(p))},[h]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(TR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var Db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...A},O){let{basename:F}=P.useContext(Ti),z=typeof g=="string"&&Db.test(g),L,Y=!1;if(typeof g=="string"&&z&&(L=g,Nb))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),D=Sr(M.pathname,F);M.origin===R.origin&&D!=null?g=D+M.search+M.hash:Y=!0}catch{_i(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=oR(g,{relative:o}),[ie,se,he]=BR(s,A),oe=XR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function I(R){e&&e(R),R.defaultPrevented||oe(R)}let x=P.createElement("a",{...A,...he,href:L||J,onClick:Y||u?e:I,ref:GR(O,se),target:p,"data-discover":!z&&n==="render"?"true":void 0});return ie&&!z?P.createElement(P.Fragment,null,x,P.createElement(qR,{page:J})):x});Pe.displayName="Link";var QR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=Iu(h,{relative:g.relative}),A=As(),O=P.useContext(ff),{navigator:F,basename:z}=P.useContext(Ti),L=O!=null&&t1(T)&&m===!0,Y=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,J=A.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(J=J.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&z&&(ie=Sr(ie,z)||ie);const se=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=J===Y||!o&&J.startsWith(Y)&&J.charAt(se)==="/",oe=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),I={isActive:he,isPending:oe,isTransitioning:L},x=he?e:void 0,R;typeof s=="function"?R=s(I):R=[s,he?"active":null,oe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return P.createElement(Pe,{...g,"aria-current":x,className:R,ref:E,style:M,to:h,viewTransition:m},typeof p=="function"?p(I):p)});QR.displayName="NavLink";var YR=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...A},O)=>{let F=ZR(),z=e1(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&Db.test(m),J=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let se=ie.nativeEvent.submitter,he=se?.getAttribute("formmethod")||h;F(se||ie.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return P.createElement("form",{ref:O,method:L,action:z,onSubmit:s?p:J,...A,"data-discover":!Y&&i==="render"?"true":void 0})});YR.displayName="Form";function $R(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(i){let e=P.useContext(zo);return ht(e,$R(i)),e}function XR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=xs(),p=As(),g=Iu(i,{relative:u});return P.useCallback(E=>{if(IR(E,e)){E.preventDefault();let T=n!==void 0?n:mu(p)===mu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var JR=0,WR=()=>`__${String(++JR)}__`;function ZR(){let{router:i}=Ob("useSubmit"),{basename:e}=P.useContext(Ti),n=_R();return P.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=DR(s,e);if(o.navigate===!1){let E=o.fetcherKey||WR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function e1(i,{relative:e}={}){let{basename:n}=P.useContext(Ti),s=P.useContext(wi);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(i||".",{relative:e})},h=As();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:br([n,u.pathname])),mu(u)}function t1(i,{relative:e}={}){let n=P.useContext(wb);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ob("useViewTransitionState"),o=Iu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bh(o.pathname,h)!=null||Bh(o.pathname,u)!=null}const n1=()=>{};var N0={};const Mb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},i1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(A=64)),s.push(n[E],n[T],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Mb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):i1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new r1;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(i){const e=Mb(i);return kb.encodeByteArray(e,!0)},Hh=function(i){return s1(i).replace(/\./g,"")},Vb=function(i){try{return kb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof N0>"u")return;const i=N0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},u1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Vb(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return n1()||o1()||l1()||u1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Pb=i=>mf()?.emulatorHosts?.[i],Lb=i=>{const e=Pb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ub=()=>mf()?.config,jb=i=>mf()?.[`_${i}`];class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Rs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jp(i){return(await fetch(i,{credentials:"include"})).ok}function zb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Hh(JSON.stringify(n)),Hh(JSON.stringify(h)),""].join(".")}const lu={};function h1(){const i={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?i.emulator.push(e):i.prod.push(e);return i}function f1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let D0=!1;function Wp(i,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||lu[i]===e||lu[i]||D0)return;lu[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=h1().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{D0=!0,h()},A}function E(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=f1(s),O=n("text"),F=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),L=document.getElementById(z)||document.createElement("a"),Y=n("preprendIcon"),J=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(L,z);const se=g();p(J,Y),ie.append(J,F,L,se),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function m1(){const i=mf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bb(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y1(){const i=cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function v1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const E1="FirebaseError";class ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=E1,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wa.prototype.create)}}class wa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?b1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ri(o,m,s)}}function b1(i,e){return i.replace(T1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const T1=/\{\$([^}]+)}/g;function w1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _s(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(O0(u)&&O0(h)){if(!_s(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function O0(i){return i!==null&&typeof i=="object"}function Cu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function S1(i,e){const n=new A1(i,e);return n.subscribe.bind(n)}class A1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");x1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Ym(){}const R1=1e3,I1=2,C1=14400*1e3,N1=.5;function M0(i,e=R1,n=I1){const s=e*Math.pow(n,i),o=Math.round(N1*s*(Math.random()-.5)*2);return Math.min(C1,s+o)}function it(i){return i&&i._delegate?i._delegate:i}class ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class D1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new c1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M1(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O1(i){return i===ha?void 0:i}function M1(i){return i.instantiationMode==="EAGER"}class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const V1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},P1=Ve.INFO,L1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},U1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=L1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pf{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const j1=(i,e)=>e.some(n=>i instanceof n);let k0,V0;function z1(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,dp=new WeakMap,Gb=new WeakMap,$m=new WeakMap,Zp=new WeakMap;function q1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ms(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Fb.set(n,i)}).catch(()=>{}),Zp.set(e,i),e}function H1(i){if(dp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});dp.set(i,e)}let mp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return dp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Gb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function F1(i){mp=i(mp)}function G1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Xm(this),e,...n);return Gb.set(s,e.sort?e.sort():[e]),ms(s)}:B1().includes(i)?function(...e){return i.apply(Xm(this),e),ms(Fb.get(this))}:function(...e){return ms(i.apply(Xm(this),e))}}function K1(i){return typeof i=="function"?G1(i):(i instanceof IDBTransaction&&H1(i),j1(i,z1())?new Proxy(i,mp):i)}function ms(i){if(i instanceof IDBRequest)return q1(i);if($m.has(i))return $m.get(i);const e=K1(i);return e!==i&&($m.set(i,e),Zp.set(e,i)),e}const Xm=i=>Zp.get(i);function Kb(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ms(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ms(h.result),p.oldVersion,p.newVersion,ms(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Q1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],Jm=new Map;function P0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Y1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Q1.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Jm.set(e,u),u}F1(i=>({...i,get:(e,n,s)=>P0(e,n)||i.get(e,n,s),has:(e,n)=>!!P0(e,n)||i.has(e,n)}));class $1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function X1(i){return i.getComponent()?.type==="VERSION"}const pp="@firebase/app",L0="0.14.5";const Ar=new pf("@firebase/app"),J1="@firebase/app-compat",W1="@firebase/analytics-compat",Z1="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",iI="@firebase/auth-compat",rI="@firebase/database",sI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",uI="@firebase/installations",cI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",dI="@firebase/performance",mI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",_I="@firebase/storage-compat",vI="@firebase/firestore",EI="@firebase/ai",bI="@firebase/firestore-compat",TI="firebase",wI="12.5.0";const gp="[DEFAULT]",SI={[pp]:"fire-core",[J1]:"fire-core-compat",[Z1]:"fire-analytics",[W1]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[iI]:"fire-auth-compat",[rI]:"fire-rtdb",[sI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[uI]:"fire-iid",[cI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[dI]:"fire-perf",[mI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[_I]:"fire-gcs-compat",[vI]:"fire-fst",[bI]:"fire-fst-compat",[EI]:"fire-vertex","fire-js":"fire-js",[TI]:"fire-js-all"};const Fh=new Map,AI=new Map,yp=new Map;function U0(i,e){try{i.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function vi(i){const e=i.name;if(yp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,i);for(const n of Fh.values())U0(n,i);for(const n of AI.values())U0(n,i);return!0}function Is(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}const xI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new wa("app","Firebase",xI);class RI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const Sa=wI;function Qb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:gp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=Ub()),!n)throw ps.create("no-options");const u=Fh.get(o);if(u){if(_s(n,u.options)&&_s(s,u.config))return u;throw ps.create("duplicate-app",{appName:o})}const h=new k1(o);for(const p of yp.values())h.addComponent(p);const m=new RI(n,s,h);return Fh.set(o,m),m}function gf(i=gp){const e=Fh.get(i);if(!e&&i===gp&&Ub())return Qb();if(!e)throw ps.create("no-app",{appName:i});return e}function xn(i,e,n){let s=SI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(h.join(" "));return}vi(new ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const II="firebase-heartbeat-database",CI=1,pu="firebase-heartbeat-store";let Wm=null;function Yb(){return Wm||(Wm=Kb(II,CI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ps.create("idb-open",{originalErrorMessage:i.message})})),Wm}async function NI(i){try{const n=(await Yb()).transaction(pu),s=await n.objectStore(pu).get($b(i));return await n.done,s}catch(e){if(e instanceof ri)Ar.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(n.message)}}}async function j0(i,e){try{const s=(await Yb()).transaction(pu,"readwrite");await s.objectStore(pu).put(e,$b(i)),await s.done}catch(n){if(n instanceof ri)Ar.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n?.message});Ar.warn(s.message)}}}function $b(i){return`${i.name}!${i.options.appId}`}const DI=1024,OI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OI){const o=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z0(),{heartbeatsToSend:n,unsentEntries:s}=kI(this._heartbeatsCache.heartbeats),o=Hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ar.warn(e),""}}}function z0(){return new Date().toISOString().substring(0,10)}function kI(i,e=DI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),B0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),B0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function B0(i){return Hh(JSON.stringify({version:2,heartbeats:i})).length}function PI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function LI(i){vi(new ni("platform-logger",e=>new $1(e),"PRIVATE")),vi(new ni("heartbeat",e=>new MI(e),"PRIVATE")),xn(pp,L0,i),xn(pp,L0,"esm2020"),xn("fire-js","")}LI("");function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UI=Xb,Jb=new wa("auth","Firebase",Xb());const Gh=new pf("@firebase/auth");function jI(i,...e){Gh.logLevel<=Ve.WARN&&Gh.warn(`Auth (${Sa}): ${i}`,...e)}function Dh(i,...e){Gh.logLevel<=Ve.ERROR&&Gh.error(`Auth (${Sa}): ${i}`,...e)}function Ei(i,...e){throw eg(i,...e)}function Qi(i,...e){return eg(i,...e)}function Wb(i,e,n){const s={...UI(),[e]:n};return new wa("auth","Firebase",s).create(e,{appName:i.name})}function Tr(i){return Wb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Jb.create(i,...e)}function ve(i,e,...n){if(!i)throw eg(e,...n)}function vr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Dh(e),new Error(e)}function xr(i,e){i||vr(e)}function _p(){return typeof self<"u"&&self.location?.href||""}function zI(){return q0()==="http:"||q0()==="https:"}function q0(){return typeof self<"u"&&self.location?.protocol||null}function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||Bb()||"connection"in navigator)?navigator.onLine:!0}function qI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=d1()||g1()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(i,e){xr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Zb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new Nu(3e4,6e4);function Cs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ns(i,e,n,s,o={}){return eT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Cu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return p1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Rs(i.emulatorConfig.host)&&(g.credentials="include"),Zb.fetch()(await tT(i,i.config.apiHost,n,m),g)})}async function eT(i,e,n){i._canInitEmulator=!1;const s={...HI,...e};try{const o=new QI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Eh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Wb(i,E,g);Ei(i,E)}}catch(o){if(o instanceof ri)throw o;Ei(i,"network-request-failed",{message:String(o)})}}async function Du(i,e,n,s,o={}){const u=await Ns(i,e,n,s,o);return"mfaPendingCredential"in u&&Ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?tg(i.config,o):`${i.config.apiScheme}://${o}`;return FI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function KI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qi(this.auth,"network-request-failed")),GI.get())})}}function Eh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qi(i,e,s);return o.customData._tokenResponse=n,o}function H0(i){return i!==void 0&&i.enterprise!==void 0}class YI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $I(i,e){return Ns(i,"GET","/v2/recaptchaConfig",Cs(i,e))}async function XI(i,e){return Ns(i,"POST","/v1/accounts:delete",e)}async function Kh(i,e){return Ns(i,"POST","/v1/accounts:lookup",e)}function uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JI(i,e=!1){const n=it(i),s=await n.getIdToken(e),o=ng(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(Zm(o.auth_time)),issuedAtTime:uu(Zm(o.iat)),expirationTime:uu(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zm(i){return Number(i)*1e3}function ng(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vb(n);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function F0(i){const e=ng(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ri&&WI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function WI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qh(i){const e=i.auth,n=await i.getIdToken(),s=await gu(i,Kh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?nT(o.providerUserInfo):[],h=tC(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function eC(i){const e=it(i);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nC(i,e){const n=await eT(i,{},async()=>{const s=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await tT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Rs(i.emulatorConfig.host)&&(p.credentials="include"),Zb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iC(i,e){return Ns(i,"POST","/v2/accounts:revokeToken",Cs(i,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=F0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ro;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return vr("not implemented")}}function ls(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JI(this,e)}reload(){return eC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await gu(this,XI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:O,providerData:F,stsTokenManager:z}=n;ve(T&&z,e,"internal-error");const L=Ro.fromJSON(this.name,z);ve(typeof T=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),ls(u,e.name),ls(h,e.name),ls(m,e.name),ls(p,e.name),ls(g,e.name),ls(E,e.name);const Y=new yi({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(Y.providerData=F.map(J=>({...J}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const u=new yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Qh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(s);const p=new yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const G0=new Map;function Er(i){xr(i instanceof Function,"Expected a class definition");let e=G0.get(i);return e?(xr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,G0.set(i,e),e)}class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const K0=iT;function Oh(i,e,n){return`firebase:${i}:${e}:${n}`}class Io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Io(Er(K0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Er(K0);const h=Oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Kh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await yi._fromGetAccountInfoResponse(e,A,E)}else T=yi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Io(u,e,s))}}function Q0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function rT(i=cn()){return/firefox\//i.test(i)}function sT(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(i=cn()){return/crios\//i.test(i)}function oT(i=cn()){return/iemobile/i.test(i)}function lT(i=cn()){return/android/i.test(i)}function uT(i=cn()){return/blackberry/i.test(i)}function cT(i=cn()){return/webos/i.test(i)}function ig(i=cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rC(i=cn()){return ig(i)&&!!window.navigator?.standalone}function sC(){return y1()&&document.documentMode===10}function hT(i=cn()){return ig(i)||lT(i)||cT(i)||uT(i)||/windows phone/i.test(i)||oT(i)}function fT(i,e=[]){let n;switch(i){case"Browser":n=Q0(cn());break;case"Worker":n=`${Q0(cn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${s}`}class aC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function oC(i,e={}){return Ns(i,"GET","/v2/passwordPolicy",Cs(i,e))}const lC=6;class uC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class cC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y0(this),this.idTokenSubscription=new Y0(this),this.beforeStateQueue=new aC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),s=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Tr(this));const n=e?it(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oC(this),n=new uC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Aa(i){return it(i)}class Y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=S1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hC(i){yf=i}function dT(i){return yf.loadJS(i)}function fC(){return yf.recaptchaEnterpriseScript}function dC(){return yf.gapiScript}function mC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pC{constructor(){this.enterprise=new gC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yC="recaptcha-enterprise",mT="NO_RECAPTCHA";class _C{constructor(e){this.type=yC,this.auth=Aa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{$I(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new YI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;H0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(mT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&H0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fC();p.length!==0&&(p+=m),dT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function $0(i,e,n,s=!1,o=!1){const u=new _C(i);let h;if(o)h=mT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ep(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $0(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await $0(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function vC(i,e){const n=Is(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_s(u,e??{}))return o;Ei(o,"already-initialized")}return n.initialize({options:e})}function EC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Er);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function bC(i,e,n){const s=Aa(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pT(e),{host:h,port:m}=TC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(_s(g,s.config.emulator)&&_s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Rs(h)?(Jp(`${u}//${h}${p}`),Wp("Auth",!0)):wC()}function pT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TC(i){const e=pT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:X0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:X0(h)}}}function X0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function SC(i,e){return Ns(i,"POST","/v1/accounts:signUp",e)}async function AC(i,e){return Du(i,"POST","/v1/accounts:signInWithPassword",Cs(i,e))}async function xC(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",Cs(i,e))}async function RC(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",Cs(i,e))}class yu extends rg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new yu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,n,"signInWithPassword",AC);case"emailLink":return xC(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,s,"signUpPassword",SC);case"emailLink":return RC(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(i,e){return Du(i,"POST","/v1/accounts:signInWithIdp",Cs(i,e))}const IC="http://localhost";class ga extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ga(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}function CC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NC(i){const e=nu(iu(i)).link,n=e?nu(iu(e)).deep_link_id:null,s=nu(iu(i)).deep_link_id;return(s?nu(iu(s)).link:null)||s||n||e||i}class sg{constructor(e){const n=nu(iu(e)),s=n.apiKey??null,o=n.oobCode??null,u=CC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NC(e);try{return new sg(n)}catch{return null}}}class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=sg.parseLink(n);return ve(s,"argument-error"),yu._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends gT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends Ou{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class cs extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class hs extends Ou{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class fs extends Ou{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function DC(i,e){return Du(i,"POST","/v1/accounts:signUp",Cs(i,e))}class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await yi._fromIdTokenResponse(e,s,o),h=J0(s);return new ya({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=J0(s);return new ya({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function J0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Yh extends ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Yh(e,n,s,o)}}function yT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(i,u,e,s):u})}async function OC(i,e,n=!1){const s=await gu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ya._forOperation(i,"link",s)}async function MC(i,e,n=!1){const{auth:s}=i;if(Ln(s.app))return Promise.reject(Tr(s));const o="reauthenticate";try{const u=await gu(i,yT(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=ng(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),ya._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),u}}async function _T(i,e,n=!1){if(Ln(i.app))return Promise.reject(Tr(i));const s="signIn",o=await yT(i,s,e),u=await ya._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function kC(i,e){return _T(Aa(i),e)}async function vT(i){const e=Aa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VC(i,e,n){if(Ln(i.app))return Promise.reject(Tr(i));const s=Aa(i),h=await Ep(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vT(i),p}),m=await ya._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function PC(i,e,n){return Ln(i.app)?Promise.reject(Tr(i)):kC(it(i),qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vT(i),s})}function LC(i,e,n,s){return it(i).onIdTokenChanged(e,n,s)}function UC(i,e,n){return it(i).beforeAuthStateChanged(e,n)}function jC(i,e,n,s){return it(i).onAuthStateChanged(e,n,s)}function zC(i){return it(i).signOut()}async function BC(i){return it(i).delete()}const $h="__sak";class ET{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qC=1e3,HC=10;class bT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);sC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const FC=bT;class TT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TT.type="SESSION";const wT=TT;function GC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new _f(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await GC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function ag(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class KC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=ag("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Yi(){return window}function QC(i){Yi().location.href=i}function ST(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function YC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){return navigator?.serviceWorker?.controller||null}function XC(){return ST()?self:null}const AT="firebaseLocalStorageDb",JC=1,Xh="firebaseLocalStorage",xT="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(i,e){return i.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function WC(){const i=indexedDB.deleteDatabase(AT);return new Mu(i).toPromise()}function bp(){const i=indexedDB.open(AT,JC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Xh,{keyPath:xT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Xh)?e(s):(s.close(),await WC(),e(await bp()))})})}async function W0(i,e,n){const s=vf(i,!0).put({[xT]:e,value:n});return new Mu(s).toPromise()}async function ZC(i,e){const n=vf(i,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function Z0(i,e){const n=vf(i,!0).delete(e);return new Mu(n).toPromise()}const eN=800,tN=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>tN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(XC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await W0(e,$h,"1"),await Z0(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>W0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ZC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const nN=RT;new Nu(3e4,6e4);function iN(i,e){return e?Er(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class og extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rN(i){return _T(i.auth,new og(i),i.bypassAuthState)}function sN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),MC(n,new og(i),i.bypassAuthState)}async function aN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),OC(n,new og(i),i.bypassAuthState)}class IT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rN;case"linkViaPopup":case"linkViaRedirect":return aN;case"reauthViaPopup":case"reauthViaRedirect":return sN;default:Ei(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oN=new Nu(2e3,1e4);class xo extends IT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oN.get())};e()}}xo.currentPopupAction=null;const lN="pendingRedirect",Mh=new Map;class uN extends IT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await cN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cN(i,e){const n=dN(e),s=fN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function hN(i,e){Mh.set(i._key(),e)}function fN(i){return Er(i._redirectPersistence)}function dN(i){return Oh(lN,i.config.apiKey,i.name)}async function mN(i,e,n=!1){if(Ln(i.app))return Promise.reject(Tr(i));const s=Aa(i),o=iN(s,e),h=await new uN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const pN=600*1e3;class gN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!CT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pN&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function CT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function yN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(i);default:return!1}}async function _N(i,e={}){return Ns(i,"GET","/v1/projects",e)}const vN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EN=/^https?/;async function bN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _N(i);for(const n of e)try{if(TN(n))return}catch{}Ei(i,"unauthorized-domain")}function TN(i){const e=_p(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!EN.test(n))return!1;if(vN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const wN=new Nu(3e4,6e4);function tE(){const i=Yi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function SN(i){return new Promise((e,n)=>{function s(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(Qi(i,"network-request-failed"))},timeout:wN.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const o=mC("iframefcb");return Yi()[o]=()=>{gapi.load?s():n(Qi(i,"network-request-failed"))},dT(`${dC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function AN(i){return kh=kh||SN(i),kh}const xN=new Nu(5e3,15e3),RN="__/auth/iframe",IN="emulator/auth/iframe",CN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DN(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?tg(e,IN):`https://${i.config.authDomain}/${RN}`,s={apiKey:e.apiKey,appName:i.name,v:Sa},o=NN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Cu(s).slice(1)}`}async function ON(i){const e=await AN(i),n=Yi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:DN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Qi(i,"network-request-failed"),m=Yi().setTimeout(()=>{u(h)},xN.get());function p(){Yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const MN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kN=500,VN=600,PN="_blank",LN="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UN(i,e,n,s=kN,o=VN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...MN,width:s.toString(),height:o.toString(),top:u,left:h},g=cn().toLowerCase();n&&(m=aT(g)?PN:n),rT(g)&&(e=e||LN,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[O,F])=>`${A}${O}=${F},`,"");if(rC(g)&&m!=="_self")return jN(e||"",m),new nE(null);const T=window.open(e||"",m,E);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new nE(T)}function jN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const zN="__/auth/handler",BN="emulator/auth/handler",qN=encodeURIComponent("fac");async function iE(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Sa,eventId:o};if(e instanceof gT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",w1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Ou){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${qN}=${encodeURIComponent(p)}`:"";return`${HN(i)}?${Cu(m).slice(1)}${g}`}function HN({config:i}){return i.emulator?tg(i,BN):`https://${i.authDomain}/${zN}`}const ep="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wT,this._completeRedirectFn=mN,this._overrideRedirectResult=hN}async _openPopup(e,n,s,o){xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await iE(e,n,s,_p(),o);return UN(e,u,ag())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await iE(e,n,s,_p(),o);return QC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ON(e),s=new gN(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ep,{type:ep},o=>{const u=o?.[0]?.[ep];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||ig()}}const GN=FN;var rE="@firebase/auth",sE="1.11.1";class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YN(i){vi(new ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(i)},g=new cC(s,o,u,p);return EC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vi(new ni("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(s=>new KN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(rE,sE,QN(i)),xn(rE,sE,"esm2020")}const $N=300,XN=jb("authIdTokenMaxAge")||$N;let aE=null;const JN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XN)return;const o=n?.token;aE!==o&&(aE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WN(i=gf()){const e=Is(i,"auth");if(e.isInitialized())return e.getImmediate();const n=vC(i,{popupRedirectResolver:GN,persistence:[nN,FC,wT]}),s=jb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=JN(u.toString());UC(n,h,()=>h(n.currentUser)),LC(n,m=>h(m))}}const o=Pb("auth");return o&&bC(n,`http://${o}`),n}function ZN(){return document.getElementsByTagName("head")?.[0]??document}hC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YN("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gs,NT;(function(){var i;function e(I,x){function R(){}R.prototype=x.prototype,I.F=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,D,U){for(var C=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)C[Ye-2]=arguments[Ye];return x.prototype[D].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,R){R||(R=0);const M=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)M[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],D=I.g[2];let U=I.g[3],C;C=x+(U^R&(D^U))+M[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(D^x&(R^D))+M[1]+3905402710&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(R^U&(x^R))+M[2]+606105819&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(x^D&(U^x))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(U^R&(D^U))+M[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(D^x&(R^D))+M[5]+1200080426&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(R^U&(x^R))+M[6]+2821735955&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(x^D&(U^x))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(U^R&(D^U))+M[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(D^x&(R^D))+M[9]+2336552879&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(R^U&(x^R))+M[10]+4294925233&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(x^D&(U^x))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(U^R&(D^U))+M[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(D^x&(R^D))+M[13]+4254626195&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(R^U&(x^R))+M[14]+2792965006&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(x^D&(U^x))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(D^U&(R^D))+M[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(x^R))+M[6]+3225465664&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(U^x))+M[11]+643717713&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(D^U))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^U&(R^D))+M[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(x^R))+M[10]+38016083&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(U^x))+M[15]+3634488961&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(D^U))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^U&(R^D))+M[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(x^R))+M[14]+3275163606&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(U^x))+M[3]+4107603335&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(D^U))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^U&(R^D))+M[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(x^R))+M[2]+4243563512&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(U^x))+M[7]+1735328473&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(D^U))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(R^D^U)+M[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^D)+M[8]+2272392833&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^R)+M[11]+1839030562&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^x)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^U)+M[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^D)+M[4]+1272893353&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^R)+M[7]+4139469664&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^x)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^U)+M[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^D)+M[0]+3936430074&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^R)+M[3]+3572445317&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^x)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^U)+M[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^D)+M[12]+3873151461&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^R)+M[15]+530742520&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^x)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(D^(R|~U))+M[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~D))+M[7]+1126891415&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~R))+M[14]+2878612391&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~x))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~U))+M[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~D))+M[3]+2399980690&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~R))+M[10]+4293915773&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~x))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~U))+M[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~D))+M[15]+4264355552&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~R))+M[6]+2734768916&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~x))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~U))+M[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~D))+M[11]+3174756917&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~R))+M[2]+718787259&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~x))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const R=x-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<x;){if(D==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<x;)if(M[D++]=I.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<x;)if(M[D++]=I[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[x++]=this.g[R]>>>M&255;return I};function u(I,x){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function h(I,x){this.h=x;const R=[];let M=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;M&&U==x||(R[D]=U,M=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(x){return new h([x|0],x<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return L(g(-I));const x=[];let R=1;for(let M=0;I>=R;M++)x[M]=I/R|0,R*=4294967296;return new h(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return L(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let M=T;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const C=parseInt(I.substring(U,U+D),x);D<8?(D=g(Math.pow(x,D)),M=M.j(D).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var T=p(0),A=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-L(this).m();let I=0,x=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*x,x*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(z(this))return"-"+L(this).toString(I);const x=g(Math.pow(I,6));var R=this;let M="";for(;;){const D=se(R,x).g;R=Y(R,D.j(x));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,F(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function z(I){return I.h==-1}i.l=function(I){return I=Y(this,I),z(I)?-1:F(I)?0:1};function L(I){const x=I.g.length,R=[];for(let M=0;M<x;M++)R[M]=~I.g[M];return new h(R,~I.h).add(A)}i.abs=function(){return z(this)?L(this):this},i.add=function(I){const x=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let D=0;D<=x;D++){let U=M+(this.i(D)&65535)+(I.i(D)&65535),C=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=C>>>16,U&=65535,C&=65535,R[D]=C<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Y(I,x){return I.add(L(x))}i.j=function(I){if(F(this)||F(I))return T;if(z(this))return z(I)?L(this).j(L(I)):L(L(this).j(I));if(z(I))return L(this.j(L(I)));if(this.l(O)<0&&I.l(O)<0)return g(this.m()*I.m());const x=this.g.length+I.g.length,R=[];for(var M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const U=this.i(M)>>>16,C=this.i(M)&65535,Ye=I.i(D)>>>16,gt=I.i(D)&65535;R[2*M+2*D]+=C*gt,J(R,2*M+2*D),R[2*M+2*D+1]+=U*gt,J(R,2*M+2*D+1),R[2*M+2*D+1]+=C*Ye,J(R,2*M+2*D+1),R[2*M+2*D+2]+=U*Ye,J(R,2*M+2*D+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new h(R,0)};function J(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ie(I,x){this.g=I,this.h=x}function se(I,x){if(F(x))throw Error("division by zero");if(F(I))return new ie(T,T);if(z(I))return x=se(L(I),x),new ie(L(x.g),L(x.h));if(z(x))return x=se(I,L(x)),new ie(L(x.g),x.h);if(I.g.length>30){if(z(I)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=x;M.l(I)<=0;)R=he(R),M=he(M);var D=oe(R,1),U=oe(M,1);for(M=oe(M,2),R=oe(R,2);!F(M);){var C=U.add(M);C.l(I)<=0&&(D=D.add(R),U=C),M=oe(M,1),R=oe(R,1)}return x=Y(I,D.j(x)),new ie(D,x)}for(D=T;I.l(x)>=0;){for(R=Math.max(1,Math.floor(I.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(R),C=U.j(x);z(C)||C.l(I)>0;)R-=M,U=g(R),C=U.j(x);F(U)&&(U=A),D=D.add(U),I=Y(I,C)}return new ie(D,I)}i.B=function(I){return se(this,I).h},i.and=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)&I.i(M);return new h(R,this.h&I.h)},i.or=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)|I.i(M);return new h(R,this.h|I.h)},i.xor=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)^I.i(M);return new h(R,this.h^I.h)};function he(I){const x=I.g.length+1,R=[];for(let M=0;M<x;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(R,I.h)}function oe(I,x){const R=x>>5;x%=32;const M=I.g.length-R,D=[];for(let U=0;U<M;U++)D[U]=x>0?I.i(U+R)>>>x|I.i(U+R+1)<<32-x:I.i(U+R);return new h(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,gs=h}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DT,ru,OT,Vh,Tp,MT,kT,VT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in b))break e;b=b[B]}c=c[c.length-1],S=b[c],y=y(S),y!=S&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function g(c,y,b){return g=p,g.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[B].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=c[S];return b}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var b=typeof B;if(b=b!="object"?b:B?Array.isArray(B)?"array":b:"null",b=="array"||b=="object"&&typeof B.length=="number"){b=c.length||0;const K=B.length||0;c.length=b+K;for(let re=0;re<K;re++)c[b+re]=B[re]}else c.push(B)}}class z{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function Y(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,b){const S=ie.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new z(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,oe=!1,I=new J,x=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(R)}};function R(){for(var c;c=Y();){try{c.h.call(c.g)}catch(b){L(b)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ye(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ye,D),Ye.prototype.init=function(c,y){const b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(c,y,b,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=B,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,b){for(const S in c)y.call(b,c[S],S,c)}function be(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function k(c){const y={};for(const b in c)y[b]=c[b];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let b,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(b in S)c[b]=S[b];for(let K=0;K<te.length;K++)b=te[K],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,b,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=Ce(c,y,S,B);return re>-1?(y=c[re],b||(y.fa=!1)):(y=new ae(y,this.src,K,!!S,B),y.fa=b,c.push(y)),y};function Te(c,y){const b=y.type;if(b in c.g){var S=c.g[b],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(pe(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ce(c,y,b,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!b&&K.ha==S)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(c,y,b,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)lt(c,y[K],b,S,B);return null}return b=Xo(b),c&&c[gt]?c.J(y,b,m(S)?!!S.capture:!1,B):ks(c,y,b,!1,S,B)}function ks(c,y,b,S,B,K){if(!y)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let Re=Vs(c);if(Re||(c[Be]=Re=new fe(c)),b=Re.add(y,b,S,re,K),b.proxy)return b;if(S=Da(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)U||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(Si(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Da(){function c(b){return y.call(c.src,c.listener,b)}const y=Yo;return c}function Oa(c,y,b,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Oa(c,y[K],b,S,B);else S=m(S)?!!S.capture:!!S,b=Xo(b),c&&c[gt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],b=Ce(y,b,S,B),b>-1&&(pe(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,b,S,B)),(b=c>-1?y[c]:null)&&Ma(b))}function Ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])Te(y.i,c);else{var b=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(b,S,c.capture):y.detachEvent?y.detachEvent(Si(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=Vs(y))?(Te(b,c),b.h==0&&(b.src=null,y[Be]=null)):pe(c)}}}function Si(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Yo(c,y){if(c.da)c=!0;else{y=new Ye(y,this);const b=c.listener,S=c.ha||c.src;c.fa&&Ma(c),c=b.call(S,y)}return c}function Vs(c){return c=c[Be],c instanceof fe?c:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(c){return typeof c=="function"?c:(c[$o]||(c[$o]=function(y){return c.handleEvent(y)}),c[$o])}function wt(){M.call(this),this.i=new fe(this),this.M=this,this.G=null}T(wt,M),wt.prototype[gt]=!0,wt.prototype.removeEventListener=function(c,y,b,S){Oa(this,c,y,b,S)};function Pt(c,y){var b,S=c.G;if(S)for(b=[];S;S=S.G)b.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(S,c),le(y,B)}B=!0;let K,re;if(b)for(re=b.length-1;re>=0;re--)K=y.g=b[re],B=Cr(K,S,!0,y)&&B;if(K=y.g=c,B=Cr(K,S,!0,y)&&B,B=Cr(K,S,!1,y)&&B,b)for(re=0;re<b.length;re++)K=y.g=b[re],B=Cr(K,S,!1,y)&&B}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let S=0;S<b.length;S++)pe(b[S]);delete c.g[y],c.h--}}this.G=null},wt.prototype.J=function(c,y,b,S){return this.i.add(String(c),y,!1,b,S)},wt.prototype.K=function(c,y,b,S){return this.i.add(String(c),y,!0,b,S)};function Cr(c,y,b,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const re=y[K];if(re&&!re.da&&re.capture==b){const Re=re.listener,_t=re.ha||re.src;re.fa&&Te(c.i,re),B=Re.call(_t,S)!==!1&&B}}return B&&!S.defaultPrevented}function qf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Fu(c){c.g=qf(()=>{c.g=null,c.i&&(c.i=!1,Fu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hn extends M{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(c){M.call(this),this.h=c,this.g={}}T(Ps,M);var Jo=[];function Wo(c){je(c.g,function(y,b){this.g.hasOwnProperty(b)&&Ma(y)},c),c.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),Wo(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=h.JSON.stringify,Hf=h.JSON.parse,Gu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ku(){}function Qu(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}T(Yt,D);function qn(){D.call(this,"c")}T(qn,D);var yt={},Yu=null;function ka(){return Yu=Yu||new wt}yt.Ia="serverreachability";function $u(c){D.call(this,yt.Ia,c)}T($u,D);function Ai(c){const y=ka();Pt(y,new $u(y))}yt.STAT_EVENT="statevent";function Ls(c,y){D.call(this,yt.STAT_EVENT,c),this.stat=y}T(Ls,D);function St(c){const y=ka();Pt(y,new Ls(y,c))}yt.Ja="timingevent";function xi(c,y){D.call(this,yt.Ja,c),this.size=y}T(xi,D);function Ri(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Ff(c,y,b,S,B,K){c.info(function(){if(c.g)if(K){var re="",Re=K.split("&");for(let Ge=0;Ge<Re.length;Ge++){var _t=Re[Ge].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Kn=ut.split("_");re=Kn.length>=2&&Kn[1]=="type"?re+(ut+"="+_t+"&"):re+(ut+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+b+`
`+re})}function Xu(c,y,b,S,B,K,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+b+`
`+K+" "+re})}function Ii(c,y,b,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Gf(c,b)+(S?" "+S:"")})}function Us(c,y){c.info(function(){return"TIMEOUT: "+y})}ai.prototype.info=function(){};function Gf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var b=K[c];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return Nr(K)}catch{return y}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function zs(){}T(zs,Ku),zs.prototype.g=function(){return new XMLHttpRequest},el=new zs;function er(c){return encodeURIComponent(String(c))}function Ju(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function oi(c,y,b,S){this.j=c,this.i=y,this.l=b,this.S=S||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var At={},zt={};function Ci(c,y,b){c.M=1,c.A=Bs(Rt(y)),c.u=b,c.R=!0,Va(c,null)}function Va(c,y){c.F=Date.now(),Ni(c),c.B=Rt(c.A);var b=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ja(b.i,"t",S),c.C=0,b=c.j.L,c.h=new li,c.g=fc(c.j,b?y:null,!c.u),c.P>0&&(c.O=new hn(g(c.Y,c,c.g),c.P)),y=c.V,b=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Jo[0]=B.toString()),B=Jo);for(let K=0;K<B.length;K++){const re=lt(b,B[K],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ai(),Ff(c.i,c.v,c.B,c.l,c.S,c.u)}oi.prototype.ba=function(c){c=c.target;const y=this.O;y&&hi(c)==3?y.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const Re=hi(this.g),_t=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Re!=4||_t==7||(_t==8||Ge<=0?Ai(3):Ai(2)),Di(this);var y=this.g.ca();this.X=y;var b=Kf(this);if(this.o=y==200,Xu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var K=S;break t}}K=null}if(c=K)Ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,c);else{this.o=!1,this.m=3,St(12),In(this),Hn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=Zu(this,b),ut==zt){Re==4&&(this.m=4,St(14),c=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==At){this.m=4,St(15),Ii(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else Ii(this.i,this.l,ut,null),Oi(this,ut);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)Ii(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),pl(re),re.P=!0,St(11))}}else Ii(this.i,this.l,b,null),Oi(this,b);Re==4&&In(this),this.o&&!this.K&&(Re==4?lc(this.j,this):(this.o=!1,Ni(this)))}else nr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),In(this),Hn(this)}}}catch{}finally{}};function Kf(c){if(!Wu(c))return c.g.la();const y=$t(c.g);if(y==="")return"";let b="";const S=y.length,B=hi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Hn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,b+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Zu(c,y){var b=c.C,S=y.indexOf(`
`,b);return S==-1?zt:(b=Number(y.substring(b,S)),isNaN(b)?At:(S+=1,S+b>y.length?zt:(y=y.slice(S,S+b),c.C=S+b,y)))}oi.prototype.cancel=function(){this.K=!0,In(this)};function Ni(c){c.T=Date.now()+c.H,Pa(c,c.H)}function Pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ri(g(c.aa,c),y)}function Di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}oi.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Us(this.i,this.B),this.M!=2&&(Ai(),St(17)),In(this),this.m=2,Hn(this)):Pa(this,this.T-c)};function Hn(c){c.j.I==0||c.K||lc(c.j,c)}function In(c){Di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Wo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Oi(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||ki(b.h,c))){if(!c.L&&ki(b.h,c)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Fa(b),Ur(b);else break e;Ys(b),St(18)}}else b.xa=B[1],0<b.xa-b.K&&B[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ri(g(b.Va,b),6e3));Mi(b.h)<=1&&b.ta&&(b.ta=void 0)}else zi(b,11)}else if((c.L||b.g==c)&&Fa(b),!C(y))for(B=b.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const ut=Ge[0];if(!(ut<=b.K))if(b.K=ut,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Kn=Ge[3];Kn!=null&&(b.ka=Kn,b.j.info("VER="+b.ka));const Bi=Ge[4];Bi!=null&&(b.za=Bi,b.j.info("SVER="+b.za));const fi=Ge[5];fi!=null&&typeof fi=="number"&&fi>0&&(S=1.5*fi,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const di=c.g;if(di){const $s=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var K=S.h;K.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(il(K,K.h),K.h=null))}if(S.G){const Ga=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(S.wa=Ga,$e(S.J,S.G,Ga))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var re=c;if(S.na=hc(S,S.L?S.ba:null,S.W),re.L){rl(S.h,re);var Re=re,_t=S.O;_t&&(Re.H=_t),Re.D&&(Di(Re),Ni(Re)),S.g=re}else ac(S);b.i.length>0&&ji(b)}else Ge[0]!="stop"&&Ge[0]!="close"||zi(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?zi(b,7):dl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}Ai(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function tl(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Mi(c){return c.h?1:c.g?c.g.size:0}function ki(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function il(c,y){c.g?c.g.add(y):c.h=y}function rl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}tl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return O(c.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const S=c[b].indexOf("=");let B,K=null;S>=0?(B=c[b].substring(0,S),K=c[b].substring(S+1)):B=c[b],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Cn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Dr(this,c.u),this.h=c.h,al(this,rc(c.i)),this.m=c.m):c&&(y=String(c).match(ec))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),Dr(this,y[4]),this.h=Vi(y[5]||"",!0),al(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}Cn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(qs(y,Ua,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qs(y,Ua,!0),"@"),c.push(er(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(qs(b,b.charAt(0)=="/"?ol:tc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",qs(b,nc)),c.join("")},Cn.prototype.resolve=function(c){const y=Rt(this);let b=!!c.j;b?Bt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var S=c.h;if(b)Dr(y,c.u);else if(b=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let re=0;re<B.length;){const Re=B[re++];Re=="."?S&&re==B.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&re==B.length&&K.push("")):(K.push(Re),S=!0)}S=K.join("/")}else S=B}return b?y.h=S:b=c.i.toString()!=="",b?al(y,rc(c.i)):b=!!c.m,b&&(y.m=c.m),y};function Rt(c){return new Cn(c)}function Bt(c,y,b){c.j=b?Vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Dr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function al(c,y,b){y instanceof Mr?(c.i=y,za(c.i,c.l)):(b||(y=qs(y,Or)),c.i=new Mr(y,c.l))}function $e(c,y,b){c.i.set(y,b)}function Bs(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qs(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ua=/[#\/\?@]/g,tc=/[#\?:]/g,ol=/[#\?]/g,Or=/[#\?@]/g,nc=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&La(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Mr.prototype,i.add=function(c,y){_n(this),this.i=null,c=kr(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function ic(c,y){_n(c),y=kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ll(c,y){return _n(c),y=kr(c,y),c.g.has(y)}i.forEach=function(c,y){_n(this),this.g.forEach(function(b,S){b.forEach(function(B){c.call(y,B,S,this)},this)},this)};function ul(c,y){_n(c);let b=[];if(typeof y=="string")ll(c,y)&&(b=b.concat(c.g.get(kr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}i.set=function(c,y){return _n(this),this.i=null,c=kr(this,c),ll(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ul(this,c),c.length>0?String(c[0]):y):y};function ja(c,y,b){ic(c,y),b.length>0&&(c.i=null,c.g.set(kr(c,y),O(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const B=er(b);b=ul(this,b);for(let K=0;K<b.length;K++){let re=B;b[K]!==""&&(re+="="+er(b[K])),c.push(re)}}return this.i=c.join("&")};function rc(c){const y=new Mr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function za(c,y){y&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(b,S){const B=S.toLowerCase();S!=B&&(ic(this,S),ja(this,B,b))},c)),c.j=y}function ui(c,y){const b=new ai;if(h.Image){const S=new Image;S.onload=E(Fn,b,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Fn,b,"TestLoadImage: error",!1,y,S),S.onabort=E(Fn,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Fn,b,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function cl(c,y){const b=new ai,S=new AbortController,B=setTimeout(()=>{S.abort(),Fn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?Fn(b,"TestPingServer: ok",!0,y):Fn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Fn(b,"TestPingServer: error",!1,y)})}function Fn(c,y,b,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(b)}catch{}}function Vr(){this.g=new Gu}function Pi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Pi,Ku),Pi.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(c,y){wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Hs,wt),i=Hs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ci(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pr(this):ci(this),this.readyState==3&&Ba(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Pr(this))},i.Na=function(c){this.g&&(this.response=c,Pr(this))},i.ga=function(){this.g&&Pr(this)};function Pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ci(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gn(c){let y="";return je(c,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function Fs(c,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Gn(b),typeof c=="string"?b!=null&&er(b):$e(c,y,b))}function We(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,wt);var Li=/^https?$/i,hl=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gs(this,K);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)b.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())b.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(hl,y,void 0)>=0)||S||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of b)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Gs(this,K)}};function Gs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,fl(c),tr(c)}function fl(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),tr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},i.Xa=function(){Ks(this)};function Ks(c){if(c.h&&typeof u<"u"){if(c.v&&hi(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),hi(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=K===0){let re=String(c.D).match(ec)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Li.test(re?re.toLowerCase():"")}b=S}if(b)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var B=hi(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",fl(c)}}finally{tr(c)}}}}function tr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||Pt(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function hi(c){return c.g?c.g.readyState:0}i.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hf(y)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(c){const y={};c=(c.g&&hi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var b=Ju(c[S]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=y[B]||[];y[B]=K,K.push(b)}be(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Lr(c){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,c),this.Za=Ui("retryDelaySeedMs",1e4,c),this.Ta=Ui("forwardChannelMaxRetries",2,c),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(c&&c.concurrentRequestLimit),this.Ba=new Vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Lr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,b,S){St(0),this.W=c,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=hc(this,null,this.W),ji(this)};function dl(c){if(qa(c),c.I==3){var y=c.V++,b=Rt(c.J);if($e(b,"SID",c.M),$e(b,"RID",y),$e(b,"TYPE","terminate"),Qs(c,b),y=new oi(c,c.j,y),y.M=2,y.A=Bs(Rt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.A,b=!0),b||(y.g=fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ni(y)}cc(c)}function Ur(c){c.g&&(pl(c),c.g.cancel(),c.g=null)}function qa(c){Ur(c),c.v&&(h.clearTimeout(c.v),c.v=null),Fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ji(c){if(!nl(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||x(),oe||(he(),oe=!0),I.add(y,c),c.D=0}}function Ha(c,y){return Mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ri(g(c.Ea,c,y),uc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new oi(this,this.j,c);let K=this.o;if(this.U&&(K?(K=k(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=sc(this,B,y),b=Rt(this.J),$e(b,"RID",c),$e(b,"CVER",22),this.G&&$e(b,"X-HTTP-Session-Id",this.G),Qs(this,b),K&&(this.R?y="headers="+er(Gn(K))+"&"+y:this.u&&Fs(b,this.u,K)),il(this.h,B),this.Ra&&$e(b,"TYPE","init"),this.S?($e(b,"$req",y),$e(b,"SID","null"),B.U=!0,Ci(B,b,null)):Ci(B,b,y),this.I=2}}else this.I==3&&(c?ml(this,c):this.i.length==0||nl(this.h)||ml(this))};function ml(c,y){var b;y?b=y.l:b=c.V++;const S=Rt(c.J);$e(S,"SID",c.M),$e(S,"RID",b),$e(S,"AID",c.K),Qs(c,S),c.u&&c.o&&Fs(S,c.u,c.o),b=new oi(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=sc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),il(c.h,b),Ci(b,S,y)}function Qs(c,y){c.H&&je(c.H,function(b,S){$e(y,S,b)}),c.l&&je({},function(b,S){$e(y,S,b)})}function sc(c,y,b){b=Math.min(c.i.length,b);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const _t=["count="+b];Re==-1?b>0?(Re=B[0].g,_t.push("ofs="+Re)):Re=0:_t.push("ofs="+Re);let Ge=!0;for(let ut=0;ut<b;ut++){var K=B[ut].g;const Kn=B[ut].map;if(K-=Re,K<0)Re=Math.max(0,B[ut].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var re=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Bi,fi]of re){let di=fi;m(fi)&&(di=Nr(fi)),_t.push(K+Bi+"="+encodeURIComponent(di))}}catch(Bi){throw _t.push(K+"type="+encodeURIComponent("_badmap")),Bi}}catch{S&&S(Kn)}}if(Ge){re=_t.join("&");break e}}re=void 0}return c=c.i.splice(0,b),y.G=c,re}function ac(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||x(),oe||(he(),oe=!0),I.add(y,c),c.A=0}}function Ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ri(g(c.Da,c),uc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ri(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ur(this),oc(this))};function pl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function oc(c){c.g=new oi(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Qs(c,y),c.u&&c.o&&Fs(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Bs(Rt(y)),b.u=null,b.R=!0,Va(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Ur(this),Ys(this),St(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function lc(c,y){var b=null;if(c.g==y){Fa(c),pl(c),c.g=null;var S=2}else if(ki(c.h,y))b=y.G,rl(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=ka(),Pt(S,new xi(S,b)),ji(c)}else ac(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Ha(c,y)||S==2&&Ys(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),B){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function uc(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function zi(c,y){if(c.j.info("Error code "+y),y==2){var b=g(c.bb,c),S=c.Ua;const B=!S;S=new Cn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(S,"https"),Bs(S),B?ui(S.toString(),b):cl(S.toString(),b)}else St(2);c.I=0,c.l&&c.l.pa(y),cc(c),qa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function cc(c){if(c.I=0,c.ja=[],c.l){const y=sl(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function hc(c,y,b){var S=b instanceof Cn?Rt(b):new Cn(b);if(S.g!="")y&&(S.g=y+"."+S.g),Dr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new Cn(null);S&&Bt(K,S),y&&(K.g=y),B&&Dr(K,B),b&&(K.h=b),S=K}return b=c.G,y=c.wa,b&&y&&$e(S,b,y),$e(S,"VER",c.ka),Qs(c,S),S}function fc(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Pi({ab:b})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}i=dc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function jr(){}jr.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){wt.call(this),this.g=new Lr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ir(this)}T(fn,wt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){dl(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Nr(c),c=b);y.i.push(new xt(y.Ya++,c)),y.I==3&&ji(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,fn.Z.N.call(this)};function mc(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(mc,Yt);function pc(){qn.call(this),this.status=1}T(pc,qn);function ir(c){this.g=c}T(ir,dc),ir.prototype.ra=function(){Pt(this.g,"a")},ir.prototype.qa=function(c){Pt(this.g,new mc(c))},ir.prototype.pa=function(c){Pt(this.g,new pc)},ir.prototype.oa=function(){Pt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,VT=function(){return new jr},kT=function(){return ka()},MT=yt,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Vh=js,Zo.COMPLETE="complete",OT=Zo,Qu.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",wt.prototype.listen=wt.prototype.J,ru=Qu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,DT=We}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let Ho="12.3.0";const _a=new pf("@firebase/firestore");function To(){return _a.logLevel}function ce(i,...e){if(_a.logLevel<=Ve.DEBUG){const n=e.map(lg);_a.debug(`Firestore (${Ho}): ${i}`,...n)}}function Rr(i,...e){if(_a.logLevel<=Ve.ERROR){const n=e.map(lg);_a.error(`Firestore (${Ho}): ${i}`,...n)}}function Mo(i,...e){if(_a.logLevel<=Ve.WARN){const n=e.map(lg);_a.warn(`Firestore (${Ho}): ${i}`,...n)}}function lg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,PT(i,s,n)}function PT(i,e,n){let s=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Rr(s),new Error(s)}function Qe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||PT(e,o,s)}function xe(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class t2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n2{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new LT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class i2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new i2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function a2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=a2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function wp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return tp(o)===tp(u)?Le(o,u):tp(o)?1:-1}return Le(i.length,e.length)}const o2=55296,l2=57343;function tp(i){const e=i.charCodeAt(0);return e>=o2&&e<=l2}function ko(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const hE="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),o=Ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):wp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class rt extends Ki{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ki{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return u2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new tn([hE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function UT(i,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function c2(i,e,n,s){if(e===!0&&s===!0)throw new ue(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fE(i){if(!ye.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dE(i){if(ye.isDocumentKey(i))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(i);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function kt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ku(i,e){if(!jT(i))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}const mE=-62135596800,pE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pE);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mE)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:kt("string",ot._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function h2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new vs(o,ye.empty(),e)}function f2(i){return new vs(i.readTime,i.key,_u)}class vs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new vs(we.min(),ye.empty(),_u)}static max(){return new vs(we.max(),ye.empty(),_u)}}function d2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==m2)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function g2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(i){return i.name==="IndexedDbTransactionError"}class bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;const cg=-1;function Tf(i){return i==null}function Jh(i){return i===0&&1/i==-1/0}function y2(i){return typeof i=="number"&&Number.isInteger(i)&&!Jh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const zT="";function _2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=gE(e)),e=v2(i.get(n),e);return gE(e)}function v2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case zT:n+="";break;default:n+=u}}return n}function gE(i){return i+zT+""}function yE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ds(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function BT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new en(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new jt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class qT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qT("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const E2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=E2.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}const HT="server_timestamp",FT="__type__",GT="__previous_value__",KT="__local_write_time__";function hg(i){return(i?.mapValue?.fields||{})[FT]?.stringValue===HT}function wf(i){const e=i.mapValue.fields[GT];return hg(e)?wf(e):e}function vu(i){const e=Es(i.mapValue.fields[KT].timestampValue);return new ot(e.seconds,e.nanos)}class b2{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Wh="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}const QT="__type__",T2="__max__",wh={mapValue:{}},YT="__vector__",Zh="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:S2(i)?9007199254740991:w2(i)?10:11:Ee(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const n=Ts(i);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Es(o.timestampValue),m=Es(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?Jh(h)===Jh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return ko(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(h)!==yE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Zi(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function bu(i,e){return(i.values||[]).find((n=>Zi(n,e)))!==void 0}function Vo(i,e){if(i===e)return 0;const n=Ts(i),s=Ts(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=bt(u.integerValue||u.doubleValue),p=bt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return vE(i.timestampValue,e.timestampValue);case 4:return vE(vu(i),vu(e));case 5:return wp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=bs(u),p=bs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Le(m[g],p[g]);if(E!==0)return E}return Le(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Le(bt(u.latitude),bt(h.latitude));return m!==0?m:Le(bt(u.longitude),bt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return EE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Zh]?.arrayValue,E=p[Zh]?.arrayValue,T=Le(g?.values?.length||0,E?.values?.length||0);return T!==0?T:EE(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===wh.mapValue&&h===wh.mapValue)return 0;if(u===wh.mapValue)return 1;if(h===wh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=wp(p[T],E[T]);if(A!==0)return A;const O=Vo(m[p[T]],g[E[T]]);if(O!==0)return O}return Le(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function vE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=Es(i),s=Es(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function EE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Vo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function Po(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Es(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Ph(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wf(i);return e?16+Ph(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ph(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ds(s.fields,((u,h)=>{o+=u.length+Ph(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function bE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ap(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function TE(i){return!!i&&"nullValue"in i}function wE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lh(i){return!!i&&"mapValue"in i}function w2(i){return(i?.mapValue?.fields||{})[QT]?.stringValue===YT}function cu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ds(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=cu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(i.arrayValue.values[n]);return e}return{...i}}function S2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=cu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ds(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new An(cu(this.value))}}function $T(i){const e=[];return Ds(i.fields,((n,s)=>{const o=new tn([n]);if(Lh(s)){const u=$T(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Un(e)}class ln{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),An.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,we.min(),we.min(),An.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,we.min(),we.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ef{constructor(e,n){this.position=e,this.inclusive=n}}function SE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zi(i.position[n],e.position[n]))return!1;return!0}class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function A2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class XT{}class Mt extends XT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new R2(e,n,s):n==="array-contains"?new N2(e,s):n==="in"?new D2(e,s):n==="not-in"?new O2(e,s):n==="array-contains-any"?new M2(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new I2(e,s):new C2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends XT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return JT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JT(i){return i.op==="and"}function WT(i){return x2(i)&&JT(i)}function x2(i){for(const e of i.filters)if(e instanceof bi)return!1;return!0}function xp(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(WT(i))return i.filters.map((e=>xp(e))).join(",");{const e=i.filters.map((n=>xp(n))).join(",");return`${i.op}(${e})`}}function ZT(i,e){return i instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(i,e):i instanceof bi?(function(s,o){return o instanceof bi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&ZT(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function ew(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(i):i instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ew).join(" ,")+"}"})(i):"Filter"}class R2 extends Mt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class I2 extends Mt{constructor(e,n){super(e,"in",n),this.keys=tw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class C2 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=tw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tw(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class N2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&bu(n.arrayValue,this.value)}}class D2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class O2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class M2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}class k2{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function xE(i,e=null,n=[],s=[],o=null,u=null,h=null){return new k2(i,e,n,s,o,u,h)}function dg(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=n}return e.Te}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!A2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ZT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!AE(i.startAt,e.startAt)&&AE(i.endAt,e.endAt)}function Rp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ko{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function V2(i,e,n,s,o,u,h,m){return new Ko(i,e,n,s,o,u,h,m)}function pg(i){return new Ko(i)}function RE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nw(i){return i.collectionGroup!==null}function hu(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(tn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Tu(u,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Tu(tn.keyField(),s))}return e.Ie}function $i(i){const e=xe(i);return e.Ee||(e.Ee=P2(e,hu(i))),e.Ee}function P2(i,e){if(i.limitType==="F")return xE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Tu(o.field,u)}));const n=i.endAt?new ef(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ef(i.startAt.position,i.startAt.inclusive):null;return xE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ip(i,e){const n=i.filters.concat([e]);return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Cp(i,e,n){return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Sf(i,e){return mg($i(i),$i(e))&&i.limitType===e.limitType}function iw(i){return`${dg($i(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ew(o))).join(", ")}]`),Tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})($i(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of hu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=SE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,hu(s),o)||s.endAt&&!(function(h,m,p){const g=SE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,hu(s),o))})(i,e)}function L2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rw(i){return(e,n)=>{let s=!1;for(const o of hu(i)){const u=U2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function U2(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Vo(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}const j2=new dt(ye.comparator);function Ir(){return j2}const sw=new dt(ye.comparator);function su(...i){let e=sw;for(const n of i)e=e.insert(n.key,n);return e}function aw(i){let e=sw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fa(){return fu()}function ow(){return fu()}function fu(){return new xa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const z2=new dt(ye.comparator),B2=new jt(ye.comparator);function Ue(...i){let e=B2;for(const n of i)e=e.add(n);return e}const q2=new jt(Le);function H2(){return q2}function gg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function lw(i){return{integerValue:""+i}}function F2(i,e){return y2(e)?lw(e):gg(i,e)}class xf{constructor(){this._=void 0}}function G2(i,e,n){return i instanceof wu?(function(o,u){const h={fields:{[FT]:{stringValue:HT},[KT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=wf(u)),u&&(h.fields[GT]=u),{mapValue:h}})(n,e):i instanceof Su?cw(i,e):i instanceof Au?hw(i,e):(function(o,u){const h=uw(o,u),m=IE(h)+IE(o.Ae);return Ap(h)&&Ap(o.Ae)?lw(m):gg(o.serializer,m)})(i,e)}function K2(i,e,n){return i instanceof Su?cw(i,e):i instanceof Au?hw(i,e):n}function uw(i,e){return i instanceof tf?(function(s){return Ap(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class wu extends xf{}class Su extends xf{constructor(e){super(),this.elements=e}}function cw(i,e){const n=fw(e);for(const s of i.elements)n.some((o=>Zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Au extends xf{constructor(e){super(),this.elements=e}}function hw(i,e){let n=fw(e);for(const s of i.elements)n=n.filter((o=>!Zi(o,s)));return{arrayValue:{values:n}}}class tf extends xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IE(i){return bt(i.integerValue||i.doubleValue)}function fw(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Q2{constructor(e,n){this.field=e,this.transform=n}}function Y2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Su&&o instanceof Su||s instanceof Au&&o instanceof Au?ko(s.elements,o.elements,Zi):s instanceof tf&&o instanceof tf?Zi(s.Ae,o.Ae):s instanceof wu&&o instanceof wu})(i.transform,e.transform)}class $2{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rf{}function dw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new If(i.key,pn.none()):new Vu(i.key,i.data,pn.none());{const n=i.data,s=An.empty();let o=new jt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Os(i.key,s,new Un(o.toArray()),pn.none())}}function X2(i,e,n){i instanceof Vu?(function(o,u,h){const m=o.value.clone(),p=NE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Os?(function(o,u,h){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=NE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(mw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function du(i,e,n,s){return i instanceof Vu?(function(u,h,m,p){if(!Uh(u.precondition,h))return m;const g=u.value.clone(),E=DE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Os?(function(u,h,m,p){if(!Uh(u.precondition,h))return m;const g=DE(u.fieldTransforms,p,h),E=h.data;return E.setAll(mw(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Uh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function J2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=uw(s.transform,o||null);u!=null&&(n===null&&(n=An.empty()),n.set(s.field,u))}return n||null}function CE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((u,h)=>Y2(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vu extends Rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends Rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function NE(i,e,n){const s=new Map;Qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,K2(h,m,n[o]))}return s}function DE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,G2(u,h,e))}return s}class If extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&X2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ow();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=dw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,s)=>CE(n,s)))&&ko(this.baseMutations,e.baseMutations,((n,s)=>CE(n,s)))}}class yg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return z2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yg(e,n,s,o)}}class eD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,qe;function nD(i){switch(i){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function pw(i){if(i===void 0)return Rr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Ot.OK:return Z.OK;case Ot.CANCELLED:return Z.CANCELLED;case Ot.UNKNOWN:return Z.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return Z.INTERNAL;case Ot.UNAVAILABLE:return Z.UNAVAILABLE;case Ot.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ot.NOT_FOUND:return Z.NOT_FOUND;case Ot.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ot.ABORTED:return Z.ABORTED;case Ot.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ot.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:i})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function iD(){return new TextEncoder}const rD=new gs([4294967295,4294967295],0);function OE(i){const e=iD().encode(i),n=new NT;return n.update(e),new Uint8Array(n.digest())}function ME(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gs([n,s],0),new gs([o,u],0)]}class _g{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(gs.fromNumber(s)));return o.compare(rD)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _g(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cf(we.min(),o,new dt(Le),Ir(),Ue())}}class Pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pu(s,n,Ue(),Ue(),Ue())}}class jh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gw{constructor(e,n){this.targetId=e,this.Ce=n}}class yw{constructor(e,n,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.ve=0,this.Fe=VE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=VE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.Je=Sh(),this.He=Sh(),this.Ye=new dt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rp(u))if(s===0){const h=new ye(u.path);this.et(n,h,ln.newNoDocument(h,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(p){if(p instanceof qT)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _g(h,o,u)}catch(p){return Mo(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Rp(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,ln.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Cf(e,n,this.Ye,this.je,s);return this.je=Ir(),this.Je=Sh(),this.He=Sh(),this.Ye=new dt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sh(){return new dt(ye.comparator)}function VE(){return new dt(ye.comparator)}const aD={asc:"ASCENDING",desc:"DESCENDING"},oD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lD={and:"AND",or:"OR"};class uD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(i,e){return i.useProto3Json||Tf(e)?e:{value:e}}function nf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _w(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cD(i,e){return nf(i,e.toTimestamp())}function Xi(i){return Qe(!!i,49232),we.fromTimestamp((function(n){const s=Es(n);return new ot(s.seconds,s.nanos)})(i))}function vg(i,e){return Dp(i,e).canonicalString()}function Dp(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function vw(i){const e=rt.fromString(i);return Qe(Sw(e),10190,{key:e.toString()}),e}function Op(i,e){return vg(i.databaseId,e.path)}function np(i,e){const n=vw(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(bw(n))}function Ew(i,e){return vg(i.databaseId,e)}function hD(i){const e=vw(i);return e.length===4?rt.emptyPath():bw(e)}function Mp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bw(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function PE(i,e,n){return{name:Op(i,e),fields:n.value.mapValue.fields}}function fD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),nn.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),nn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:pw(g.code);return new ue(E,g.message||"")})(h);n=new yw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(i,s.document.name),u=Xi(s.document.updateTime),h=s.document.createTime?Xi(s.document.createTime):we.min(),m=new An({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new jh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(i,s.document),u=s.readTime?Xi(s.readTime):we.min(),h=ln.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(i,s.document),u=s.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new tD(o,u),m=s.targetId;n=new gw(m,h)}}return n}function dD(i,e){let n;if(e instanceof Vu)n={update:PE(i,e.key,e.value)};else if(e instanceof If)n={delete:Op(i,e.key)};else if(e instanceof Os)n={update:PE(i,e.key,e.data),updateMask:TD(e.fieldMask)};else{if(!(e instanceof W2))return Ee(16599,{Vt:e.type});n={verify:Op(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof wu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof tf)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:cD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function mD(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Xi(o.updateTime):Xi(u);return h.isEqual(we.min())&&(h=Xi(u)),new $2(h,o.transformResults||[])})(n,e)))):[]}function pD(i,e){return{documents:[Ew(i,e.path)]}}function gD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ew(i,o);const u=(function(g){if(g.length!==0)return ww(bi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:So(A.field),direction:vD(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Np(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function yD(i){let e=hD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=Tw(T);return A instanceof bi&&WT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new Tu(Ao(F.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Tf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,O=T.values||[];return new ef(O,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,O=T.values||[];return new ef(O,A)})(n.endAt)),V2(e,o,h,u,m,"F",p,g)}function _D(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ao(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ao(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ao(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(Ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((s=>Tw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function vD(i){return aD[i]}function ED(i){return oD[i]}function bD(i){return lD[i]}function So(i){return{fieldPath:i.canonicalString()}}function Ao(i){return tn.fromServerFormat(i.fieldPath)}function ww(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:ED(n.op),value:n.value}}})(i):i instanceof bi?(function(n){const s=n.getFilters().map((o=>ww(o)));return s.length===1?s[0]:{compositeFilter:{op:bD(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function TD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Sw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ds{constructor(e,n,s,o,u=we.min(),h=we.min(),m=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wD{constructor(e){this.yt=e}}function SD(i){const e=yD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cp(e,e.limit,"L"):e}class AD{constructor(){this.Cn=new xD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(vs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class xD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Aw=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Aw,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Lo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Lo(0)}static cr(){return new Lo(-1)}}const UE="LruGarbageCollector",RD=1048576;function jE([i,e],[n,s]){const o=Le(i,n);return o===0?Le(e,s):o}class ID{constructor(e){this.Ir=e,this.buffer=new jt(jE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(UE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?ce(UE,"Ignoring IndexedDB error during garbage collection: ",n):await Fo(n)}await this.Vr(3e5)}))}}class ND{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(bf.ce);const s=new ID(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(LE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),To()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function DD(i,e){return new ND(i,e)}class OD{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&du(s.mutation,o,Un.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=su();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ir();const h=fu(),m=(function(){return fu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Os)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),du(E.mutation,g,E.mutation.getFieldMask(),ot.now())):h.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new MD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=fu();let o=new dt(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Un.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=ow();E.forEach((A=>{if(!u.has(A)){const O=dw(n.get(A),s.get(A));O!==null&&T.set(A,O),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(fa());let m=_u,p=u;return h.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((E=>({batchId:m,changes:aw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=su();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,A){return new Ko(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))}));let m=su();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&du(E.mutation,g,Un.empty(),ot.now()),Af(n,g)&&(m=m.insert(p,g))})),m}))}}class VD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:SD(o.bundledQuery),readTime:Xi(o.readTime)}})(n)),ne.resolve()}}class PD{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=fa(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=fa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new eD(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class LD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Eg{constructor(){this.Qr=new jt(Ht.$r),this.Ur=new jt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class UD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Ht.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Z2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?cg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Le);return n.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ye(u),0);let m=new jt(Le);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jD{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Ir();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ir();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||d2(f2(E),s)<=0||(o.has(E.key)||Af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zD(this)}getSize(e){return ne.resolve(this.size)}}class zD extends OD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class BD{constructor(e){this.persistence=e,this.si=new xa((n=>dg(n)),mg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Eg,this.targetCount=0,this.ai=Lo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class xw{constructor(e,n){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new LD,this.referenceDelegate=e(this),this.Pi=new BD(this),this.indexManager=new AD,this.remoteDocumentCache=(function(o){return new jD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wD(n),this.Ii=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new UD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new qD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class qD extends p2{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Vi=null}static mi(e){return new bg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rf{constructor(e,n){this.persistence=e,this.pi=new xa((s=>_2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=DD(this,n)}static mi(e,n){return new rf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,s,o)}}class HD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _1()?8:g2(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new HD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(To()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(To()<=Ve.DEBUG&&ce("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(To()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):ne.resolve())}ys(e,n){if(RE(n))return ne.resolve(null);let s=$i(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cp(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Cp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return RE(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(To()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.vs(e,h,n,h2(o,_u)).next((m=>m)))}))}Ds(e,n){let s=new jt(rw(e));return n.forEach(((o,u)=>{Af(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return To()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(e,n,vs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const wg="LocalStore",GD=3e8;class KD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Le),this.xs=new xa((u=>dg(u)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QD(i,e,n,s){return new KD(i,e,n,s)}async function Rw(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function YD(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let O=ne.resolve();return A.forEach((F=>{O=O.next((()=>E.getEntry(p,F))).next((z=>{const L=g.docVersions.get(F);Qe(L!==null,48541),z.version.compareTo(L)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Iw(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $D(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(nn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(T,O),(function(z,L,Y){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=GD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let p=Ir(),g=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(XD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function XD(i,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ir();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(wg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function JD(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WD(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ds(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function kp(i,e,n){const s=xe(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Go(h))throw h;ce(wg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zE(i,e,n){const s=xe(i);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=xe(p),A=T.xs.get(E);return A!==void 0?ne.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)})(s,h,$i(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Ue()))).next((m=>(ZD(s,L2(e),m),{documents:m,Qs:u})))))}function ZD(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class BE{constructor(){this.activeTargetIds=H2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eO{constructor(){this.Mo=new BE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tO{Oo(e){}shutdown(){}}const qE="ConnectivityMonitor";class HE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(qE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ah=null;function Vp(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}const ip="RestConnection",nO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Vp(),m=this.zo(e,n.toUriEncodedString());ce(ip,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Rs(g);return this.Jo(e,m,p,s,E).then((T=>(ce(ip,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Mo(ip,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=nO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class rO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class sO extends iO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Vp();return new Promise(((m,p)=>{const g=new DT;g.setWithCredentials(!0),g.listenOnce(OT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Vh.NO_ERROR:const T=g.getResponseJson();ce(sn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Vh.TIMEOUT:ce(sn,`RPC '${e}' ${h} timed out`),p(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const A=g.getStatus();if(ce(sn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const F=O?.error;if(F&&F.status&&F.message){const z=(function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(J)>=0?J:Z.UNKNOWN})(F.status);p(new ue(z,F.message))}else p(new ue(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(sn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(sn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Vp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=VT(),m=kT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(sn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let A=!1,O=!1;const F=new rO({Yo:L=>{O?ce(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ce(sn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ce(sn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),z=(L,Y,J)=>{L.listen(Y,(ie=>{try{J(ie)}catch(se){setTimeout((()=>{throw se}),0)}}))};return z(T,ru.EventType.OPEN,(()=>{O||(ce(sn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),z(T,ru.EventType.CLOSE,(()=>{O||(O=!0,ce(sn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),z(T,ru.EventType.ERROR,(L=>{O||(O=!0,Mo(sn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),F.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),z(T,ru.EventType.MESSAGE,(L=>{if(!O){const Y=L.data[0];Qe(!!Y,16349);const J=Y,ie=J?.error||J[0]?.error;if(ie){ce(sn,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let he=(function(x){const R=Ot[x];if(R!==void 0)return pw(R)})(se),oe=ie.message;he===void 0&&(he=Z.INTERNAL,oe="Unknown error status: "+se+" with message "+ie.message),O=!0,F.a_(new ue(he,oe)),T.close()}else ce(sn,`RPC '${e}' stream ${o} received:`,Y),F.u_(Y)}})),z(m,MT.STAT_EVENT,(L=>{L.stat===Tp.PROXY?ce(sn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Tp.NOPROXY&&ce(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rp(){return typeof document<"u"?document:null}function Nf(i){return new uD(i,!0)}class Cw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const FE="PersistentStream";class Nw{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aO extends Nw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Xi(h.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Rp(p)?{documents:pD(u,p)}:{query:gD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=_w(u,h.resumeToken);const g=Np(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=nf(u,h.snapshotVersion.toTimestamp());const g=Np(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=_D(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.q_(n)}}class oO extends Nw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mD(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dD(this.serializer,s)))};this.q_(n)}}class lO{}class uO extends lO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class hO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ra(this)&&(ce(va,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await Lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Df(g)})(this))}))})),this.Ra=new cO(s,o)}}async function Df(i){if(Ra(i))for(const e of i.da)await e(!0)}async function Lu(i){for(const e of i.da)await e(!1)}function Dw(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?xg(n):Qo(n).O_()&&Ag(n,e))}function Sg(i,e){const n=xe(i),s=Qo(n);n.Ia.delete(e),s.O_()&&Ow(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ra(n)&&n.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(i).Y_(e)}function Ow(i,e){i.Va.Ue(e),Qo(i).Z_(e)}function xg(i){i.Va=new sD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Qo(i).start(),i.Ra.ua()}function Rg(i){return Ra(i)&&!Qo(i).x_()&&i.Ia.size>0}function Ra(i){return xe(i).Ea.size===0}function Mw(i){i.Va=void 0}async function fO(i){i.Ra.set("Online")}async function dO(i){i.Ia.forEach(((e,n)=>{Ag(i,e)}))}async function mO(i,e){Mw(i),Rg(i)?(i.Ra.ha(e),xg(i)):i.Ra.set("Unknown")}async function pO(i,e,n){if(i.Ra.set("Online"),e instanceof yw&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ce(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sf(i,s)}else if(e instanceof jh?i.Va.Ze(e):e instanceof gw?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await Iw(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),Ow(u,p);const T=new ds(E.target,p,g,E.sequenceNumber);Ag(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(va,"Failed to raise snapshot:",s),await sf(i,s)}}async function sf(i,e,n){if(!Go(e))throw e;i.Ea.add(1),await Lu(i),i.Ra.set("Offline"),n||(n=()=>Iw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Df(i)}))}function kw(i,e){return e().catch((n=>sf(i,n,e)))}async function Of(i){const e=xe(i),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;gO(e);)try{const o=await JD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,yO(e,o)}catch(o){await sf(e,o)}Vw(e)&&Pw(e)}function gO(i){return Ra(i)&&i.Ta.length<10}function yO(i,e){i.Ta.push(e);const n=ws(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Vw(i){return Ra(i)&&!ws(i).x_()&&i.Ta.length>0}function Pw(i){ws(i).start()}async function _O(i){ws(i).ra()}async function vO(i){const e=ws(i);for(const n of i.Ta)e.ea(n.mutations)}async function EO(i,e,n){const s=i.Ta.shift(),o=yg.from(s,e,n);await kw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Of(i)}async function bO(i,e){e&&ws(i).X_&&await(async function(s,o){if((function(h){return nD(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ws(s).B_(),await kw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Of(s)}})(i,e),Vw(i)&&Pw(i)}async function GE(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ce(va,"RemoteStore received new credentials");const s=Ra(n);n.Ea.add(3),await Lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Df(n)}async function TO(i,e){const n=xe(i);e?(n.Ea.delete(2),await Df(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Qo(i){return i.ma||(i.ma=(function(n,s,o){const u=xe(n);return u.sa(),new aO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:fO.bind(null,i),t_:dO.bind(null,i),r_:mO.bind(null,i),H_:pO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Rg(i)?xg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Mw(i))}))),i.ma}function ws(i){return i.fa||(i.fa=(function(n,s,o){const u=xe(n);return u.sa(),new oO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:_O.bind(null,i),r_:bO.bind(null,i),ta:vO.bind(null,i),na:EO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Of(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ig{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Ig(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(Rr("AsyncQueue",`${e}: ${i}`),Go(i))return new ue(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class KE{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Uo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Uo(e,n,No.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SO{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=QE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function QE(){return new xa((i=>iw(i)),Sf)}async function Lw(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Cg(h,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ng(n)}async function Uw(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AO(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ng(n)}function xO(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ng(i){i.Ca.forEach((e=>{e.next()}))}var Pp,YE;(YE=Pp||(Pp={})).Ma="default",YE.Cache="cache";class jw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class zw{constructor(e){this.key=e}}class Bw{constructor(e){this.key=e}}class RO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=rw(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new KE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),O=Af(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?F!==z&&(s.track({type:3,doc:O}),L=!0):this.su(A,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(O?(h=h.add(O),u=z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(O,F){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return z(O)-z(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Uo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Bw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new zw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class IO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CO{constructor(e){this.key=e,this.hu=!1}}class NO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new xa((m=>iw(m)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new Eg,this.Vu={},this.mu=new Map,this.fu=Lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DO(i,e,n=!0){const s=Qw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qw(s,e,n,!0),o}async function OO(i,e){const n=Qw(i);await qw(n,e,!0,!1)}async function qw(i,e,n,s){const o=await WD(i.localStore,$i(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await MO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Dw(i.remoteStore,o),m}async function MO(i,e,n,s,o){i.pu=(T,A,O)=>(async function(z,L,Y,J){let ie=L.view.ru(Y);ie.Cs&&(ie=await zE(z.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,ie))));const se=J&&J.targetChanges.get(L.targetId),he=J&&J.targetMismatches.get(L.targetId)!=null,oe=L.view.applyChanges(ie,z.isPrimaryClient,se,he);return XE(z,L.targetId,oe.au),oe.snapshot})(i,T,A,O);const u=await zE(i.localStore,e,!0),h=new RO(e,u.Qs),m=h.ru(u.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);XE(i,n,g.au);const E=new IO(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function kO(i,e,n){const s=xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Sf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),Lp(s,o.targetId)})).catch(Fo)):(Lp(s,o.targetId),await kp(s.localStore,o.targetId,!0))}async function VO(i,e){const n=xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function PO(i,e,n){const s=HO(i);try{const o=await(function(h,m){const p=xe(h),g=ot.now(),E=m.reduce(((O,F)=>O.add(F.key)),Ue());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let F=Ir(),z=Ue();return p.Ns.getEntries(O,E).next((L=>{F=L,F.forEach(((Y,J)=>{J.isValidDocument()||(z=z.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,F))).next((L=>{T=L;const Y=[];for(const J of m){const ie=J2(J,T.get(J.key).overlayedDocument);ie!=null&&Y.push(new Os(J.key,ie,$T(ie.value.mapValue),pn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Y,m)})).next((L=>{A=L;const Y=L.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(O,L.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:aw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new dt(Le)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Uu(s,o.changes),await Of(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");n.reject(u)}}async function Hw(i,e){const n=xe(i);try{const s=await $D(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await Uu(n,s,e)}catch(s){await Fo(s)}}function $E(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=xe(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&Ng(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LO(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new dt(ye.comparator);h=h.insert(u,ln.newNoDocument(u,we.min()));const m=Ue().add(u),p=new Cf(we.min(),new Map,new dt(Le),h,m);await Hw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Og(s)}else await kp(s.localStore,e,!1).then((()=>Lp(s,e,n))).catch(Fo)}async function UO(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await YD(n.localStore,e);Gw(n,s,null),Fw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,o)}catch(o){await Fo(o)}}async function jO(i,e,n){const s=xe(i);try{const o=await(function(h,m){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Gw(s,e,n),Fw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uu(s,o)}catch(o){await Fo(o)}}function Fw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Gw(i,e,n){const s=xe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Kw(i,s)}))}function Kw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Sg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Og(i))}function XE(i,e,n){for(const s of n)s instanceof zw?(i.Ru.addReference(s.key,e),zO(i,s)):s instanceof Bw?(ce(Dg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Kw(i,s.key)):Ee(19791,{wu:s})}function zO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(Dg,"New document in limbo: "+n),i.Eu.add(s),Og(i))}function Og(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new CO(n)),i.du=i.du.insert(n,s),Dw(i.remoteStore,new ds($i(pg(n.path)),s,"TargetPurposeLimboResolution",bf.ce))}}async function Uu(i,e,n){const s=xe(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Tg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(A=>ne.forEach(A.Es,(O=>E.persistence.referenceDelegate.addReference(T,A.targetId,O))).next((()=>ne.forEach(A.ds,(O=>E.persistence.referenceDelegate.removeReference(T,A.targetId,O)))))))))}catch(T){if(!Go(T))throw T;ce(wg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const O=E.Ms.get(A),F=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(A,z)}}})(s.localStore,u))}async function BO(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ce(Dg,"User change. New user:",e.toKey());const s=await Rw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Ls)}}function qO(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Qw(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LO.bind(null,e),e.Pu.H_=AO.bind(null,e.eventManager),e.Pu.yu=xO.bind(null,e.eventManager),e}function HO(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QD(this.persistence,new FD,e.initialUser,this.serializer)}Cu(e){return new xw(bg.mi,this.serializer)}Du(e){return new eO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class FO extends af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof rf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new xw((s=>rf.mi(s,n)),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SO})()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),s=(function(u){return new sO(u)})(e.databaseInfo);return(function(u,h,m,p){return new uO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new hO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>$E(this.syncEngine,n,0)),(function(){return HE.v()?new HE:new tO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new NO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);ce(va,"RemoteStore shutting down."),s.Ea.add(5),await Lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};class Yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ss="FirestoreClient";class GO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(Ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Ss,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Rw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function JE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await KO(i);ce(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>GE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>GE(e.remoteStore,o))),i._onlineComponents=e}async function KO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Ss,"Using user provided OfflineComponentProvider");try{await sp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await sp(i,new af)}}else ce(Ss,"Using default OfflineComponentProvider"),await sp(i,new FO(void 0));return i._offlineComponents}async function $w(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Ss,"Using user provided OnlineComponentProvider"),await JE(i,i._uninitializedComponentsProvider._online)):(ce(Ss,"Using default OnlineComponentProvider"),await JE(i,new Up))),i._onlineComponents}function QO(i){return $w(i).then((e=>e.syncEngine))}async function Xw(i){const e=await $w(i),n=e.eventManager;return n.onListen=DO.bind(null,e.syncEngine),n.onUnlisten=kO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),n}function YO(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Yw({next:A=>{E.Nu(),h.enqueueAndForget((()=>Uw(u,T)));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new jw(pg(m.path),E,{includeMetadataChanges:!0,qa:!0});return Lw(u,T)})(await Xw(i),i.asyncQueue,e,n,s))),s.promise}function $O(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Yw({next:A=>{E.Nu(),h.enqueueAndForget((()=>Uw(u,T))),A.fromCache&&p.source==="server"?g.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new jw(m,E,{includeMetadataChanges:!0,qa:!0});return Lw(u,T)})(await Xw(i),i.asyncQueue,e,n,s))),s.promise}function Jw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const WE=new Map;const Ww="firestore.googleapis.com",ZE=!0;class eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ww,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Aw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RD)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new e2;switch(s.type){case"firstParty":return new r2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),WE.delete(n),s.terminate())})(this),Promise.resolve()}}function XO(i,e,n,s={}){i=ii(i,Mf);const o=Rs(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Jp(`https://${m}`),Wp("Firestore",!0)),u.host!==Ww&&u.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!_s(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=on.MOCK_USER;else{g=zb(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(T)}i._authCredentials=new t2(new LT(g,E))}}class Ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ku(n,Tt._jsonSchema))return new Tt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:kt("string",Tt._jsonSchemaVersion),referencePath:kt("string")};class ys extends Ia{constructor(e,n,s){super(e,n,pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ye(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function Ut(i,e,...n){if(i=it(i),UT("collection","path",e),i instanceof Mf){const s=rt.fromString(e,...n);return dE(s),new ys(i,null,s)}{if(!(i instanceof Tt||i instanceof ys))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return dE(s),new ys(i.firestore,null,s)}}function ft(i,e,...n){if(i=it(i),arguments.length===1&&(e=ug.newId()),UT("doc","path",e),i instanceof Mf){const s=rt.fromString(e,...n);return fE(s),new Tt(i,null,new ye(s))}{if(!(i instanceof Tt||i instanceof ys))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return fE(s),new Tt(i.firestore,i instanceof ys?i.converter:null,new ye(s))}}const tb="AsyncQueue";class nb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cw(this,"async_queue_retry"),this._c=()=>{const s=rp();s&&ce(tb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;ce(tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Rr("INTERNAL UNHANDLED ERROR: ",ib(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ig.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ib(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ms extends Mf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nb(e),this._firestoreClient=void 0,await e}}}function JO(i,e){const n=typeof i=="object"?i:gf(),s=typeof i=="string"?i:Wh,o=Is(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Lb("firestore");u&&XO(o,...u)}return o}function kf(i){if(i._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WO(i),i._firestoreClient}function WO(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new b2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Jw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new GO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(nn.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:kt("string",ti._jsonSchemaVersion),bytes:kt("string")};class ju{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vf{constructor(e){this._methodName=e}}class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:kt("string",Ji._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:kt("string",Wi._jsonSchemaVersion),vectorValues:kt("object")};const ZO=/^__.*__$/;class eM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class Zw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eS(this.Ac)&&ZO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Nf(e)}Cc(e,n,s,o=!1){return new Mg({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(i){const e=i._freezeSettings(),n=Nf(i._databaseId);return new tM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kg(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Pg("Data must be an object, but it was:",h,s);const m=iS(s,h);let p,g;if(u.merge)p=new Un(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=jp(e,T,n);if(!h.contains(A))throw new ue(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);sS(E,A)||E.push(A)}p=new Un(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new eM(new An(m),p,g)}class Pf extends Vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class Vg extends Vf{_toFieldTransform(e){return new Q2(e.path,new wu)}isEqual(e){return e instanceof Vg}}function tS(i,e,n,s){const o=i.Cc(1,e,n);Pg("Data must be an object, but it was:",o,s);const u=[],h=An.empty();Ds(s,((p,g)=>{const E=Lg(e,p,n);g=it(g);const T=o.yc(E);if(g instanceof Pf)u.push(E);else{const A=Bu(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Un(u);return new Zw(h,m,o.fieldTransforms)}function nS(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[jp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(jp(e,u[A])),p.push(u[A+1]);const g=[],E=An.empty();for(let A=m.length-1;A>=0;--A)if(!sS(g,m[A])){const O=m[A];let F=p[A];F=it(F);const z=h.yc(O);if(F instanceof Pf)g.push(O);else{const L=Bu(F,z);L!=null&&(g.push(O),E.set(O,L))}}const T=new Un(g);return new Zw(E,T,h.fieldTransforms)}function nM(i,e,n,s=!1){return Bu(n,i.Cc(s?4:3,e))}function Bu(i,e){if(rS(i=it(i)))return Pg("Unsupported field value:",e,i),iS(i,e);if(i instanceof Vf)return(function(s,o){if(!eS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Bu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=it(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:nf(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nf(o.serializer,u)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:_w(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wi)return(function(h,m){return{mapValue:{fields:{[QT]:{stringValue:YT},[Zh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return gg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ef(s)}`)})(i,e)}function iS(i,e){const n={};return BT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(i,((s,o)=>{const u=Bu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Ji||i instanceof ti||i instanceof Tt||i instanceof Vf||i instanceof Wi)}function Pg(i,e,n){if(!rS(n)||!jT(n)){const s=Ef(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function jp(i,e,n){if((e=it(e))instanceof ju)return e._internalPath;if(typeof e=="string")return Lg(i,e);throw of("Field path arguments must be of type string or ",i,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function Lg(i,e,n){if(e.search(iM)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function of(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(Z.INVALID_ARGUMENT,m+i+p)}function sS(i,e){return i.some((n=>n.isEqual(e)))}class aS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends aS{data(){return super.data()}}function Lf(i,e){return typeof e=="string"?Lg(i,e):e instanceof ju?e._internalPath:e._delegate._internalPath}function sM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class oS extends Ug{}function Ft(i,e,...n){let s=[];e instanceof Ug&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof jg)).length,m=u.filter((p=>p instanceof Uf)).length;if(h>1||h>0&&m>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Uf extends oS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Uf(e,n,s)}_apply(e){const n=this._parse(e);return lS(e._query,n),new Ia(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=zu(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){sb(T,E);const F=[];for(const z of T)F.push(rb(p,u,z));A={arrayValue:{values:F}}}else A=rb(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||sb(T,E),A=nM(m,h,T,E==="in"||E==="not-in");return Mt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function un(i,e,n){const s=e,o=Lf("where",i);return Uf._create(o,s,n)}class jg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)lS(h,p),h=Ip(h,p)})(e._query,n),new Ia(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends oS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(u,h)})(e._query,this._field,this._direction);return new Ia(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function lf(i,e="asc"){const n=e,s=Lf("orderBy",i);return zg._create(s,n)}function rb(i,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nw(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bE(i,new ye(s))}if(n instanceof Tt)return bE(i,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function sb(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aM{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ds(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Ji(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=Es(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(Sw(s),9688,{name:e});const o=new Eu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Bg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends aS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:kt("string",ma._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class zh extends ma{data(e={}){return super.data(e)}}class Do{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new zh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:oM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function zn(i){i=ii(i,Tt);const e=ii(i.firestore,Ms);return YO(kf(e),i._key).then((n=>hM(e,i,n)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:kt("string",Do._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class uS extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Gt(i){i=ii(i,Ia);const e=ii(i.firestore,Ms),n=kf(e),s=new uS(e);return sM(i._query),$O(n,i._query).then((o=>new Do(e,s,i,o)))}function Ca(i,e,n){i=ii(i,Tt);const s=ii(i.firestore,Ms),o=Bg(i.converter,e,n);return qu(s,[kg(zu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,pn.none())])}function lM(i,e,n,...s){i=ii(i,Tt);const o=ii(i.firestore,Ms),u=zu(o);let h;return h=typeof(e=it(e))=="string"||e instanceof ju?nS(u,"updateDoc",i._key,e,n,s):tS(u,"updateDoc",i._key,e),qu(o,[h.toMutation(i._key,pn.exists(!0))])}function uM(i){return qu(ii(i.firestore,Ms),[new If(i._key,pn.none())])}function cM(i,e){const n=ii(i.firestore,Ms),s=ft(i),o=Bg(i.converter,e);return qu(n,[kg(zu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,pn.exists(!1))]).then((()=>s))}function qu(i,e){return(function(s,o){const u=new wr;return s.asyncQueue.enqueueAndForget((async()=>PO(await QO(s),o,u))),u.promise})(kf(i),e)}function hM(i,e,n){const s=n.docs.get(e._key),o=new uS(i);return new ma(i,o,e._key,s,new ou(n.hasPendingWrites,n.fromCache),e.converter)}class fM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zu(e)}set(e,n,s){this._verifyNotCommitted();const o=ap(e,this._firestore),u=Bg(o.converter,n,s),h=kg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,pn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=ap(e,this._firestore);let h;return h=typeof(n=it(n))=="string"||n instanceof ju?nS(this._dataReader,"WriteBatch.update",u._key,n,s,o):tS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ap(e,this._firestore);return this._mutations=this._mutations.concat(new If(n._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ap(i,e){if((i=it(i)).firestore!==e)throw new ue(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Hu(){return new Vg("serverTimestamp")}function zp(i){return kf(i=ii(i,Ms)),new fM(i,(e=>qu(i,e)))}(function(e,n=!0){(function(o){Ho=o})(Sa),vi(new ni("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ms(new n2(s.getProvider("auth-internal")),new s2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),xn(lE,uE,e),xn(lE,uE,"esm2020")})();var dM="firebase",mM="12.5.0";xn(dM,mM,"app");const cS="@firebase/installations",qg="0.6.19";const hS=1e4,fS=`w:${qg}`,dS="FIS_v2",pM="https://firebaseinstallations.googleapis.com/v1",gM=3600*1e3,yM="installations",_M="Installations";const vM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ea=new wa(yM,_M,vM);function mS(i){return i instanceof ri&&i.code.includes("request-failed")}function pS({projectId:i}){return`${pM}/projects/${i}/installations`}function gS(i){return{token:i.token,requestStatus:2,expiresIn:bM(i.expiresIn),creationTime:Date.now()}}async function yS(i,e){const s=(await e.json()).error;return Ea.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function _S({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function EM(i,{refreshToken:e}){const n=_S(i);return n.append("Authorization",TM(e)),n}async function vS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function bM(i){return Number(i.replace("s","000"))}function TM(i){return`${dS} ${i}`}async function wM({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=pS(i),o=_S(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:dS,appId:i.appId,sdkVersion:fS},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await vS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:gS(g.authToken)}}else throw await yS("Create Installation",p)}function ES(i){return new Promise(e=>{setTimeout(e,i)})}function SM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const AM=/^[cdef][\w-]{21}$/,Bp="";function xM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=RM(i);return AM.test(n)?n:Bp}catch{return Bp}}function RM(i){return SM(i).substr(0,22)}function jf(i){return`${i.appName}!${i.appId}`}const bS=new Map;function TS(i,e){const n=jf(i);wS(n,e),IM(n,e)}function wS(i,e){const n=bS.get(i);if(n)for(const s of n)s(e)}function IM(i,e){const n=CM();n&&n.postMessage({key:i,fid:e}),NM()}let da=null;function CM(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=i=>{wS(i.data.key,i.data.fid)}),da}function NM(){bS.size===0&&da&&(da.close(),da=null)}const DM="firebase-installations-database",OM=1,ba="firebase-installations-store";let op=null;function Hg(){return op||(op=Kb(DM,OM,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ba)}}})),op}async function uf(i,e){const n=jf(i),o=(await Hg()).transaction(ba,"readwrite"),u=o.objectStore(ba),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&TS(i,e.fid),e}async function SS(i){const e=jf(i),s=(await Hg()).transaction(ba,"readwrite");await s.objectStore(ba).delete(e),await s.done}async function zf(i,e){const n=jf(i),o=(await Hg()).transaction(ba,"readwrite"),u=o.objectStore(ba),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&TS(i,m.fid),m}async function Fg(i){let e;const n=await zf(i.appConfig,s=>{const o=MM(s),u=kM(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Bp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MM(i){const e=i||{fid:xM(),registrationStatus:0};return AS(e)}function kM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ea.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=VM(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PM(i)}:{installationEntry:e}}async function VM(i,e){try{const n=await wM(i,e);return uf(i.appConfig,n)}catch(n){throw mS(n)&&n.customData.serverCode===409?await SS(i.appConfig):await uf(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function PM(i){let e=await ab(i.appConfig);for(;e.registrationStatus===1;)await ES(100),e=await ab(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Fg(i);return s||n}return e}function ab(i){return zf(i,e=>{if(!e)throw Ea.create("installation-not-found");return AS(e)})}function AS(i){return LM(i)?{fid:i.fid,registrationStatus:0}:i}function LM(i){return i.registrationStatus===1&&i.registrationTime+hS<Date.now()}async function UM({appConfig:i,heartbeatServiceProvider:e},n){const s=jM(i,n),o=EM(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:fS,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await vS(()=>fetch(s,m));if(p.ok){const g=await p.json();return gS(g)}else throw await yS("Generate Auth Token",p)}function jM(i,{fid:e}){return`${pS(i)}/${e}/authTokens:generate`}async function Gg(i,e=!1){let n;const s=await zf(i.appConfig,u=>{if(!xS(u))throw Ea.create("not-registered");const h=u.authToken;if(!e&&qM(h))return u;if(h.requestStatus===1)return n=zM(i,e),u;{if(!navigator.onLine)throw Ea.create("app-offline");const m=FM(u);return n=BM(i,m),m}});return n?await n:s.authToken}async function zM(i,e){let n=await ob(i.appConfig);for(;n.authToken.requestStatus===1;)await ES(100),n=await ob(i.appConfig);const s=n.authToken;return s.requestStatus===0?Gg(i,e):s}function ob(i){return zf(i,e=>{if(!xS(e))throw Ea.create("not-registered");const n=e.authToken;return GM(n)?{...e,authToken:{requestStatus:0}}:e})}async function BM(i,e){try{const n=await UM(i,e),s={...e,authToken:n};return await uf(i.appConfig,s),n}catch(n){if(mS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SS(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await uf(i.appConfig,s)}throw n}}function xS(i){return i!==void 0&&i.registrationStatus===2}function qM(i){return i.requestStatus===2&&!HM(i)}function HM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+gM}function FM(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function GM(i){return i.requestStatus===1&&i.requestTime+hS<Date.now()}async function KM(i){const e=i,{installationEntry:n,registrationPromise:s}=await Fg(e);return s?s.catch(console.error):Gg(e).catch(console.error),n.fid}async function QM(i,e=!1){const n=i;return await YM(n),(await Gg(n,e)).token}async function YM(i){const{registrationPromise:e}=await Fg(i);e&&await e}function $M(i){if(!i||!i.options)throw lp("App Configuration");if(!i.name)throw lp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw lp(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function lp(i){return Ea.create("missing-app-config-values",{valueName:i})}const RS="installations",XM="installations-internal",JM=i=>{const e=i.getProvider("app").getImmediate(),n=$M(e),s=Is(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},WM=i=>{const e=i.getProvider("app").getImmediate(),n=Is(e,RS).getImmediate();return{getId:()=>KM(n),getToken:o=>QM(n,o)}};function ZM(){vi(new ni(RS,JM,"PUBLIC")),vi(new ni(XM,WM,"PRIVATE"))}ZM();xn(cS,qg);xn(cS,qg,"esm2020");const cf="analytics",ek="firebase_id",tk="origin",nk=60*1e3,ik="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kg="https://www.googletagmanager.com/gtag/js";const gn=new pf("@firebase/analytics");const rk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new wa("analytics","Analytics",rk);function sk(i){if(!i.startsWith(Kg)){const e=Bn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function IS(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function ak(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function ok(i,e){const n=ak("firebase-js-sdk-policy",{createScriptURL:sk}),s=document.createElement("script"),o=`${Kg}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function lk(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function uk(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await IS(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){gn.error(m)}i("config",o,u)}async function ck(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await IS(n);for(const p of h){const g=m.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){gn.error(u)}}function hk(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await ck(i,e,n,m,p)}else if(u==="config"){const[m,p]=h;await uk(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){gn.error(m)}}return o}function fk(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=hk(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function dk(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kg)&&n.src.includes(i))return n;return null}const mk=30,pk=1e3;class gk{constructor(e={},n=pk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const CS=new gk;function yk(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function _k(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:yk(n)},o=ik.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function vk(i,e=CS,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Bn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Tk;return setTimeout(async()=>{m.abort()},nk),NS({appId:s,apiKey:o,measurementId:u},h,m,e)}async function NS(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=CS){const{appId:u,measurementId:h}=i;try{await Ek(s,e)}catch(m){if(h)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await _k(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!bk(p)){if(o.deleteThrottleMetadata(u),h)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw m}const g=Number(p?.customData?.httpStatus)===503?M0(n,o.intervalMillis,mk):M0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,E),gn.debug(`Calling attemptFetch again in ${g} millis`),NS(i,E,s,o)}}function Ek(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bk(i){if(!(i instanceof ri)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Tk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wk(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h={...s,send_to:u};i("event",n,h)}}async function Sk(i,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}async function Ak(){if(qb())try{await Hb()}catch(i){return gn.warn(Bn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return gn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xk(i,e,n,s,o,u,h){const m=vk(i);m.then(A=>{n[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>gn.error(A)),e.push(m);const p=Ak().then(A=>{if(A)return s.getId()}),[g,E]=await Promise.all([m,p]);dk(u)||ok(u,g.measurementId),o("js",new Date);const T=h?.config??{};return T[tk]="firebase",T.update=!0,E!=null&&(T[ek]=E),o("config",g.measurementId,T),g.measurementId}class Rk{constructor(e){this.app=e}_delete(){return delete Oo[this.app.options.appId],Promise.resolve()}}let Oo={},lb=[];const ub={};let up="dataLayer",Ik="gtag",cb,Qg,hb=!1;function Ck(){const i=[];if(Bb()&&i.push("This is a browser extension environment."),v1()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Bn.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function Nk(i,e,n){Ck();const s=i.options.appId;if(!s)throw Bn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(Oo[s]!=null)throw Bn.create("already-exists",{id:s});if(!hb){lk(up);const{wrappedGtag:u,gtagCore:h}=fk(Oo,lb,ub,up,Ik);Qg=u,cb=h,hb=!0}return Oo[s]=xk(i,lb,ub,e,cb,up,n),new Rk(i)}function Dk(i=gf()){i=it(i);const e=Is(i,cf);return e.isInitialized()?e.getImmediate():Ok(i)}function Ok(i,e={}){const n=Is(i,cf);if(n.isInitialized()){const o=n.getImmediate();if(_s(e,n.getOptions()))return o;throw Bn.create("already-initialized")}return n.initialize({options:e})}function Mk(i,e,n){i=it(i),Sk(Qg,Oo[i.app.options.appId],e,n).catch(s=>gn.error(s))}function kk(i,e,n,s){i=it(i),wk(Qg,Oo[i.app.options.appId],e,n,s).catch(o=>gn.error(o))}const fb="@firebase/analytics",db="0.10.19";function Vk(){vi(new ni(cf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Nk(s,o,n)},"PUBLIC")),vi(new ni("analytics-internal",i,"PRIVATE")),xn(fb,db),xn(fb,db,"esm2020");function i(e){try{const n=e.getProvider(cf).getImmediate();return{logEvent:(s,o,u)=>kk(n,s,o,u),setUserProperties:(s,o)=>Mk(n,s,o)}}catch(n){throw Bn.create("interop-component-reg-failed",{reason:n})}}}Vk();const DS="firebasestorage.googleapis.com",OS="storageBucket",Pk=120*1e3,Lk=600*1e3;class Qt extends ri{constructor(e,n,s=0){super(cp(e),`Firebase Storage: ${n} (${cp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function cp(i){return"storage/"+i}function MS(){const i="An unknown error occurred, please check the error payload for server response.";return new Qt(Kt.UNKNOWN,i)}function Uk(i){return new Qt(Kt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function jk(i){return new Qt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Kt.UNAUTHENTICATED,i)}function Bk(){return new Qt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qk(i){return new Qt(Kt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Hk(){return new Qt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fk(){return new Qt(Kt.CANCELED,"User canceled the upload/download.")}function Gk(i){return new Qt(Kt.INVALID_URL,"Invalid URL '"+i+"'.")}function Kk(i){return new Qt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Qk(){return new Qt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OS+"' property when initializing the app?")}function Yk(){return new Qt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qp(i){return new Qt(Kt.INVALID_ARGUMENT,i)}function kS(){return new Qt(Kt.APP_DELETED,"The Firebase app was deleted.")}function $k(i){return new Qt(Kt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tu(i){throw new Qt(Kt.INTERNAL_ERROR,"Internal error: "+i)}class jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=jn.makeFromUrl(e,n)}catch{return new jn(e,"")}if(s.path==="")return s;throw Kk(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${E}/b/${o}/o${A}`,"i"),F={bucket:1,path:3},z=n===DS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",Y=new RegExp(`^https?://${z}/${o}/${L}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:O,indices:F,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<ie.length;se++){const he=ie[se],oe=he.regex.exec(e);if(oe){const I=oe[he.indices.bucket];let x=oe[he.indices.path];x||(x=""),s=new jn(I,x),he.postModify(s);break}}if(s==null)throw Gk(e);return s}}class Xk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Jk(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,i(O,p())},L)}function A(){u&&clearTimeout(u)}function O(L,...Y){if(g){A();return}if(L){A(),E.call(null,L,...Y);return}if(p()||h){A(),E.call(null,L,...Y);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let F=!1;function z(L){F||(F=!0,A(),!g&&(o!==null?(L||(m=2),clearTimeout(o),T(0)):L||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,z(!0)},n),z}function Wk(i){i(!1)}function Zk(i){return i!==void 0}function e4(i){return typeof i=="object"&&!Array.isArray(i)}function VS(i){return typeof i=="string"||i instanceof String}function mb(i,e,n,s){if(s<e)throw qp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw qp(`Invalid value for '${i}'. Expected ${n} or less.`)}function PS(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function LS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var pa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(pa||(pa={}));function t4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class n4{constructor(e,n,s,o,u,h,m,p,g,E,T,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,z)=>{this.resolve_=F,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new xh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===pa.NO_ERROR,p=u.getStatus();if(!m||t4(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===pa.ABORT;s(!1,new xh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new xh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Zk(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=MS();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?kS():Fk();h(p)}else{const p=Hk();h(p)}};this.canceled_?n(!1,new xh(!1,null,!0)):this.backoffId_=Jk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function i4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function r4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function a4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function o4(i,e,n,s,o,u,h=!0,m=!1){const p=LS(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return s4(E,e),i4(E,n),r4(E,u),a4(E,s),new n4(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function US(i){let e;try{e=JSON.parse(i)}catch{return null}return e4(e)?e:null}function l4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function u4(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function jS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function c4(i,e){return e}class mn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||c4}}let Rh=null;function h4(i){return!VS(i)||i.length<2?i:jS(i)}function f4(){if(Rh)return Rh;const i=[];i.push(new mn("bucket")),i.push(new mn("generation")),i.push(new mn("metageneration")),i.push(new mn("name","fullPath",!0));function e(u,h){return h4(h)}const n=new mn("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new mn("size");return o.xform=s,i.push(o),i.push(new mn("timeCreated")),i.push(new mn("updated")),i.push(new mn("md5Hash",null,!0)),i.push(new mn("cacheControl",null,!0)),i.push(new mn("contentDisposition",null,!0)),i.push(new mn("contentEncoding",null,!0)),i.push(new mn("contentLanguage",null,!0)),i.push(new mn("contentType",null,!0)),i.push(new mn("metadata","customMetadata",!0)),Rh=i,Rh}function d4(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new jn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function m4(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return d4(s,i),s}function p4(i,e,n){const s=US(e);return s===null?null:m4(i,s,n)}function g4(i,e,n,s){const o=US(e);if(o===null||!VS(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,T=i.fullPath,A="/b/"+h(E)+"/o/"+h(T),O=PS(A,n,s),F=LS({alt:"media",token:g});return O+F})[0]}class y4{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _4(i){if(!i)throw MS()}function v4(i,e){function n(s,o){const u=p4(i,o,e);return _4(u!==null),g4(u,o,i.host,i._protocol)}return n}function E4(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Bk():o=zk():n.getStatus()===402?o=jk(i.bucket):n.getStatus()===403?o=qk(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function b4(i){const e=E4(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=Uk(i.path)),u.serverResponse=o.serverResponse,u}return n}function T4(i,e,n){const s=e.fullServerUrl(),o=PS(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new y4(o,u,v4(i,n),h);return m.errorHandler=b4(e),m}class w4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw tu("cannot .send() more than once");if(Rs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class S4 extends w4{initXhr(){this.xhr_.responseType="text"}}function A4(){return new S4}class Ta{constructor(e,n){this._service=e,n instanceof jn?this._location=n:this._location=jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ta(e,n)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jS(this._location.path)}get storage(){return this._service}get parent(){const e=l4(this._location.path);if(e===null)return null;const n=new jn(this._location.bucket,e);return new Ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $k(e)}}function x4(i){i._throwIfRoot("getDownloadURL");const e=T4(i.storage,i._location,f4());return i.storage.makeRequestWithTokens(e,A4).then(n=>{if(n===null)throw Yk();return n})}function R4(i,e){const n=u4(i._location.path,e),s=new jn(i._location.bucket,n);return new Ta(i.storage,s)}function I4(i){return/^[A-Za-z]+:\/\//.test(i)}function C4(i,e){return new Ta(i,e)}function zS(i,e){if(i instanceof Yg){const n=i;if(n._bucket==null)throw Qk();const s=new Ta(n,n._bucket);return e!=null?zS(s,e):s}else return e!==void 0?R4(i,e):i}function N4(i,e){if(e&&I4(e)){if(i instanceof Yg)return C4(i,e);throw qp("To use ref(service, url), the first argument must be a Storage instance.")}else return zS(i,e)}function pb(i,e){const n=e?.[OS];return n==null?null:jn.makeFromBucketSpec(n,i)}function D4(i,e,n,s={}){i.host=`${e}:${n}`;const o=Rs(e);o&&(Jp(`https://${i.host}/b`),Wp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:zb(u,i.app.options.projectId))}class Yg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=DS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Pk,this._maxUploadRetryTime=Lk,this._requests=new Set,o!=null?this._bucket=jn.makeFromBucketSpec(o,this._host):this._bucket=pb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=pb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ta(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Xk(kS());{const h=o4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const gb="@firebase/storage",yb="0.14.0";const BS="storage";function qS(i){return i=it(i),x4(i)}function HS(i,e){return i=it(i),N4(i,e)}function O4(i=gf(),e){i=it(i);const s=Is(i,BS).getImmediate({identifier:e}),o=Lb("storage");return o&&M4(s,...o),s}function M4(i,e,n,s={}){D4(i,e,n,s)}function k4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Yg(n,s,o,e,Sa)}function V4(){vi(new ni(BS,k4,"PUBLIC").setMultipleInstances(!0)),xn(gb,yb,""),xn(gb,yb,"esm2020")}V4();const P4={apiKey:"AIzaSyCb9w2ZMcSODRN97JvDFhibO-pJFwlNY7E",authDomain:"aiml-be34b.firebaseapp.com",projectId:"aiml-be34b",storageBucket:"aiml-be34b.firebasestorage.app",messagingSenderId:"1042594384829",appId:"1:1042594384829:web:93306b4a88229fa71a20d4",measurementId:"G-Y7T831NVK5"},Bf=Qb(P4);Dk(Bf);const hf=WN(Bf),Se=JO(Bf),FS=O4(Bf),GS=P.createContext(null);function L4({children:i}){const[e,n]=P.useState(null),[s,o]=P.useState(null),[u,h]=P.useState(!0);return P.useEffect(()=>{const m=jC(hf,async p=>{if(n(p),p){const g=ft(Se,"users",p.uid),E=await zn(g);E.exists()?o(E.data()):(await Ca(g,{email:p.email||"",createdAt:Hu()},{merge:!0}),o({email:p.email||""}))}else o(null);h(!1)});return()=>m()},[]),v.jsx(GS.Provider,{value:{user:e,profile:s,loading:u},children:i})}function Rn(){return P.useContext(GS)}function _b({children:i,requireRole:e}){const{user:n,profile:s,loading:o}=Rn();return o?null:n?e&&s?.role!==e?v.jsx(qh,{to:"/",replace:!0}):i:v.jsx(qh,{to:"/login",replace:!0})}const KS=P.createContext(null);function U4({children:i}){const{user:e,loading:n}=Rn(),[s,o]=P.useState([]),[u,h]=P.useState(()=>{if(typeof window<"u")try{return localStorage.getItem("currentClassId")||""}catch{return""}return""}),m=P.useRef(!1);P.useEffect(()=>{async function g(){if(!n){if(!e){o([]),h(""),m.current=!1;try{localStorage.removeItem("currentClassId")}catch{}return}try{const E=Ft(Ut(Se,"class_members"),un("uid","==",e.uid)),A=(await Gt(E)).docs.map(O=>O.data());if(o(A),!m.current&&!u&&A.length===1){h(A[0].classId),m.current=!0;try{localStorage.setItem("currentClassId",A[0].classId)}catch{}}}catch(E){console.error("Error loading class memberships:",E),o([])}}}g()},[e,n]);function p(g){h(g),localStorage.setItem("currentClassId",g)}return v.jsx(KS.Provider,{value:{memberships:s,currentClassId:u,choose:p},children:i})}function Na(){const i=P.useContext(KS);return i||{memberships:[],currentClassId:"",choose:()=>{}}}function j4(){const{memberships:i,currentClassId:e,choose:n}=Na(),[s,o]=P.useState({});return P.useEffect(()=>{async function u(){const h={};for(const m of i){const p=await zn(ft(Se,"classes",m.classId));p.exists()&&(h[m.classId]=p.data().name)}o(h)}u()},[i]),i.length?v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-medium text-gray-600 hidden sm:inline",children:"Class:"}),v.jsxs("select",{className:"rounded-lg border border-gray-300 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors",value:e,onChange:u=>n(u.target.value),children:[v.jsx("option",{value:"",children:"Select a class"}),i.map(u=>v.jsx("option",{value:u.classId,children:s[u.classId]||u.classId},u.classId))]})]}):null}function z4(){const{user:i,profile:e}=Rn(),n=xs(),s=e?.role==="educator";async function o(){await zC(hf),n("/login")}const u=e?.firstName&&e?.lastName?`${e.firstName} ${e.lastName}`.trim():e?.email?.split("@")[0]||"User";return v.jsx("nav",{className:"bg-white border-b border-gray-200 shadow-sm",children:v.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex h-16 items-center justify-between",children:[v.jsxs(Pe,{to:"/",className:"flex items-center gap-2",children:[v.jsx("img",{src:"/logo.jpg",alt:"AIML Initiative",className:"h-10 w-10 object-contain"}),v.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:inline",children:"AIML Initiative"})]}),v.jsxs("div",{className:"hidden md:flex md:items-center md:gap-1",children:[v.jsx(Pe,{to:"/about",className:"px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-indigo-600 transition-colors",children:"About"}),v.jsx(Pe,{to:"/resources",className:"px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-indigo-600 transition-colors",children:"Resources"}),v.jsx(Pe,{to:"/weeks",className:"px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-indigo-600 transition-colors",children:"Coursework"}),i&&v.jsxs(v.Fragment,{children:[v.jsx(Pe,{to:"/progress",className:"px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-indigo-600 transition-colors",children:"Progress"}),s?v.jsx(Pe,{to:"/classes",className:"px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-indigo-600 transition-colors",children:"Classes"}):v.jsx(Pe,{to:"/join",className:"px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-indigo-600 transition-colors",children:"Join Class"})]})]}),v.jsx("div",{className:"flex items-center gap-3",children:i?v.jsxs(v.Fragment,{children:[i&&v.jsx("div",{className:"mx-2",children:v.jsx(j4,{})}),v.jsxs(Pe,{to:"/profile",className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 transition-colors",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),v.jsx("span",{className:"hidden sm:inline",children:u})]}),v.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm hover:shadow",children:"Sign out"})]}):v.jsx(Pe,{to:"/login",className:"px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm hover:shadow",children:"Sign in"})})]})})})}function B4(){return v.jsx("footer",{className:"border-t bg-white",children:v.jsx("div",{className:"mx-auto max-w-6xl px-4 py-8 text-sm text-gray-600",children:v.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 sm:flex-row",children:[v.jsxs("p",{children:[" ",new Date().getFullYear()," AIML Initiative"]}),v.jsxs("div",{className:"flex items-center gap-4",children:["Website created by"," "," ",v.jsx("a",{className:"hover:text-gray-900",href:"https://ibrahimpiri.com",target:"_blank",rel:"noreferrer",children:" Ibrahim Piri "}),"Course content created by Adrian Erlikhman and Michael Tarekegn Contact: aimlinitiative@gmail.com"]})]})})})}function q4(){return v.jsxs("div",{className:"bg-white text-gray-900",children:[v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-16",children:[v.jsxs("div",{className:"flex flex-col items-center mb-8",children:[v.jsx("img",{src:"/logo.jpg",alt:"AIML Initiative",className:"h-24 w-24 object-contain mb-4"}),v.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl text-center",children:"Learn AI with clarity"})]}),v.jsx("p",{className:"mt-3 max-w-2xl text-lg text-gray-600",children:"Workshops, Colab notebooks, and projects that make machine learning feel approachable and useful."}),v.jsxs("div",{className:"mt-6 flex gap-3",children:[v.jsx(Pe,{to:"/resources",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Explore resources"}),v.jsx(Pe,{to:"/about",className:"rounded-lg border px-4 py-2 hover:bg-gray-50",children:"Learn more"})]})]}),v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-12",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Our Focus"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"We design lessons, tools, and projects that help students grasp AI through creative, hands-on learning."}),v.jsxs("div",{className:"mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[v.jsxs("div",{className:"rounded-2xl border p-6",children:[v.jsx("h3",{className:"font-semibold",children:"Education"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Open-source lessons and activities for classrooms and clubs."})]}),v.jsxs("div",{className:"rounded-2xl border p-6",children:[v.jsx("h3",{className:"font-semibold",children:"Collaboration"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Partner with schools, educators, and mentors to make AI literacy accessible."})]}),v.jsxs("div",{className:"rounded-2xl border p-6",children:[v.jsx("h3",{className:"font-semibold",children:"Innovation"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Encourage students to build projects that reflect real-world applications of machine learning."})]})]})]}),v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-16 text-center",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Get Involved"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Join our mission to make AI literacy accessible for everyone."}),v.jsxs("div",{className:"mt-6 flex justify-center gap-3",children:[v.jsx(Pe,{to:"/about",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"About us"}),v.jsx(Pe,{to:"/resources",className:"rounded-lg border px-4 py-2 hover:bg-gray-50",children:"Browse resources"})]})]})]})}function H4(){return v.jsx("div",{className:"bg-white text-gray-900",children:v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-16",children:[v.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-6",children:"About the Course"}),v.jsx("p",{className:"max-w-3xl text-lg text-gray-700 mb-8",children:"This online course on Artificial Intelligence and Machine Learning is designed specifically for high school students. Through interactive guides, hands-on Google Colab notebooks, and engaging quizzes, students learn the fundamentals of AI and ML in an accessible and practical way."}),v.jsxs("div",{className:"mt-10 grid gap-6 sm:grid-cols-2",children:[v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 bg-gray-50",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"For Students"}),v.jsx("p",{className:"text-gray-600",children:"Join a class using a join code from your educator. Work through chapter guides, complete interactive Colab notebooks, and test your knowledge with quizzes. Track your progress as you advance through the course materials."})]}),v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 bg-gray-50",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"For Educators"}),v.jsx("p",{className:"text-gray-600",children:"Create classes and share join codes with your students. Access teacher guides with detailed explanations and answer keys. Monitor student progress, view quiz scores, and see which materials students have completed."})]})]}),v.jsxs("div",{className:"mt-12 rounded-2xl border border-gray-200 p-6 bg-indigo-50",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Course Structure"}),v.jsx("p",{className:"text-gray-700 mb-4",children:"The course is organized into chapters, each containing:"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Student Guides:"})," Clear explanations and step-by-step instructions"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Google Colab Notebooks:"})," Interactive coding exercises you can run directly in your browser"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Quizzes:"})," Test your understanding with immediate feedback on your answers"]})]})]}),v.jsxs("div",{className:"mt-12 rounded-2xl border border-gray-200 p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Get Started"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Ready to begin? Sign up as a student or educator, and start exploring the course materials. If you're a student, ask your teacher for a class join code to get started."}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Questions or feedback? Contact us at"," ",v.jsx("a",{href:"mailto:team@aimlinitiative.org",className:"text-indigo-600 hover:underline",children:"team@aimlinitiative.org"})]})]})]})})}function F4(){return v.jsx("div",{className:"bg-white text-gray-900",children:v.jsxs("section",{className:"mx-auto max-w-6xl px-4 py-16",children:[v.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-6",children:"Course Resources"}),v.jsx("p",{className:"max-w-3xl text-lg text-gray-700 mb-8",children:"This web application provides a comprehensive learning platform for AI and Machine Learning. All course materials are organized by chapter and accessible through your account."}),v.jsxs("div",{className:"mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Chapter Guides"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Detailed student and teacher guides for each chapter, covering key concepts and learning objectives."})]}),v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Interactive Notebooks"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Google Colab notebooks with hands-on coding exercises. Make a copy before editing to save your work."})]}),v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Assessment Quizzes"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Test your understanding with quizzes that provide immediate feedback on your answers."})]}),v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Progress Tracking"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Monitor your completion status for guides, notebooks, and quizzes as you progress through the course."})]}),v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Class Management"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Educators can create classes, share join codes, and track student progress across all chapters."})]}),v.jsxs("div",{className:"rounded-2xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Profile Settings"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Update your name, reset progress, or manage your account settings from your profile page."})]})]}),v.jsxs("div",{className:"mt-12 rounded-2xl border border-gray-200 p-6 bg-gray-50",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"How to Use This Platform"}),v.jsxs("div",{className:"space-y-4 text-gray-700",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-1",children:"For Students:"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm ml-2",children:[v.jsx("li",{children:'Sign up and select "Student" as your role'}),v.jsx("li",{children:"Join a class using the join code provided by your educator"}),v.jsx("li",{children:'Navigate to "Coursework" to see all available chapters'}),v.jsx("li",{children:"Click on a chapter to access the student guide, Colab notebook, and quiz"}),v.jsx("li",{children:"Mark items as complete as you finish them"}),v.jsx("li",{children:'View your overall progress on the "Progress" page'})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-1",children:"For Educators:"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm ml-2",children:[v.jsx("li",{children:'Sign up and select "Educator" as your role'}),v.jsx("li",{children:'Create a class from the "Classes" page and share the join code with students'}),v.jsx("li",{children:"Access teacher guides with detailed explanations and answer keys"}),v.jsx("li",{children:"Monitor student progress and quiz scores from the class detail page"}),v.jsx("li",{children:"View which materials each student has completed"})]})]})]})]}),v.jsxs("div",{className:"mt-12 rounded-2xl border border-gray-200 p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Technical Requirements"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"This platform works best with modern web browsers. For Google Colab notebooks, you'll need:"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[v.jsx("li",{children:"A Google account (to save copies of Colab notebooks)"}),v.jsx("li",{children:"A stable internet connection"}),v.jsx("li",{children:"JavaScript enabled in your browser"})]})]})]})})}function G4(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(""),[p,g]=P.useState("signin"),[E,T]=P.useState("student"),[A,O]=P.useState(""),F=xs(),z=async L=>{L.preventDefault(),O("");try{if(p==="signin")await PC(hf,i.trim(),n),F("/weeks");else{const Y=await VC(hf,i.trim(),n);try{await Ca(ft(Se,"users",Y.user.uid),{email:i.trim(),firstName:o.trim(),lastName:h.trim(),role:E,createdAt:Hu()},{merge:!0})}catch{}F("/weeks")}}catch(Y){O(Y.message)}};return v.jsx("div",{className:"mx-auto max-w-md px-4 py-12",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:p==="signin"?"Sign In":"Create Account"}),v.jsxs("form",{onSubmit:z,className:"space-y-4",children:[v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Email",value:i,onChange:L=>e(L.target.value)}),v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Password",type:"password",value:n,onChange:L=>s(L.target.value)}),p==="signup"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"First name",value:o,onChange:L=>u(L.target.value)}),v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Last name",value:h,onChange:L=>m(L.target.value)})]}),v.jsxs("div",{className:"flex items-center gap-6 pt-2",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"role",value:"student",checked:E==="student",onChange:()=>T("student"),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{className:"text-gray-700 font-medium",children:"Student"})]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"role",value:"educator",checked:E==="educator",onChange:()=>T("educator"),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{className:"text-gray-700 font-medium",children:"Educator"})]})]})]}),A&&v.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:A}),v.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Continue"})]}),v.jsx("div",{className:"mt-6 text-center",children:p==="signin"?v.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 font-medium",onClick:()=>g("signup"),children:"Create an account"}):v.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 font-medium",onClick:()=>g("signin"),children:"Already have an account?"})})]})})}function K4(){const{user:i}=Rn();xs();const[e,n]=P.useState([]),[s,o]=P.useState(""),[u,h]=P.useState(!1),[m,p]=P.useState(""),[g,E]=P.useState(null);async function T(){if(!i)return;const z=Ft(Ut(Se,"classes"),un("ownerUid","==",i.uid)),L=await Gt(z);n(L.docs.map(Y=>({id:Y.id,...Y.data()})))}P.useEffect(()=>{T()},[i]);async function A(){for(;;){const z=Math.random().toString(36).slice(2,8).toUpperCase(),L=Ft(Ut(Se,"classes"),un("code","==",z));if((await Gt(L)).empty)return z}}async function O(){if(s.trim()&&i){p(""),h(!0);try{const z=await A(),L=await cM(Ut(Se,"classes"),{ownerUid:i.uid,name:s.trim(),code:z,createdAt:Hu()});await Ca(ft(Se,"class_members",`${L.id}_${i.uid}`),{classId:L.id,uid:i.uid,role:"educator"}),o(""),await T()}catch(z){p(z.message)}finally{h(!1)}}}async function F(z){if(window.confirm("Are you sure you want to delete this class? This will remove all student memberships, progress, and quiz attempts. This action cannot be undone.")){E(z);try{const L=Ft(Ut(Se,"class_members"),un("classId","==",z)),Y=await Gt(L),J=Ft(Ut(Se,"progress"),un("classId","==",z)),ie=await Gt(J),se=Ft(Ut(Se,"attempts"),un("classId","==",z)),he=await Gt(se),oe=zp(Se);Y.docs.forEach(I=>oe.delete(I.ref)),ie.docs.forEach(I=>oe.delete(I.ref)),he.docs.forEach(I=>oe.delete(I.ref)),oe.delete(ft(Se,"classes",z)),await oe.commit(),await T()}catch(L){p("Error deleting class: "+L.message)}finally{E(null)}}}return v.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Your Classes"}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx("input",{className:"flex-1 rounded-lg border border-gray-300 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Class name",value:s,onChange:z=>o(z.target.value)}),v.jsx("button",{className:"px-6 py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",onClick:O,disabled:u,children:u?"Creating...":"Create Class"})]}),m&&v.jsx("p",{className:"mt-3 text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:m})]}),v.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(z=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",children:[v.jsxs(Pe,{to:`/classes/${z.id}`,className:"block mb-3",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 hover:text-indigo-600 transition-colors",children:z.name}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Join code: ",v.jsx("span",{className:"font-mono font-semibold text-indigo-600",children:z.code})]})]}),v.jsx("button",{onClick:()=>F(z.id),disabled:g===z.id,className:"w-full mt-3 px-4 py-2 text-sm font-semibold text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:g===z.id?"Deleting...":"Delete Class"})]},z.id))})]})}function Q4(){const{classId:i}=Ru(),e=xs(),{user:n,profile:s}=Rn(),{choose:o}=Na(),[u,h]=P.useState(null),[m,p]=P.useState([]),[g,E]=P.useState([]),[T,A]=P.useState([]),[O,F]=P.useState({}),[z,L]=P.useState([]),[Y,J]=P.useState(!1),ie=u?.ownerUid===n?.uid,se=s?.role==="student"&&m.some(x=>x.uid===n?.uid&&x.role==="student");P.useEffect(()=>{async function x(){const R=await zn(ft(Se,"classes",i));h({id:R.id,...R.data()});const D=(await Gt(Ft(Ut(Se,"class_members"),un("classId","==",i)))).docs.map(be=>be.data());p(D);const U=Array.from(new Set(D.map(be=>be.uid))),C=await Promise.all(U.map(async be=>{const k=await zn(ft(Se,"users",be));return[be,k.exists()?k.data():null]})),Ye={};for(const[be,k]of C)Ye[be]=k;F(Ye);const gt=Ft(Ut(Se,"attempts"),un("classId","==",i),lf("submittedAt","desc")),$=await Gt(gt);E($.docs.map(be=>({id:be.id,...be.data()})));const ae=Ft(Ut(Se,"progress"),un("classId","==",i)),pe=await Gt(ae);A(pe.docs.map(be=>be.data()));const je=await Gt(Ft(Ut(Se,"weeks"),lf("index","asc")));L(je.docs.map(be=>({id:be.id,...be.data()})))}x()},[i]);function he(x){const R=O[x];if(!R)return x;const M=R.firstName||"",D=R.lastName||"";return`${M} ${D}`.trim()||R.email||x}const oe=T.reduce((x,R)=>(x[R.uid]||(x[R.uid]={}),x[R.uid][R.weekId]=R,x),{});async function I(){if(!(!n||!window.confirm("Are you sure you want to leave this class? Your progress will be preserved but you won't be able to access this class anymore."))){J(!0);try{await uM(ft(Se,"class_members",`${i}_${n.uid}`)),e("/join")}catch(x){alert("Error leaving class: "+x.message)}finally{J(!1)}}}return u?se&&!ie?v.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-12",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:u.name}),v.jsxs("p",{className:"text-gray-600",children:["Join code: ",v.jsx("span",{className:"font-mono font-semibold text-indigo-600",children:u.code})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Class Information"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"You are enrolled in this class. View your progress on the Progress page."}),v.jsx("button",{onClick:I,disabled:Y,className:"px-6 py-2.5 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",children:Y?"Leaving...":"Leave Class"})]})]}):s?.role!=="educator"&&!ie?v.jsx("div",{className:"mx-auto max-w-4xl px-4 py-12",children:v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:v.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this class."})})}):v.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-12",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:u.name}),v.jsxs("p",{className:"text-gray-600",children:["Join code: ",v.jsx("span",{className:"font-mono font-semibold text-indigo-600",children:u.code})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Roster"}),v.jsxs("ul",{className:"space-y-2",children:[m.map(x=>v.jsxs("li",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[v.jsx("span",{className:"text-gray-900",children:he(x.uid)}),v.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700",children:x.role})]},`${x.classId}_${x.uid}`)),!m.length&&v.jsx("li",{className:"text-gray-600",children:"No members yet."})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Quiz Attempts"}),v.jsxs("div",{className:"space-y-3",children:[g.map(x=>v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[v.jsxs("p",{className:"font-medium text-gray-900",children:["Student: ",he(x.uid)]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Quiz: ",x.quizId]}),v.jsxs("p",{className:"text-sm font-semibold text-indigo-600",children:["Score: ",x.score," (",x.percent,"%)"]})]},x.id)),!g.length&&v.jsx("p",{className:"text-gray-600",children:"No attempts yet."})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Progress"}),v.jsxs("div",{className:"space-y-6",children:[m.filter(x=>x.role==="student").map(x=>{const R=oe[x.uid]||{};return v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:he(x.uid)}),v.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[z.map(M=>{const D=R[M.id]||{},U=D.guideComplete?"":"",C=D.colabComplete?"":"",Ye=D.quizComplete?` (${D.quizPercent??0}%)`:"";return v.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 text-sm",children:[v.jsxs("p",{className:"font-semibold text-gray-900 mb-2",children:["Chapter ",M.index,": ",M.title]}),v.jsxs("p",{className:"text-gray-600",children:["Guide: ",v.jsx("span",{className:D.guideComplete?"text-green-600 font-medium":"",children:U})]}),v.jsxs("p",{className:"text-gray-600",children:["Colab: ",v.jsx("span",{className:D.colabComplete?"text-green-600 font-medium":"",children:C})]}),M.quizId&&v.jsxs("p",{className:"text-gray-600",children:["Quiz: ",v.jsx("span",{className:D.quizComplete?"text-green-600 font-medium":"",children:Ye})]})]},M.id)}),!z.length&&v.jsx("p",{className:"text-sm text-gray-600",children:"No weeks available."})]})]},x.uid)}),!m.some(x=>x.role==="student")&&v.jsx("p",{className:"text-gray-600",children:"No students have joined this class yet."})]})]})]}):v.jsx("div",{className:"mx-auto max-w-4xl px-4 py-12",children:v.jsx("p",{className:"text-gray-600",children:"Loading..."})})}function Y4(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(!1),{user:h}=Rn(),{choose:m}=Na();async function p(g){if(g.preventDefault(),s(""),!h){s("Sign in to join a class.");return}const E=i.trim().toUpperCase();if(!E){s("Enter a class code.");return}u(!0);try{const T=Ft(Ut(Se,"classes"),un("code","==",E)),A=await Gt(T);if(A.empty){s("Class not found. Check the code and try again.");return}const O=A.docs[0],F=O.id;await Ca(ft(Se,"class_members",`${F}_${h.uid}`),{classId:F,uid:h.uid,role:"student"},{merge:!0}),m(F),s(`Joined class: ${O.data().name}`),e("")}catch(T){s(T.message)}finally{u(!1)}}return v.jsx("div",{className:"mx-auto max-w-md px-4 py-12",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Join a Class"}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all uppercase",placeholder:"Enter class code",value:i,onChange:g=>e(g.target.value)}),v.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",disabled:o,children:o?"Joining...":"Join Class"})]}),n&&v.jsx("p",{className:`mt-4 p-3 rounded-lg text-sm ${n.includes("Joined")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:n})]})})}function $4(){const{user:i,profile:e}=Rn(),n=e?.role==="educator",[s,o]=P.useState([]),[u,h]=P.useState(!0),[m,p]=P.useState(null);return P.useEffect(()=>{async function g(){try{h(!0),p(null);const E=Ft(Ut(Se,"weeks"),lf("index","asc")),T=await Gt(E);o(T.docs.map(A=>({id:A.id,...A.data()})))}catch(E){console.error("Error loading weeks:",E),p("Failed to load course chapters. Please try again later.")}finally{h(!1)}}g()},[]),v.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Course Chapters"}),!i&&v.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:v.jsxs("p",{className:"text-sm text-yellow-800",children:[v.jsx("strong",{children:"Note:"})," You are viewing this content without being logged in. Your progress and quiz scores will not be saved.",v.jsx(Pe,{to:"/login",className:"underline ml-1",children:"Sign in"})," to save your work and track your progress."]})}),m&&v.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4",children:v.jsx("p",{className:"text-sm text-red-800",children:m})}),u?v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-600",children:"Loading course chapters..."})}):v.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(g=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[v.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Chapter ",g.index,": ",g.title]}),v.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[v.jsx(Pe,{to:`/weeks/${g.id}`,className:"text-center px-4 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200 border border-gray-300",children:"Student Guide"}),n&&v.jsx(Pe,{to:`/weeks/${g.id}/teacher`,className:"text-center px-4 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-sm",children:"Teacher Guide"})]}),g.colabUrl&&v.jsx(Pe,{to:`/colab/${g.id}`,className:"block text-center px-4 py-2.5 mb-2 bg-blue-50 text-blue-700 font-medium rounded-lg hover:bg-blue-100 transition-colors duration-200 border border-blue-200",children:"Open Colab Notebook"}),g.quizId&&v.jsx(Pe,{to:`/quiz/${g.quizId}`,className:"block text-center px-4 py-2.5 bg-indigo-50 text-indigo-700 font-medium rounded-lg hover:bg-indigo-100 transition-colors duration-200 border border-indigo-200",children:"Take Quiz"})]},g.id))})]})}async function QS(i,e,n,s,o){const u=`${i}_${n}_${e}`;await Ca(ft(Se,"progress",u),{uid:i,classId:e,weekId:n,[s]:o,lastUpdated:Hu()},{merge:!0})}async function X4(i,e,n,s){const o=`${i}_${n}_${e}`;await Ca(ft(Se,"progress",o),{uid:i,classId:e,weekId:n,...s,lastUpdated:Hu()},{merge:!0})}function J4(){const{weekId:i}=Ru(),{user:e}=Rn(),{currentClassId:n}=Na(),[s,o]=P.useState(null),[u,h]=P.useState(null),[m,p]=P.useState(null),[g,E]=P.useState(!0),[T,A]=P.useState(null);async function O(z){if(!z)return"";if(z.guideHtml)return z.guideHtml;const L=[z.guideHtmlPath,z.htmlPath,z.guidePath,z.path].filter(Boolean);for(const Y of L)try{let J="";if(/^https?:\/\//i.test(Y))J=await fetch(Y).then(ie=>ie.text());else{const ie=await qS(HS(FS,Y));J=await fetch(ie).then(se=>se.text())}if(J)return J}catch{}if(z.guideUrl)try{const Y=await fetch(z.guideUrl).then(J=>J.text());if(Y)return Y}catch{}return""}if(P.useEffect(()=>{async function z(){try{E(!0),A(null);const L=await zn(ft(Se,"weeks",i));if(L.exists()){const Y={id:L.id,...L.data()};o(Y);try{const J=await zn(ft(Se,"materials_student",i));if(J.exists()){const ie=J.data(),se=await O(ie);h({...ie,guideHtmlResolved:se})}else h(null)}catch(J){console.error("Error loading student materials:",J),h(null)}}else o(null),h(null)}catch(L){console.error("Error loading week:",L),A("Failed to load chapter content. Please try again later.")}finally{E(!1)}}z()},[i]),P.useEffect(()=>{async function z(){if(!e||!n||!s){p(null);return}const L=`${e.uid}_${s.id}_${n}`,Y=await zn(ft(Se,"progress",L));p(Y.exists()?Y.data():null)}z()},[e,n,s]),g)return v.jsx("div",{className:"mx-auto max-w-3xl px-4 py-16",children:v.jsx("p",{className:"text-gray-600",children:"Loading chapter content..."})});if(T)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:v.jsx("p",{className:"text-sm text-red-800",children:T})}),v.jsx(Pe,{to:"/weeks",className:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Back to Coursework"})]});if(!s)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Chapter not found"}),v.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Check with your educator for course materials."}),v.jsx(Pe,{to:"/weeks",className:"mt-4 inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Back to Coursework"})]});async function F(z){if(!e||!n)return;const L=!m?.[z];await QS(e.uid,n,s.id,z,L),p(Y=>({uid:e.uid,classId:n,weekId:s.id,...Y||{},[z]:L}))}return v.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-12",children:[v.jsx("div",{className:"mb-8",children:v.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Chapter ",s.index,": ",s.title]})}),!e&&v.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:v.jsxs("p",{className:"text-sm text-yellow-800",children:[v.jsx("strong",{children:"Note:"})," You are viewing this content without being logged in. Your progress will not be saved.",v.jsx(Pe,{to:"/login",className:"underline ml-1",children:"Sign in"})," to save your work and track your progress."]})}),u?v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8",children:v.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:u.guideHtmlResolved||u.guideHtml||""}})}):v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8",children:v.jsx("p",{className:"text-gray-600",children:"Student guide coming soon."})}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[!e||!n?v.jsxs("div",{className:"text-center py-3",children:[v.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e?"Join a class to track your progress.":"Sign in to mark this guide as complete."}),!e&&v.jsx(Pe,{to:"/login",className:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Sign in"})]}):v.jsx("button",{className:`w-full px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${m?.guideComplete?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,onClick:()=>F("guideComplete"),children:m?.guideComplete?" Guide completed (click to unmark)":"Mark guide complete"}),v.jsx(Pe,{to:"/weeks",className:"mt-3 block w-full text-center px-5 py-2.5 rounded-lg font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300 transition-colors duration-200",children:"Back to Coursework"})]})]})}function W4(){const{weekId:i}=Ru(),[e,n]=P.useState(null),[s,o]=P.useState(null),[u,h]=P.useState("");return P.useEffect(()=>{async function m(){const p=await zn(ft(Se,"weeks",i));n(p.exists()?{id:p.id,...p.data()}:null);const g=await zn(ft(Se,"materials_teacher",i));if(g.exists()){const E=g.data();o(E);let T=E.guideHtml||"";if(!T){const A=[E.guideHtmlPath,E.htmlPath,E.guidePath,E.path].filter(Boolean);for(const O of A)try{if(/^https?:\/\//i.test(O))T=await fetch(O).then(F=>F.text());else{const F=await qS(HS(FS,O));T=await fetch(F).then(z=>z.text())}if(T)break}catch{}if(!T&&E.guideUrl)try{T=await fetch(E.guideUrl).then(O=>O.text())}catch{T=""}}h(T)}else o(null),h("")}m()},[i]),e?v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsxs("h1",{className:"text-3xl font-bold",children:["Teacher materials for Chapter ",e.index]}),s?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"prose mt-6",dangerouslySetInnerHTML:{__html:u}}),s.answerKeyNote&&v.jsxs("div",{className:"mt-6 rounded border p-4",children:[v.jsx("h2",{className:"font-semibold",children:"Answer key notes"}),v.jsx("p",{className:"text-sm text-gray-700",children:s.answerKeyNote})]})]}):v.jsx("p",{className:"mt-6 text-sm text-gray-600",children:"Teacher materials coming soon."}),v.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:v.jsx(Pe,{to:"/weeks",className:"block w-full text-center px-5 py-2.5 rounded-lg font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300 transition-colors duration-200",children:"Back to Coursework"})})]}):v.jsx("div",{className:"mx-auto max-w-3xl px-4 py-16",children:v.jsx("h1",{className:"text-3xl font-bold",children:"Chapter not found"})})}function Z4(){const{quizId:i}=Ru(),{user:e}=Rn(),{currentClassId:n}=Na(),[s,o]=P.useState(null),[u,h]=P.useState({}),[m,p]=P.useState(null),[g,E]=P.useState({}),[T,A]=P.useState(null),[O,F]=P.useState(!1),[z,L]=P.useState(!0),[Y,J]=P.useState(null);if(P.useEffect(()=>{async function se(){try{L(!0),J(null);const he=await zn(ft(Se,"quizzes",i));he.exists()?o(he.data()):o(null);try{const oe=await zn(ft(Se,"quiz_answers",i));oe.exists()?(E(oe.data().key||{}),A(oe.data().weekId||null)):(E({}),A(null))}catch(oe){console.error("Error loading answer key:",oe),E({}),A(null)}}catch(he){console.error("Error loading quiz:",he),J("Failed to load quiz. Please try again later.")}finally{L(!1)}}se()},[i]),z)return v.jsx("div",{className:"mx-auto max-w-3xl px-4 py-16",children:v.jsx("p",{className:"text-gray-600",children:"Loading quiz..."})});if(Y)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:v.jsx("p",{className:"text-sm text-red-800",children:Y})}),v.jsx(Pe,{to:"/weeks",className:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Back to Coursework"})]});if(!s)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Quiz not found"}),v.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Check with your educator for the latest materials."}),v.jsx(Pe,{to:"/weeks",className:"mt-4 inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Back to Coursework"})]});async function ie(se){if(se.preventDefault(),O)return;let he=0,oe=0;const I=s.questions.map(R=>{oe+=1;const M=u[R.id]??null,D=g[R.id],U=M===D;return U&&(he+=1),{id:R.id,selected:M,correctAnswer:D,isCorrect:U}}),x=oe?Math.round(he*100/oe):0;p({score:he,percent:x,breakdown:I,total:oe}),F(!0),e&&n&&T&&await X4(e.uid,n,T,{quizComplete:!0,quizScore:he,quizPercent:x})}return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:s.title}),!e&&v.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:v.jsxs("p",{className:"text-sm text-yellow-800",children:[v.jsx("strong",{children:"Note:"})," You are taking this quiz without being logged in. Your quiz score will not be saved.",v.jsx(Pe,{to:"/login",className:"underline ml-1",children:"Sign in"})," to save your quiz results and track your progress."]})}),v.jsxs("form",{onSubmit:ie,className:"mt-6 space-y-6",children:[s.questions?.map(se=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsx("p",{className:"font-semibold text-gray-900 mb-4 text-lg",children:se.prompt}),v.jsx("div",{className:"space-y-3",children:se.choices.map(he=>v.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border border-gray-200 transition-colors ${O?"cursor-not-allowed opacity-60":"hover:bg-gray-50 cursor-pointer"}`,children:[v.jsx("input",{type:"radio",name:se.id,value:he,checked:u[se.id]===he,onChange:oe=>!O&&h(I=>({...I,[se.id]:oe.target.value})),disabled:O,className:"w-5 h-5 text-indigo-600 focus:ring-indigo-500 disabled:cursor-not-allowed"}),v.jsx("span",{className:"text-gray-700",children:he})]},he))})]},se.id)),v.jsx("button",{type:"submit",disabled:O,className:"w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",children:O?"Quiz Submitted":"Submit Quiz"}),v.jsx(Pe,{to:"/weeks",className:"mt-3 block w-full text-center px-5 py-2.5 rounded-lg font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300 transition-colors duration-200",children:"Back to Coursework"})]}),m&&v.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[v.jsxs("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Score: ",v.jsx("span",{className:"text-indigo-600",children:m.score})," / ",m.total]}),v.jsxs("p",{className:"text-lg text-gray-600",children:["Percent: ",v.jsxs("strong",{className:"text-indigo-600",children:[m.percent,"%"]})]})]}),v.jsx("div",{className:"space-y-4",children:m.breakdown.map(se=>v.jsxs("div",{className:`rounded-lg p-4 border-2 ${se.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[v.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:s.questions.find(he=>he.id===se.id)?.prompt}),v.jsxs("p",{className:`text-sm font-medium ${se.isCorrect?"text-green-700":"text-red-700"}`,children:["Your answer: ",se.selected??""," ",se.isCorrect?" Correct":" Incorrect"]}),!se.isCorrect&&v.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["Correct answer: ",v.jsx("strong",{className:"text-green-700",children:se.correctAnswer??"Unavailable"})]})]},se.id))})]})]})}function e6(){const{weekId:i}=Ru(),{user:e}=Rn(),{currentClassId:n}=Na(),[s,o]=P.useState(null),[u,h]=P.useState(null),[m,p]=P.useState(!0),[g,E]=P.useState(null);if(P.useEffect(()=>{async function A(){try{p(!0),E(null);const O=await zn(ft(Se,"weeks",i));O.exists()?o({id:O.id,...O.data()}):o(null)}catch(O){console.error("Error loading week:",O),E("Failed to load chapter content. Please try again later.")}finally{p(!1)}}A()},[i]),P.useEffect(()=>{async function A(){if(!e||!n||!s){h(null);return}const O=`${e.uid}_${s.id}_${n}`,F=await zn(ft(Se,"progress",O));h(F.exists()?F.data():null)}A()},[e,n,s]),m)return v.jsx("div",{className:"mx-auto max-w-3xl px-4 py-16",children:v.jsx("p",{className:"text-gray-600",children:"Loading chapter content..."})});if(g)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:v.jsx("p",{className:"text-sm text-red-800",children:g})}),v.jsx(Pe,{to:"/weeks",className:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Back to Coursework"})]});if(!s)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Chapter not found"}),v.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Check with your educator for course materials."}),v.jsx(Pe,{to:"/weeks",className:"mt-4 inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Back to Coursework"})]});if(!s.colabUrl)return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-16",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Colab Notebook Not Available"}),v.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"This chapter does not have a Colab notebook associated with it."})]});async function T(){if(!e||!n)return;const A=!u?.colabComplete;await QS(e.uid,n,s.id,"colabComplete",A),h(O=>({uid:e.uid,classId:n,weekId:s.id,...O||{},colabComplete:A}))}return v.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-12",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Chapter ",s.index,": ",s.title]}),v.jsx("p",{className:"text-lg text-gray-600",children:"Google Colab Notebook"})]}),!e&&v.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:v.jsxs("p",{className:"text-sm text-yellow-800",children:[v.jsx("strong",{children:"Note:"})," You are viewing this content without being logged in. Your progress will not be saved.",v.jsx(Pe,{to:"/login",className:"underline ml-1",children:"Sign in"})," to save your work and track your progress."]})}),v.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[v.jsxs("a",{className:"inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg hover:from-blue-700 hover:to-indigo-700 transform hover:scale-105 transition-all duration-200 hover:shadow-xl",href:s.colabUrl,target:"_blank",rel:"noreferrer",children:[v.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open Colab Notebook"]}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Please make a copy of the notebook before using it."})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[!e||!n?v.jsxs("div",{className:"text-center py-3",children:[v.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e?"Join a class to track your progress.":"Sign in to mark this notebook as complete."}),!e&&v.jsx(Pe,{to:"/login",className:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 underline",children:"Sign in"})]}):v.jsx("button",{className:`w-full px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${u?.colabComplete?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,onClick:T,children:u?.colabComplete?" Colab completed (click to unmark)":"Mark Colab complete"}),v.jsx(Pe,{to:"/weeks",className:"mt-3 block w-full text-center px-5 py-2.5 rounded-lg font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300 transition-colors duration-200",children:"Back to Coursework"})]})]})}function Ih({children:i}){const{user:e,profile:n,loading:s}=Rn();return s?null:e?n?.role?i:v.jsx(qh,{to:"/role",replace:!0}):v.jsx(qh,{to:"/login",replace:!0})}function t6(){const{user:i,profile:e}=Rn(),[n,s]=P.useState("student"),[o,u]=P.useState(!1),[h,m]=P.useState(""),p=xs();if(P.useEffect(()=>{e?.role&&p("/weeks",{replace:!0})},[e?.role,p]),!i)return null;async function g(){m(""),u(!0);try{await Ca(ft(Se,"users",i.uid),{role:n},{merge:!0}),p("/weeks",{replace:!0})}catch(E){m(E.message)}finally{u(!1)}}return v.jsxs("div",{className:"mx-auto max-w-md px-4 py-16",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Choose your role"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Select your account type to continue."}),v.jsxs("div",{className:"mt-6 space-y-3",children:[v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"role",value:"student",checked:n==="student",onChange:()=>s("student")}),v.jsx("span",{children:"Student"})]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"role",value:"educator",checked:n==="educator",onChange:()=>s("educator")}),v.jsx("span",{children:"Educator"})]})]}),h&&v.jsx("p",{className:"mt-3 text-sm text-red-600",children:h}),v.jsx("button",{onClick:g,disabled:o,className:"mt-6 rounded bg-blue-600 px-4 py-2 text-white disabled:opacity-60",children:"Continue"})]})}function n6(){const{user:i}=Rn(),{currentClassId:e}=Na(),[n,s]=P.useState([]),[o,u]=P.useState([]);P.useEffect(()=>{async function E(){const T=Ft(Ut(Se,"weeks"),lf("index","asc")),A=await Gt(T);u(A.docs.map(O=>({id:O.id,...O.data()})))}E()},[]),P.useEffect(()=>{async function E(){if(!i||!e){s([]);return}const T=Ft(Ut(Se,"progress"),un("uid","==",i.uid),un("classId","==",e)),A=await Gt(T);s(A.docs.map(O=>O.data()))}E()},[i,e]);const h=P.useMemo(()=>{const E={};for(const T of n)E[T.weekId]=T;return E},[n]),{totalTasks:m,completedTasks:p}=P.useMemo(()=>{let E=0,T=0;for(const A of o){E+=2;const O=h[A.id];O?.guideComplete&&(T+=1),O?.colabComplete&&(T+=1),A.quizId&&(E+=1,O?.quizComplete&&(T+=1))}return{totalTasks:E,completedTasks:T}},[o,h]),g=m?Math.round(p*100/m):0;return v.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Your Progress"}),!i&&v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:v.jsx("p",{className:"text-gray-600",children:"Sign in to view your progress."})}),i&&!e&&v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:v.jsx("p",{className:"text-gray-600",children:"Pick a class first (top bar)."})}),i&&e&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Overall Completion"}),v.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:[g,"%"]})]}),v.jsx("div",{className:"h-4 w-full rounded-full bg-gray-200 overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-indigo-600 transition-all duration-500 rounded-full",style:{width:`${g}%`}})}),v.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:[p," of ",m," tasks completed"]})]}),v.jsx("div",{className:"space-y-4",children:o.map(E=>{const T=h[E.id]||{};return v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Chapter ",E.index,": ",E.title]}),v.jsxs("ul",{className:"space-y-2",children:[v.jsxs("li",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`text-xl ${T.guideComplete?"text-green-600":"text-gray-400"}`,children:T.guideComplete?"":""}),v.jsxs("span",{className:`${T.guideComplete?"text-gray-900 font-medium":"text-gray-600"}`,children:["Student guide ",T.guideComplete?"(completed)":"(not yet)"]})]}),v.jsxs("li",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`text-xl ${T.colabComplete?"text-green-600":"text-gray-400"}`,children:T.colabComplete?"":""}),v.jsxs("span",{className:`${T.colabComplete?"text-gray-900 font-medium":"text-gray-600"}`,children:["Colab ",T.colabComplete?"(completed)":"(not yet)"]})]}),E.quizId&&v.jsxs("li",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`text-xl ${T.quizComplete?"text-green-600":"text-gray-400"}`,children:T.quizComplete?"":""}),v.jsxs("span",{className:`${T.quizComplete?"text-gray-900 font-medium":"text-gray-600"}`,children:["Quiz ",T.quizComplete?`(scored ${T.quizPercent??0}%)`:"(not yet)"]})]})]})]},E.id)})})]}),i&&e&&!n.length&&v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:v.jsx("p",{className:"text-gray-600",children:"No progress yet. Open a chapter to get started."})})]})}function i6(){const{user:i,profile:e}=Rn(),n=xs(),[s,o]=P.useState(e?.firstName||""),[u,h]=P.useState(e?.lastName||""),[m,p]=P.useState(!1),[g,E]=P.useState(""),[T,A]=P.useState(!1),[O,F]=P.useState(!1),[z,L]=P.useState(!1),[Y,J]=P.useState(!1);async function ie(){if(i){p(!0),E("");try{await lM(ft(Se,"users",i.uid),{firstName:s.trim(),lastName:u.trim()}),E("Name updated successfully!"),setTimeout(()=>E(""),3e3)}catch(oe){E("Error updating name: "+oe.message)}finally{p(!1)}}}async function se(){if(!(!i||!T)){L(!0),E("");try{const oe=Ft(Ut(Se,"progress"),un("uid","==",i.uid)),I=await Gt(oe),x=zp(Se);I.docs.forEach(R=>{x.delete(R.ref)}),await x.commit(),E("All progress has been reset."),A(!1),setTimeout(()=>E(""),3e3)}catch(oe){E("Error resetting progress: "+oe.message)}finally{L(!1)}}}async function he(){if(!(!i||!O)){J(!0),E("");try{const oe=Ft(Ut(Se,"progress"),un("uid","==",i.uid)),I=await Gt(oe),x=Ft(Ut(Se,"attempts"),un("uid","==",i.uid)),R=await Gt(x),M=Ft(Ut(Se,"class_members"),un("uid","==",i.uid)),D=await Gt(M),U=zp(Se);I.docs.forEach(C=>U.delete(C.ref)),R.docs.forEach(C=>U.delete(C.ref)),D.docs.forEach(C=>U.delete(C.ref)),U.delete(ft(Se,"users",i.uid)),await U.commit(),await BC(i),n("/login")}catch(oe){E("Error deleting account: "+oe.message),J(!1)}}}return v.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Profile Settings"}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Update Name"}),v.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-4",children:[v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"First name",value:s,onChange:oe=>o(oe.target.value)}),v.jsx("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Last name",value:u,onChange:oe=>h(oe.target.value)})]}),v.jsx("button",{onClick:ie,disabled:m,className:"px-6 py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",children:m?"Saving...":"Save Name"})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Reset Progress"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will permanently delete all your progress across all classes. This action cannot be undone."}),T?v.jsxs("div",{className:"space-y-3",children:[v.jsx("p",{className:"text-sm font-medium text-red-600",children:"Are you sure? This cannot be undone."}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:se,disabled:z,className:"px-6 py-2.5 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",children:z?"Resetting...":"Yes, Reset Progress"}),v.jsx("button",{onClick:()=>A(!1),disabled:z,className:"px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200",children:"Cancel"})]})]}):v.jsx("button",{onClick:()=>A(!0),className:"px-6 py-2.5 bg-yellow-600 text-white font-semibold rounded-lg hover:bg-yellow-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Reset All Progress"})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Delete Account"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),O?v.jsxs("div",{className:"space-y-3",children:[v.jsx("p",{className:"text-sm font-medium text-red-600",children:"Are you absolutely sure? This will permanently delete your account and all data."}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:he,disabled:Y,className:"px-6 py-2.5 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 shadow-md hover:shadow-lg",children:Y?"Deleting...":"Yes, Delete Account"}),v.jsx("button",{onClick:()=>F(!1),disabled:Y,className:"px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200",children:"Cancel"})]})]}):v.jsx("button",{onClick:()=>F(!0),className:"px-6 py-2.5 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Delete Account"})]}),g&&v.jsx("div",{className:`mt-6 p-4 rounded-lg ${g.includes("Error")||g.includes("delete")||g.includes("reset")?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:g})]})}function r6(){return v.jsx(KR,{children:v.jsx(L4,{children:v.jsx(U4,{children:v.jsxs("div",{className:"flex min-h-screen flex-col bg-gray-50",children:[v.jsx(z4,{}),v.jsx("main",{className:"flex-1",children:v.jsxs(wR,{children:[v.jsx(an,{path:"/",element:v.jsx(q4,{})}),v.jsx(an,{path:"/about",element:v.jsx(H4,{})}),v.jsx(an,{path:"/resources",element:v.jsx(F4,{})}),v.jsx(an,{path:"/login",element:v.jsx(G4,{})}),v.jsx(an,{path:"/role",element:v.jsx(t6,{})}),v.jsx(an,{path:"/classes",element:v.jsx(_b,{requireRole:"educator",children:v.jsx(K4,{})})}),v.jsx(an,{path:"/classes/:classId",element:v.jsx(Ih,{children:v.jsx(Q4,{})})}),v.jsx(an,{path:"/join",element:v.jsx(Ih,{children:v.jsx(Y4,{})})}),v.jsx(an,{path:"/weeks",element:v.jsx($4,{})}),v.jsx(an,{path:"/weeks/:weekId",element:v.jsx(J4,{})}),v.jsx(an,{path:"/weeks/:weekId/teacher",element:v.jsx(_b,{requireRole:"educator",children:v.jsx(W4,{})})}),v.jsx(an,{path:"/colab/:weekId",element:v.jsx(e6,{})}),v.jsx(an,{path:"/quiz/:quizId",element:v.jsx(Z4,{})}),v.jsx(an,{path:"/progress",element:v.jsx(Ih,{children:v.jsx(n6,{})})}),v.jsx(an,{path:"/profile",element:v.jsx(Ih,{children:v.jsx(i6,{})})})]})}),v.jsx(B4,{})]})})})})}Mx.createRoot(document.getElementById("root")).render(v.jsx(P.StrictMode,{children:v.jsx(r6,{})}));
